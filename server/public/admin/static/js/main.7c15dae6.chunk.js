(this.webpackJsonpadmin=this.webpackJsonpadmin||[]).push([[0],{134:function(e,a,t){},218:function(e,a,t){},242:function(e,a,t){},317:function(e,a,t){e.exports=t(607)},322:function(e,a,t){},364:function(e,a,t){},460:function(e,a,t){e.exports=t.p+"static/media/loader.e6dcd181.gif"},461:function(e,a,t){},500:function(e,a,t){},604:function(e,a,t){},607:function(e,a,t){"use strict";t.r(a);var r=t(0),n=t.n(r),l=t(22),c=t.n(l),o=(t(322),t(218),t(27));var s=Object(o.b)((function(e){return{loader:e.Loader}}),{})((function(e){return n.a.createElement("div",{className:e.loader.loading_active>0?"loader-wrapper vsbl":"loader-wrapper nt-vsbl"},n.a.createElement("div",{id:"loader_bar"},n.a.createElement("b",null),n.a.createElement("i",null)))})),i=t(25),u=t(49),m=t(186);var d=Object(o.b)((function(e){return{Auth:e.Auth}}),{})((function(e){var a=e.children,t=e.Auth,r=Object(m.a)(e,["children","Auth"]);return n.a.createElement(u.b,Object.assign({},r,{render:function(e){e.location;return t.isLoggedIn?n.a.createElement(u.a,{to:{pathname:"/dashboard"}}):a}}))}));var p=Object(o.b)((function(e){return{Auth:e.Auth}}),{})((function(e){var a=e.children,t=e.Auth,r=Object(m.a)(e,["children","Auth"]);return n.a.createElement(u.b,Object.assign({},r,{render:function(e){var r=e.location;return t.isLoggedIn?a:n.a.createElement(u.a,{to:{pathname:"/login",state:{from:r}}})}}))})),E={BASE_LOCAL_URL:"",BASE_SERVER_URL:"https://bandhansolutions.herokuapp.com",LOGIN_WITH_EMAIL_AND_PASSWORD:"/apis/v1/login-with-email-password",GET_USER_DETAILS:"/apis/v1/userdetails",GET_PROFILE_DETAILS:"/apis/v1/profiledetails",UPDATE_PROFILE_DETAILS:"/apis/v1/update-profile",UPLOAD_USER_AVATAR:"/apis/v1/upload-avatar",USER_CREATE:"/apis/v1/user/create",LIST_USERS:"/apis/v1/user/list",CATEGORY_CREATE:"/apis/v1/category/create",LIST_CATEGORY:"/apis/v1/category/list",CREATE_PRODUCT:"/apis/v1/product/create",UPLOAD_PRODUCT_IMAGE:"/apis/v1/upload-product-image",LIST_PRODUCTS_FOR_ADMIN:"/apis/v1/product/listforadmin",PRODUCT_DETAILS_FOR_ADMIN:"/apis/v1/product/detailsofadmin",STOCK_LIST_FOR_ADMIN:"/apis/v1/product/stock-list-foradmin",LIST_PRODUCT_FOR_SELLER:"/apis/v1/product/listforseller",PRODUCT_DETAILS_FOR_SELLER:"/apis/v1/product/detailsforseller",UPDATE_PRODUCT_STOCK_SELLER:"/apis/v1/product/stock/updatebyseller"},g=t(282),b=t.n(g).a.create({baseURL:E.BASE_SERVER_URL}),h=function(e){return{type:"LOADING",payload:e}},f=t(313),y=function(e,a){try{console.log(e.response),401===e.response.status?a():422===e.response.status?f.b.error("Server Error!"):f.b.error(e.response.data.message||"server error")}catch(t){console.log(t),f.b.error("Server Error!")}},O=t(614),v=t(613),S=t(616),T=t(54),j=t(619),A=t(620),k=function(e,a){return b.defaults.headers.common.Authorization="Bearer "+e,{type:"LOGIN",token:e,userdetails:a}},I=function(){return localStorage.removeItem("Token"),{type:"LOGOUT"}},N=function(e){return{type:"SET_USER_DETAILS",payload:e}};t(364);var C=Object(o.b)((function(e){return{Auth:e.Auth}}),{loading:h,login:k,setUserDetails:N,logout:I})((function(e){return n.a.createElement("div",{className:"login-page-container"},n.a.createElement("div",{className:"login-section-wrapper"},n.a.createElement(O.a.Title,{level:1},"BANDHAN"),n.a.createElement("p",{className:"brand-sub-name"},"ADMIN PANEL"),n.a.createElement(v.a,{name:"login-form",className:"login-form",onFinish:function(a){console.log("getting ".concat(a," from the form")),e.loading(!0),b.post(E.LOGIN_WITH_EMAIL_AND_PASSWORD,a).then((function(a){console.log(a.data),!a.data.status||"admin"!==a.data.data.userType&&"seller"!==a.data.data.userType?f.b.error(a.data.message):(localStorage.setItem("Token",a.data.token),e.login(a.data.token,a.data.data))})).catch((function(a){console.log(a),y(a,e.logout)})).finally((function(){e.loading(!1)}))}},n.a.createElement(v.a.Item,{name:"email",hasFeedback:!0,rules:[{required:!0,message:"Please input your E-mail!"},{type:"email",message:"The input is not valid E-mail!"}]},n.a.createElement(S.a,{prefix:n.a.createElement(j.a,{className:"site-form-item-icon"}),placeholder:"email id"})),n.a.createElement(v.a.Item,{name:"password",hasFeedback:!0,rules:[{required:!0,message:"Please input your Password!"}]},n.a.createElement(S.a.Password,{prefix:n.a.createElement(A.a,{className:"site-form-item-icon"}),type:"password",placeholder:"Password"})),n.a.createElement(v.a.Item,null,n.a.createElement(T.a,{type:"primary",htmlType:"submit",className:"login-form-button"},"Log in")),n.a.createElement(v.a.Item,null,n.a.createElement("a",{className:"login-form-forgot",href:""},"Forgot password")))))}));function R(){return n.a.createElement("div",{className:"entry-loader-container"},n.a.createElement("img",{src:t(460),className:"entry-loader-brand-logo",alt:"entry-loader"}),n.a.createElement(O.a.Title,{level:4},"Loading..."))}var _=t(9),P=t(608),D=t(126),L=t(80),w=(t(461),t(617)),U=t(314),x=t(67),F=t(621),B=t(622),M=t(623);var Y=Object(o.b)((function(e){return{Theme:e.Theme}}),{logout:I})((function(e){return n.a.createElement(P.a.Header,{className:"dashboard-header-wrapper"},n.a.createElement(D.a,{justify:"space-between"},n.a.createElement(L.a,null,n.a.createElement(D.a,{gutter:20,align:"middle"},n.a.createElement(L.a,null,n.a.createElement(i.b,{to:"/dashboard"},"LOGO")),n.a.createElement(L.a,{className:"header-brand-name-wrapper"},n.a.createElement(O.a.Title,{className:"header-brand-name",level:3},"BANDHAN")))),n.a.createElement(L.a,null,n.a.createElement(D.a,{gutter:30},n.a.createElement(L.a,null,n.a.createElement(w.a,{dot:!0},n.a.createElement(F.a,{className:"header-option-icons"}))),n.a.createElement(L.a,null,n.a.createElement(U.a,{placement:"bottomRight",trigger:"click"},n.a.createElement(B.a,{className:"header-option-icons"}))),n.a.createElement(L.a,null,n.a.createElement(x.a,{title:"logout"},n.a.createElement(M.a,{className:"header-option-icons",onClick:e.logout})))))))})),G=t(89),K=t(624),q=t(625),V=t(626),z=t(627),H=function(e){return n.a.createElement(G.a,{theme:"dark",mode:"inline"},n.a.createElement(G.a.SubMenu,{key:"admin1",title:n.a.createElement("span",null,n.a.createElement(B.a,null),n.a.createElement("span",null,"USER"))},n.a.createElement(G.a.Item,{key:"11"},n.a.createElement(i.b,{to:"/dashboard/user/create"},n.a.createElement(K.a,null),n.a.createElement("span",null,"CREATE USER"))),n.a.createElement(G.a.Item,{key:"12"},n.a.createElement(i.b,{to:"/dashboard/user/list"},n.a.createElement(q.a,null),n.a.createElement("span",null,"USER LIST")))),n.a.createElement(G.a.SubMenu,{key:"admin2",title:n.a.createElement("span",null,n.a.createElement(V.a,null),n.a.createElement("span",null,"CATEGORY"))},n.a.createElement(G.a.Item,{key:"21"},n.a.createElement(i.b,{to:"/dashboard/category/create"},n.a.createElement(K.a,null),n.a.createElement("span",null,"CREATE CATEGORY"))),n.a.createElement(G.a.Item,{key:"22"},n.a.createElement(i.b,{to:"/dashboard/category/list"},n.a.createElement(q.a,null),n.a.createElement("span",null,"CATEGORY LIST")))),n.a.createElement(G.a.SubMenu,{key:"admin3",title:n.a.createElement("span",null,n.a.createElement(z.a,null),n.a.createElement("span",null,"PRODUCT"))},n.a.createElement(G.a.Item,{key:"31"},n.a.createElement(i.b,{to:"/dashboard/product/create"},n.a.createElement(K.a,null),n.a.createElement("span",null,"CREATE PRODUCT"))),n.a.createElement(G.a.Item,{key:"32"},n.a.createElement(i.b,{to:"/dashboard/product/list"},n.a.createElement(q.a,null),n.a.createElement("span",null,"PRODUCT LIST")))))},W=function(e){return n.a.createElement(G.a,{theme:"dark",mode:"inline"},n.a.createElement(G.a.Item,{key:"32"},n.a.createElement(i.b,{to:"/dashboard/product/list"},n.a.createElement(q.a,null),n.a.createElement("span",null,"PRODUCT LIST"))),n.a.createElement(G.a.Item,{key:"33"},n.a.createElement(i.b,{to:"/dashboard/profile/".concat(e.user?e.user._id:"")},n.a.createElement(B.a,null),n.a.createElement("span",null,"PROFILE"))))},J=P.a.Sider;var Q=Object(o.b)((function(e){return{Auth:e.Auth}}),{})((function(e){return n.a.createElement(J,{key:e.Auth.userdetails,trigger:null,collapsible:!0,collapsed:e.sideBarCollapsed,className:"dasboard-sidebar-wrapper"},"admin"===e.Auth.userdetails.userType?n.a.createElement(H,{user:e.user}):null,"seller"===e.Auth.userdetails.userType?n.a.createElement(W,{user:e.user}):null)})),X=t(615),Z=t(610),$=t(144),ee=t(310),ae=(t(242),t(61)),te=t.n(ae),re=t(618),ne=[{title:"Name",dataIndex:"name",key:"name"},{title:"Email Id",dataIndex:"email",key:"email"},{title:"Phone Number",dataIndex:"phoneNumber",key:"phoneNumber"},{title:"Registration Timestamp",dataIndex:"createdAt",key:"createdAt",render:function(e){return n.a.createElement(re.a,{color:"geekblue"},te()(e).format("DD-MM-YYYY hh:mm"))}},{title:"CONTROLS",dataIndex:"createdAt",key:"createdAt",render:function(e,a){return n.a.createElement(n.a.Fragment,null,n.a.createElement(i.b,{to:"/dashboard/profile/".concat(a._id)},"Edit"))}}];var le=Object(o.b)((function(e){return{Auth:e.Auth}}),{logout:I,loading:h})((function(e){var a=Object(r.useState)(!1),t=Object(_.a)(a,2),l=t[0],c=t[1],o=Object(r.useState)([]),s=Object(_.a)(o,2),u=s[0],m=s[1],d=Object(r.useState)(1),p=Object(_.a)(d,2),g=p[0],h=p[1],O=Object(r.useState)(0),v=Object(_.a)(O,2),S=v[0],j=v[1],A=Object(r.useState)(10),k=Object(_.a)(A,2),I=k[0],N=(k[1],Object(r.useState)("customer")),C=Object(_.a)(N,2),R=C[0],P=C[1],w=function(e){h(e)},U=function(e){h(1),P(e)};return Object(r.useEffect)((function(){!function(){c(!0);var a={pageNumber:g,pageSize:I,userType:R};b.post(E.LIST_USERS,a).then((function(e){console.log(e.data),e.data.status?(m(e.data.data),j(e.data.total)):f.b.error(e.data.message)})).catch((function(a){console.log(a),y(a,e.logout)})).finally((function(){c(!1)}))}()}),[g,R]),n.a.createElement("div",{className:"user-list-wrapper full-width-height"},n.a.createElement(X.a,{className:"site-page-header-responsive",title:"All Users",subTitle:"List all Users",extra:[n.a.createElement(i.b,{to:"/dashboard/user/create",key:"1"},n.a.createElement(T.a,{key:"1",type:"primary",icon:n.a.createElement(K.a,null)},"Create User"))]}),n.a.createElement("div",{className:"user-list padding-after-page-header"},n.a.createElement(Z.a,{scroll:{x:1e3},bordered:!0,pagination:!1,loading:l,dataSource:u,columns:ne,rowKey:"_id",title:function(){return n.a.createElement(D.a,{gutter:16,justify:"end"},n.a.createElement(L.a,null,n.a.createElement($.a,{style:{width:"200px"},value:R,onChange:U},n.a.createElement($.a.Option,{value:"admin"},"Admin"),n.a.createElement($.a.Option,{value:"seller"},"Seller"),n.a.createElement($.a.Option,{value:"customer"},"Customer"))))},footer:function(){return n.a.createElement(D.a,{gutter:16,justify:"end"},n.a.createElement(L.a,null,n.a.createElement(ee.a,{pageSize:I,current:g,onChange:w,total:S})))}})))})),ce=t(611),oe=t(628),se=t(629),ie=t(109),ue=function(e,a,t,r){console.log(e.size/1024/1024,e.type);var n=a.includes(e.type),l=e.size/1024/1024<t;n?l?r():f.b.error("Too large file!"):f.b.error("Invalid file type!")};$.a.Option;var me=Object(o.b)((function(e){return{Auth:e.Auth}}),{logout:I,loading:h})((function(e){var a=v.a.useForm(),t=Object(_.a)(a,1)[0],l=Object(r.useState)(),c=Object(_.a)(l,2),o=c[0],s=c[1],u=Object(r.useState)(!1),m=Object(_.a)(u,2),d=m[0],p=m[1],g=Object(r.useState)(),h=Object(_.a)(g,2),O=h[0],j=h[1];return n.a.createElement("div",{className:"user-create-wrapper full-width-height"},n.a.createElement(X.a,{className:"site-page-header-responsive",title:"Create Users",subTitle:"Add new User",extra:[n.a.createElement(i.b,{to:"/dashboard/user/list",key:"1"},n.a.createElement(T.a,{key:"1",type:"primary",icon:n.a.createElement(q.a,null)},"List Users"))]}),n.a.createElement("div",{className:"user-create-from padding-after-page-header"},n.a.createElement(v.a,{layout:"vertical",form:t,onFinish:function(a){if(o){var r=a.email,n=a.name,l=a.phoneNumber,c=a.userType,i=a.password,u=a.deliverTo;e.loading(!0),b.post(E.USER_CREATE,{email:r,name:n,phoneNumber:l,userType:c,password:i,avatar:o,deliverTo:u}).then((function(e){console.log(e.data),e.data.status?(f.b.info("User created sucessfully"),t.resetFields(),s(),j()):f.b.error(e.data.message)})).catch((function(a){console.log(a),y(a,e.logout)})).finally((function(){e.loading(!1)}))}else f.b.error("please upload an avatar.")},scrollToFirstError:!0,className:"basic-form"},n.a.createElement(D.a,{gutter:16},n.a.createElement(L.a,{span:"12"},n.a.createElement(v.a.Item,{label:"Name",name:"name",rules:[{required:!0,message:"Please enter the user's name!"}]},n.a.createElement(S.a,{placeholder:"Name"})),n.a.createElement(v.a.Item,{label:"Email Id",name:"email",rules:[{required:!0,message:"Please enter the email id!"},{type:"email",message:"Enter a valid email id"}]},n.a.createElement(S.a,{placeholder:"Email Id"}))),n.a.createElement(L.a,{span:"12"},n.a.createElement(ie.a,{grid:!0,shape:"round"},n.a.createElement(ce.a,{name:"avatar",listType:"picture-card",className:"avatar-uploader",showUploadList:!1,beforeUpload:function(a){return ue(a,["image/jpeg","image/png"],2,(function(){p(!0);var t=new FormData;t.append("avatar",a),b.post(E.UPLOAD_USER_AVATAR,t,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){e.data.status?s(e.data.file):f.b.error(e.data.message)})).catch((function(a){console.log(a),y(a,e.logout)})).finally((function(){p(!1)}))})),!1}},o?n.a.createElement("img",{src:"".concat(E.BASE_SERVER_URL).concat(o),className:"uploaded-avatar"}):n.a.createElement("div",null,d?n.a.createElement(oe.a,null):n.a.createElement(se.a,null),n.a.createElement("div",{className:"ant-upload-text"},"Upload")))))),n.a.createElement(D.a,{gutter:16},n.a.createElement(L.a,{span:"12"},n.a.createElement(v.a.Item,{label:"Phone Number",name:"phoneNumber",rules:[{required:!0,message:"Please enter the phone number!"},{len:10,message:"Enter a valid phone number!"}]},n.a.createElement(S.a,{type:"number",placeholder:"Phone Number",style:{width:"100%"}}))),n.a.createElement(L.a,{span:"12"},n.a.createElement(v.a.Item,{label:"User type",name:"userType",rules:[{required:!0,message:"Please select one option!"}]},n.a.createElement($.a,{onChange:j,placeholder:"Select a user type"},n.a.createElement($.a.Option,{value:"admin"},"Admin"),n.a.createElement($.a.Option,{value:"seller"},"Seller"),n.a.createElement($.a.Option,{value:"customer"},"Customer"))))),n.a.createElement(D.a,{gutter:16,align:"bottom"},n.a.createElement(L.a,{span:"12"},n.a.createElement(v.a.Item,{label:"Password",name:"password",rules:[{required:!0,message:"Please enter the password!"},{min:6,message:"Password must be atleast 6 character long!"}]},n.a.createElement(S.a.Password,{type:"password",placeholder:"Password"}))),n.a.createElement(L.a,{span:"12"},n.a.createElement(v.a.Item,{label:"Confirm Password",name:"ConfirmPassword",dependencies:["password"],rules:[{required:!0,message:"Please enter the password again!"},function(e){var a=e.getFieldValue;return{validator:function(e,t){return t&&a("password")!==t?Promise.reject("The two passwords that you entered do not match!"):Promise.resolve()}}}]},n.a.createElement(S.a.Password,{type:"password",placeholder:"Password"})))),"seller"===O?n.a.createElement(D.a,{justify:"center",gutter:16},n.a.createElement(L.a,{span:24},n.a.createElement(v.a.Item,{label:"Delivery Pin Codes",name:"deliverTo"},n.a.createElement($.a,{mode:"tags",style:{width:"100%",minHeight:"50px"},tokenSeparators:[","]})))):null,n.a.createElement(D.a,{justify:"end",gutter:16},n.a.createElement(L.a,null,n.a.createElement(v.a.Item,null,n.a.createElement(T.a,{type:"primary",htmlType:"submit"},"Create")))))))}));$.a.Option;var de=Object(o.b)((function(e){return{Auth:e.Auth}}),{logout:I,loading:h})((function(e){var a=v.a.useForm(),t=Object(_.a)(a,1)[0];return n.a.createElement("div",{className:"category-create-wrapper full-width-height"},n.a.createElement(X.a,{className:"site-page-header-responsive",title:"Create Category",subTitle:"Add new Category",extra:[n.a.createElement(i.b,{to:"/dashboard/category/list",key:"1"},n.a.createElement(T.a,{key:"1",type:"primary",icon:n.a.createElement(q.a,null)},"List Categories"))]}),n.a.createElement("div",{className:"category-create-from padding-after-page-header"},n.a.createElement(v.a,{layout:"vertical",form:t,onFinish:function(a){console.log(a);var r=a.name;e.loading(!0),b.post(E.CATEGORY_CREATE,{name:r}).then((function(e){console.log(e.data),e.data.status?(f.b.info("Category created sucessfully"),t.resetFields()):f.b.error(e.data.message)})).catch((function(a){console.log(a),y(a,e.logout)})).finally((function(){e.loading(!1)}))},scrollToFirstError:!0,className:"basic-form"},n.a.createElement(D.a,{gutter:16},n.a.createElement(L.a,{span:"12"},n.a.createElement(v.a.Item,{label:"Category Name",name:"name",rules:[{required:!0,message:"Please enter the category name!"}]},n.a.createElement(S.a,{placeholder:"Category Name"})))),n.a.createElement(D.a,{justify:"end",gutter:16},n.a.createElement(L.a,null,n.a.createElement(v.a.Item,null,n.a.createElement(T.a,{type:"primary",htmlType:"submit"},"Create")))))))})),pe=[{title:"Name",dataIndex:"name",key:"name"},{title:"Category Created",dataIndex:"createdAt",key:"createdAt",render:function(e){return n.a.createElement(re.a,{color:"geekblue"},te()(e).format("DD-MM-YYYY hh:mm"))}}];var Ee=Object(o.b)((function(e){return{Auth:e.Auth}}),{logout:I,loading:h})((function(e){var a=Object(r.useState)(!1),t=Object(_.a)(a,2),l=t[0],c=t[1],o=Object(r.useState)([]),s=Object(_.a)(o,2),u=s[0],m=s[1],d=Object(r.useState)(0),p=Object(_.a)(d,2),g=p[0],h=p[1],O=Object(r.useState)(1),v=Object(_.a)(O,2),S=v[0],j=v[1],A=Object(r.useState)(2),k=Object(_.a)(A,2),I=k[0],N=(k[1],function(e){j(e)});return Object(r.useEffect)((function(){!function(){c(!0);var a={pageNumber:S,pageSize:I};b.post(E.LIST_CATEGORY,a).then((function(e){console.log(e.data),e.data.status?(m(e.data.data),h(e.data.total)):f.b.error(e.data.message)})).catch((function(a){console.log(a),y(a,e.logout)})).finally((function(){c(!1)}))}()}),[S]),n.a.createElement("div",{className:"category-list-wrapper full-width-height"},n.a.createElement(X.a,{className:"site-page-header-responsive",title:"All Categories",subTitle:"List all Categories",extra:[n.a.createElement(i.b,{to:"/dashboard/category/create",key:"1"},n.a.createElement(T.a,{key:"1",type:"primary",icon:n.a.createElement(K.a,null)},"Create Category"))]}),n.a.createElement("div",{className:"category-list padding-after-page-header"},n.a.createElement(Z.a,{scroll:{x:1e3},bordered:!0,pagination:!1,loading:l,dataSource:u,columns:pe,rowKey:"_id",footer:function(){return n.a.createElement(D.a,{gutter:16,justify:"end"},n.a.createElement(L.a,null,n.a.createElement(ee.a,{pageSize:I,current:S,onChange:N,total:g})))}})))})),ge=t(88),be=t(127),he=t(214),fe=t(215),ye=t(114),Oe=t(216),ve=t(217),Se=(t(499),t(500),t(48)),Te=function(e){Object(ve.a)(t,e);var a=Object(Oe.a)(t);function t(e){var r;return Object(he.a)(this,t),(r=a.call(this,e)).focus=function(){return r.refs.editor.focus()},r.onChange=function(e){return r.props.onChange(e)},r.handleKeyCommand=r._handleKeyCommand.bind(Object(ye.a)(r)),r.mapKeyToEditorCommand=r._mapKeyToEditorCommand.bind(Object(ye.a)(r)),r.toggleBlockType=r._toggleBlockType.bind(Object(ye.a)(r)),r.toggleInlineStyle=r._toggleInlineStyle.bind(Object(ye.a)(r)),r}return Object(fe.a)(t,[{key:"_handleKeyCommand",value:function(e,a){var t=Se.RichUtils.handleKeyCommand(a,e);return!!t&&(this.onChange(t),!0)}},{key:"_mapKeyToEditorCommand",value:function(e){if(9!==e.keyCode)return Object(Se.getDefaultKeyBinding)(e);var a=Se.RichUtils.onTab(e,this.props.editorState,4);a!==this.props.editorState&&this.onChange(a)}},{key:"_toggleBlockType",value:function(e){this.onChange(Se.RichUtils.toggleBlockType(this.props.editorState,e))}},{key:"_toggleInlineStyle",value:function(e){this.onChange(Se.RichUtils.toggleInlineStyle(this.props.editorState,e))}},{key:"render",value:function(){var e=this.props.editorState,a="RichEditor-editor",t=e.getCurrentContent();return t.hasText()||"unstyled"!==t.getBlockMap().first().getType()&&(a+=" RichEditor-hidePlaceholder"),n.a.createElement("div",{className:"RichEditor-root"},n.a.createElement(Ne,{editorState:e,onToggle:this.toggleBlockType}),n.a.createElement(Re,{editorState:e,onToggle:this.toggleInlineStyle}),n.a.createElement("div",{className:a,onClick:this.focus},n.a.createElement(Se.Editor,{blockStyleFn:Ae,customStyleMap:je,editorState:e,handleKeyCommand:this.handleKeyCommand,keyBindingFn:this.mapKeyToEditorCommand,onChange:this.onChange,placeholder:"Product Description",ref:"editor",spellCheck:!0})))}}]),t}(n.a.Component),je={CODE:{backgroundColor:"rgba(0, 0, 0, 0.05)",fontFamily:'"Inconsolata", "Menlo", "Consolas", monospace',fontSize:16,padding:2}};function Ae(e){switch(e.getType()){case"blockquote":return"RichEditor-blockquote";default:return null}}var ke=function(e){Object(ve.a)(t,e);var a=Object(Oe.a)(t);function t(){var e;return Object(he.a)(this,t),(e=a.call(this)).onToggle=function(a){a.preventDefault(),e.props.onToggle(e.props.style)},e}return Object(fe.a)(t,[{key:"render",value:function(){var e="RichEditor-styleButton";return this.props.active&&(e+=" RichEditor-activeButton"),n.a.createElement("span",{className:e,onMouseDown:this.onToggle},this.props.label)}}]),t}(n.a.Component),Ie=[{label:"H1",style:"header-one"},{label:"H2",style:"header-two"},{label:"H3",style:"header-three"},{label:"H4",style:"header-four"},{label:"H5",style:"header-five"},{label:"H6",style:"header-six"},{label:"Blockquote",style:"blockquote"},{label:"UL",style:"unordered-list-item"},{label:"OL",style:"ordered-list-item"},{label:"Code Block",style:"code-block"}],Ne=function(e){var a=e.editorState,t=a.getSelection(),r=a.getCurrentContent().getBlockForKey(t.getStartKey()).getType();return n.a.createElement("div",{className:"RichEditor-controls"},Ie.map((function(a){return n.a.createElement(ke,{key:a.label,active:a.style===r,label:a.label,onToggle:e.onToggle,style:a.style})})))},Ce=[{label:"Bold",style:"BOLD"},{label:"Italic",style:"ITALIC"},{label:"Underline",style:"UNDERLINE"},{label:"Monospace",style:"CODE"}],Re=function(e){var a=e.editorState.getCurrentInlineStyle();return n.a.createElement("div",{className:"RichEditor-controls"},Ce.map((function(t){return n.a.createElement(ke,{key:t.label,active:a.has(t.style),label:t.label,onToggle:e.onToggle,style:t.style})})))},_e=Te;t(134),$.a.Option;var Pe=Object(o.b)((function(e){return{Auth:e.Auth}}),{logout:I,loading:h})((function(e){var a=v.a.useForm(),t=Object(_.a)(a,1)[0],l=Object(r.useState)([{link:null,loading:!1,hasremove:!1}]),c=Object(_.a)(l,2),o=c[0],s=c[1],u=Object(r.useState)([]),m=Object(_.a)(u,2),d=m[0],p=m[1],g=Object(r.useState)((function(){return Se.EditorState.createEmpty()})),h=Object(_.a)(g,2),O=h[0],j=h[1];Object(r.useEffect)((function(){!function(){e.loading(!0);b.post(E.LIST_CATEGORY,{pageNumber:1,pageSize:1e3}).then((function(e){console.log(e.data),e.data.status?p(e.data.data):f.b.error(e.data.message)})).catch((function(a){console.log(a),y(a,e.logout)})).finally((function(){e.loading(!1)}))}()}),[]);var A=function(){var e=!0;return o.forEach((function(a){a.link||(e=!1)})),e};return n.a.createElement("div",{className:"product-create-wrapper full-width-height"},n.a.createElement(X.a,{className:"site-page-header-responsive",title:"Create Product",subTitle:"Add new Product",extra:[n.a.createElement(i.b,{to:"/dashboard/product/list",key:"1"},n.a.createElement(T.a,{key:"1",type:"primary",icon:n.a.createElement(q.a,null)},"List Products"))]}),n.a.createElement("div",{className:"product-create-from padding-after-page-header"},n.a.createElement(v.a,{layout:"vertical",form:t,onFinish:function(a){if(A()){var r=Object(Se.convertToRaw)(O.getCurrentContent()),n={name:a.name,category:a.category,regularPrice:a.regularPrice,salePrice:a.salePrice,weight:a.weight,images:o.map((function(e){return e.link})),description:JSON.stringify(r)};console.log(n),e.loading(!0),b.post(E.CREATE_PRODUCT,n).then((function(e){if(e.data.status){f.b.success(e.data.message),t.resetFields(),s([{link:null,loading:!1,hasremove:!1}]);var a=Se.EditorState.push(O,Se.ContentState.createFromText(""));j(a)}else f.b.error(e.data.message)})).catch((function(a){console.log(a),y(a,e.logout)})).finally((function(){e.loading(!1)}))}else f.b.error("Please upload all images or remove them")},scrollToFirstError:!0,className:"basic-form product-form"},n.a.createElement(D.a,{gutter:16},n.a.createElement(L.a,{span:"12"},n.a.createElement(v.a.Item,{label:"Product Name",name:"name",rules:[{required:!0,message:"Please enter the product name"}]},n.a.createElement(S.a,{placeholder:"Product Name"}))),n.a.createElement(L.a,{span:"12"},n.a.createElement(v.a.Item,{label:"Categories",name:"category",rules:[{required:!0,message:"Please select the categories"}]},n.a.createElement($.a,{showSearch:!0,placeholder:"Select one or more category",mode:"multiple",filterOption:function(e,a){return a.children.toLowerCase().indexOf(e.toLowerCase())>=0}},d.map((function(e,a){return n.a.createElement($.a.Option,{key:a,value:e._id},e.name)})))))),n.a.createElement(D.a,{gutter:16,style:{marginBottom:"40px"}},n.a.createElement(L.a,{span:"24"},n.a.createElement(_e,{editorState:O,onChange:j}))),n.a.createElement(D.a,{gutter:16,style:{marginBottom:"20px"}},n.a.createElement(L.a,{span:"8"},n.a.createElement(v.a.Item,{label:"Regular Price (in rupees)",name:"regularPrice",rules:[{required:!0,message:"Please enter the regular Price"}]},n.a.createElement(S.a,{placeholder:"Regular Price",type:"number"}))),n.a.createElement(L.a,{span:"8"},n.a.createElement(v.a.Item,{label:"Sale Price (in rupees)",name:"salePrice"},n.a.createElement(S.a,{placeholder:"Sale Price",type:"number"}))),n.a.createElement(L.a,{span:"8"},n.a.createElement(v.a.Item,{label:"Weight (in KG)",name:"weight"},n.a.createElement(S.a,{placeholder:"Weight",type:"number"})))),n.a.createElement("p",{style:{marginBottom:"10px"}},"Product Images"),n.a.createElement(D.a,{gutter:16},o.map((function(a,t){return n.a.createElement(L.a,{span:"8",key:t},n.a.createElement(ie.a,{grid:!0,shape:"rect",aspect:.75},n.a.createElement(ce.a,{name:"image".concat(t),listType:"picture-card",className:"image-uploader",showUploadList:!1,beforeUpload:function(a){return n=t,ue(r=a,["image/jpeg","image/png"],2,(function(){var a=Object(be.a)(o);a[n].loading=!0,s(a);var t=new FormData;t.append("image",r),b.post(E.UPLOAD_PRODUCT_IMAGE,t,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){if(e.data.status){var a=Object(be.a)(o);a[n].link=e.data.file,s(a)}else f.b.error(e.data.message)})).catch((function(a){console.log(a),y(a,e.logout)})).finally((function(){var e=Object(be.a)(o);e[n].loading=!1,s(e)}))})),!1;var r,n}},a.link?n.a.createElement("img",{src:"".concat(E.BASE_SERVER_URL).concat(a.link),className:"uploaded-image"}):n.a.createElement("div",null,a.loading?n.a.createElement(oe.a,null):n.a.createElement(se.a,null),n.a.createElement("div",{className:"ant-upload-text"},"Upload")))),a.hasremove?n.a.createElement(T.a,{type:"default",onClick:function(){return function(e){var a=Object(be.a)(o),t=a.length;t>1&&a.splice(e,1),2==t&&(a[0].hasremove=!1),s(a)}(t)}},"Remove Image"):null)}))),n.a.createElement(D.a,{gutter:16,justify:"end",style:{marginBottom:"30px"}},n.a.createElement(L.a,null,n.a.createElement(T.a,{type:"default",onClick:function(){var e=Object(be.a)(o);if(e[e.length-1].link){e.push({link:null,loading:!1,hasremove:!0});var a=e.map((function(e){return Object(ge.a)({},e,{hasremove:!0})}));s(a)}}},"Add Image"))),n.a.createElement(D.a,{justify:"end",gutter:16},n.a.createElement(L.a,null,n.a.createElement(v.a.Item,null,n.a.createElement(T.a,{type:"primary",htmlType:"submit"},"Create")))))))})),De=[{title:"Name",dataIndex:"name",key:"name"},{title:"Image",dataIndex:"images",key:"images",render:function(e){return e&&Array.isArray(e)&&e.length>0?n.a.createElement("img",{className:"product-img",src:"".concat(E.BASE_SERVER_URL).concat(e[0])}):null}},{title:"Categories",dataIndex:"category",key:"category",render:function(e){return e.map((function(e,a){return n.a.createElement(re.a,{key:a,color:"cyan"},e.name)}))}},{title:"Regular Price",dataIndex:"regularPrice",key:"regularPrice"},{title:"Sale Price",dataIndex:"salePrice",key:"salePrice"},{title:"Created On",dataIndex:"createdAt",key:"createdAt",render:function(e){return n.a.createElement(re.a,{color:"geekblue"},te()(e).format("DD-MM-YYYY hh:mm"))}},{title:"Operations",render:function(e){return n.a.createElement(i.b,{to:"/dashboard/product/details/".concat(e._id)},n.a.createElement(T.a,{type:"default"},"Details"))}}];var Le=Object(o.b)((function(e){return{Auth:e.Auth}}),{logout:I,loading:h})((function(e){var a=Object(r.useState)(!1),t=Object(_.a)(a,2),l=t[0],c=t[1],o=Object(r.useState)([]),s=Object(_.a)(o,2),u=s[0],m=s[1],d=Object(r.useState)(1),p=Object(_.a)(d,2),g=p[0],h=p[1],O=Object(r.useState)(0),v=Object(_.a)(O,2),S=v[0],j=v[1],A=Object(r.useState)(5),k=Object(_.a)(A,2),I=k[0],N=(k[1],function(e){h(e)});return Object(r.useEffect)((function(){!function(){c(!0);var a={pageNumber:g,pageSize:I};b.post(E.LIST_PRODUCTS_FOR_ADMIN,a).then((function(e){console.log(e.data),e.data.status?(m(e.data.data),j(e.data.total)):f.b.error(e.data.message)})).catch((function(a){console.log(a),y(a,e.logout)})).finally((function(){c(!1)}))}()}),[g]),n.a.createElement("div",{className:"product-list-wrapper full-width-height"},n.a.createElement(X.a,{className:"site-page-header-responsive",title:"All Products",subTitle:"List all products",extra:[n.a.createElement(i.b,{to:"/dashboard/product/create",key:"1"},n.a.createElement(T.a,{key:"1",type:"primary",icon:n.a.createElement(K.a,null)},"Create Product"))]}),n.a.createElement("div",{className:"product-list padding-after-page-header"},n.a.createElement(Z.a,{scroll:{x:1200},bordered:!0,pagination:!1,loading:l,dataSource:u,columns:De,rowKey:"_id",footer:function(){return n.a.createElement(D.a,{gutter:16,justify:"end"},n.a.createElement(L.a,null,n.a.createElement(ee.a,{pageSize:I,current:g,onChange:N,total:S})))}})))})),we=t(609),Ue=O.a.Title;function xe(e){return n.a.createElement(D.a,{gutter:16},n.a.createElement(L.a,{span:"8"},n.a.createElement(we.a,{autoplay:!0},e.productDetails&&e.productDetails.images.map((function(e,a){return n.a.createElement("img",{src:"".concat(E.BASE_SERVER_URL).concat(e),key:a,className:"product-image"})})))),n.a.createElement(L.a,{span:"16"},n.a.createElement("div",{className:"product-detains-inner"},n.a.createElement(D.a,{justify:"space-between"},n.a.createElement(L.a,null,n.a.createElement(Ue,{level:2},e.productDetails&&e.productDetails.name),e.productDetails&&n.a.createElement("p",{className:"regularPrice"},"Regular Price : ",e.productDetails.regularPrice),e.productDetails&&e.productDetails.salePrice&&n.a.createElement("p",{className:"salePrice"},"Sale Price : ",e.productDetails.salePrice)),n.a.createElement(L.a,null,n.a.createElement(Ue,{level:4},e.productDetails&&te()(e.productDetails.createdAt).format("DD-MM-YYYY")))),e.productDetails&&e.productDetails.category.map((function(e,a){return n.a.createElement(re.a,{key:a,color:"magenta"},e.name)})),n.a.createElement("div",{style:{marginBottom:"30px"}}),n.a.createElement(Se.Editor,{editorState:e.productDescription,readOnly:!0}))))}var Fe=[{title:"Name",dataIndex:"name",key:"name"},{title:"Email",dataIndex:"email",key:"email"},{title:"Phone Number",dataIndex:"phoneNumber",key:"phoneNumber"},{title:"Stock",dataIndex:"stock",key:"stock"},{title:"Pin Codes",dataIndex:"deliverTo",key:"deliverTo",render:function(e){return e.map((function(e,a){return n.a.createElement(re.a,{key:a},e)}))}}];O.a.Title;function Be(e){var a=Object(r.useState)([]),t=Object(_.a)(a,2),l=t[0],c=t[1],o=Object(r.useState)(!1),s=Object(_.a)(o,2),i=s[0],u=s[1],m=Object(r.useState)(1),d=Object(_.a)(m,2),p=d[0],g=d[1],h=Object(r.useState)(0),O=Object(_.a)(h,2),v=O[0],S=O[1],T=Object(r.useState)(10),j=Object(_.a)(T,2),A=j[0];j[1];Object(r.useEffect)((function(){k()}),[p]);var k=function(){u(!0);var a={productId:e._id,pageNumber:p,pageSize:A};b.post("".concat(E.STOCK_LIST_FOR_ADMIN),a).then((function(e){if(console.log(e.data),e.data.status){S(e.data.total);var a=e.data.data.map((function(e){return Object(ge.a)({},e,{},e.seller,{seller:null})}));console.log(a),c(a)}else f.b.error(e.data.message)})).catch((function(a){console.log(a),y(a,e.logout)})).finally((function(){u(!1)}))},I=function(e){g(e)};return n.a.createElement("div",null,n.a.createElement(Z.a,{scroll:{x:1e3},bordered:!0,pagination:!1,loading:i,dataSource:l,columns:Fe,rowKey:"_id",footer:function(){return n.a.createElement(D.a,{gutter:16,justify:"end"},n.a.createElement(L.a,null,n.a.createElement(ee.a,{pageSize:A,current:p,onChange:I,total:v})))}}))}O.a.Title;var Me=Object(o.b)((function(e){return{Auth:e.Auth}}),{logout:I,loading:h})((function(e){var a=Object(u.g)().id,t=Object(r.useState)(),l=Object(_.a)(t,2),c=l[0],o=l[1],s=Object(r.useState)((function(){return Se.EditorState.createEmpty()})),m=Object(_.a)(s,2),d=m[0],p=m[1];return Object(r.useEffect)((function(){e.loading(!0),b.get("".concat(E.PRODUCT_DETAILS_FOR_ADMIN,"/").concat(a)).then((function(e){if(console.log(e.data),e.data.status){o(e.data.data);var a=Object(Se.convertFromRaw)(JSON.parse(e.data.data.description)),t=Se.EditorState.createWithContent(a);p(t)}else f.b.error(e.data.message)})).catch((function(a){console.log(a),y(a,e.logout)})).finally((function(){e.loading(!1)}))}),[]),n.a.createElement("div",{className:"product-details-wrapper full-width-height"},n.a.createElement(X.a,{className:"site-page-header-responsive",title:"Product Details",subTitle:c?c.name:"",extra:[n.a.createElement(i.b,{to:"/dashboard/product/list",key:"1"},n.a.createElement(T.a,{key:"1",type:"primary",icon:n.a.createElement(q.a,null)},"Product Lists"))]}),n.a.createElement("div",{className:"product-details-inner padding-after-page-header"},n.a.createElement(xe,{productDescription:d,productDetails:c})),n.a.createElement("div",{className:"product-stok-table-wrapper"},n.a.createElement("h2",null,"Seller Stock"),n.a.createElement(Be,{_id:a})))}));t(604),$.a.Option;var Ye=Object(o.b)((function(e){return{Auth:e.Auth}}),{logout:I,loading:h})((function(e){var a=Object(u.g)().id,t=v.a.useForm(),l=Object(_.a)(t,1)[0],c=Object(r.useState)(),o=Object(_.a)(c,2),s=o[0],i=o[1],m=Object(r.useState)(!1),d=Object(_.a)(m,2),p=d[0],g=d[1],h=Object(r.useState)(),O=Object(_.a)(h,2),j=O[0],A=O[1],k=Object(r.useState)(),I=Object(_.a)(k,2),N=I[0],C=I[1];Object(r.useEffect)((function(){R()}),[]);var R=function(){e.loading(!0),b.get("".concat(E.GET_PROFILE_DETAILS,"?_id=").concat(a)).then((function(e){if(console.log(e.data),e.data.status){var a=e.data.data;i(a.avatar),l.setFieldsValue({name:a.name,email:a.email,phoneNumber:a.phoneNumber}),C(a),"seller"===a.userType&&l.setFieldsValue({deliverTo:a.deliverTo}),A(a.userType)}else f.b.error(e.data.message)})).catch((function(e){console.log(e),f.b.error("server errror")})).finally((function(){e.loading(!1)}))};return n.a.createElement("div",{className:"my-profile-wrapper full-width-height"},n.a.createElement(X.a,{className:"site-page-header-responsive",title:"PROFILE",subTitle:"Edit profile",extra:[]}),n.a.createElement("div",{className:"my-profile-from padding-after-page-header"},n.a.createElement(v.a,{layout:"vertical",form:l,onFinish:function(a){var t=a.email,r=a.name,n=a.phoneNumber,l=a.deliverTo;e.loading(!0),b.post(E.UPDATE_PROFILE_DETAILS,{_id:N._id,email:t,name:r,phoneNumber:n,avatar:s,deliverTo:l}).then((function(e){console.log(e.data),e.data.status?(f.b.info("User updated sucessfully"),R()):f.b.error(e.data.message)})).catch((function(a){console.log(a),y(a,e.logout)})).finally((function(){e.loading(!1)}))},scrollToFirstError:!0,className:"basic-form"},n.a.createElement(D.a,{gutter:16},n.a.createElement(L.a,{span:"12"},n.a.createElement(v.a.Item,{label:"Name",name:"name",rules:[{required:!0,message:"Please enter the user's name!"}]},n.a.createElement(S.a,{placeholder:"Name"})),n.a.createElement(v.a.Item,{label:"Email Id",name:"email",rules:[{required:!0,message:"Please enter the email id!"},{type:"email",message:"Enter a valid email id"}]},n.a.createElement(S.a,{placeholder:"Email Id"}))),n.a.createElement(L.a,{span:"12"},n.a.createElement(ie.a,{grid:!0,shape:"round"},n.a.createElement(ce.a,{name:"avatar",listType:"picture-card",className:"avatar-uploader",showUploadList:!1,beforeUpload:function(a){return ue(a,["image/jpeg","image/png"],2,(function(){g(!0);var t=new FormData;t.append("avatar",a),b.post(E.UPLOAD_USER_AVATAR,t,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){e.data.status?i(e.data.file):f.b.error(e.data.message)})).catch((function(a){console.log(a),y(a,e.logout)})).finally((function(){g(!1)}))})),!1}},s?n.a.createElement("img",{src:"".concat(E.BASE_SERVER_URL).concat(s),className:"uploaded-avatar"}):n.a.createElement("div",null,p?n.a.createElement(oe.a,null):n.a.createElement(se.a,null),n.a.createElement("div",{className:"ant-upload-text"},"Upload")))))),n.a.createElement(D.a,{gutter:16},n.a.createElement(L.a,{span:"12"},n.a.createElement(v.a.Item,{label:"Phone Number",name:"phoneNumber",rules:[{required:!0,message:"Please enter the phone number!"},{len:10,message:"Enter a valid phone number!"}]},n.a.createElement(S.a,{type:"number",placeholder:"Phone Number",style:{width:"100%"}})))),"seller"===j?n.a.createElement(D.a,{justify:"center",gutter:16},n.a.createElement(L.a,{span:24},n.a.createElement(v.a.Item,{label:"Delivery Pin Codes",name:"deliverTo"},n.a.createElement($.a,{mode:"tags",style:{width:"100%",minHeight:"50px"},tokenSeparators:[","]})))):null,n.a.createElement(D.a,{justify:"end",gutter:16},n.a.createElement(L.a,null,n.a.createElement(v.a.Item,null,n.a.createElement(T.a,{type:"primary",htmlType:"submit"},"UPDATE")))))))})),Ge=[{title:"Name",dataIndex:"name",key:"name"},{title:"Image",dataIndex:"images",key:"images",render:function(e){return e&&Array.isArray(e)&&e.length>0?n.a.createElement("img",{className:"product-img",src:"".concat(E.BASE_SERVER_URL).concat(e[0])}):null}},{title:"Categories",dataIndex:"category",key:"category",render:function(e){return e.map((function(e,a){return n.a.createElement(re.a,{key:a,color:"cyan"},e.name)}))}},{title:"Stock",dataIndex:"stock",key:"stock"},{title:"Regular Price",dataIndex:"regularPrice",key:"regularPrice"},{title:"Sale Price",dataIndex:"salePrice",key:"salePrice"},{title:"Stock Updated",dataIndex:"stockUpdated",key:"stockUpdated",render:function(e){return n.a.createElement(re.a,{color:"geekblue"},te()(e).format("DD-MM-YYYY hh:mm"))}},{title:"Operations",render:function(e){return n.a.createElement(i.b,{to:"/dashboard/product/details/".concat(e.productId)},n.a.createElement(T.a,{type:"default"},"Details"))}}];var Ke=Object(o.b)((function(e){return{Auth:e.Auth}}),{logout:I,loading:h})((function(e){var a=Object(r.useState)(!1),t=Object(_.a)(a,2),l=t[0],c=t[1],o=Object(r.useState)([]),s=Object(_.a)(o,2),u=s[0],m=s[1],d=Object(r.useState)(1),p=Object(_.a)(d,2),g=p[0],h=p[1],O=Object(r.useState)(0),v=Object(_.a)(O,2),S=v[0],j=v[1],A=Object(r.useState)(5),k=Object(_.a)(A,2),I=k[0],N=(k[1],function(e){h(e)});return Object(r.useEffect)((function(){!function(){c(!0);var a={pageNumber:g,pageSize:I};b.post(E.LIST_PRODUCT_FOR_SELLER,a).then((function(e){console.log(e.data),e.data.status?(m(e.data.data),j(e.data.total)):f.b.error(e.data.message)})).catch((function(a){console.log(a),y(a,e.logout)})).finally((function(){c(!1)}))}()}),[g]),n.a.createElement("div",{className:"product-list-wrapper full-width-height"},n.a.createElement(X.a,{className:"site-page-header-responsive",title:"All Products",subTitle:"List all products",extra:[n.a.createElement(i.b,{to:"/dashboard/product/create",key:"1"},n.a.createElement(T.a,{key:"1",type:"primary",icon:n.a.createElement(K.a,null)},"Create Product"))]}),n.a.createElement("div",{className:"product-list padding-after-page-header"},n.a.createElement(Z.a,{scroll:{x:1200},bordered:!0,pagination:!1,loading:l,dataSource:u,columns:Ge,rowKey:"_id",footer:function(){return n.a.createElement(D.a,{gutter:16,justify:"end"},n.a.createElement(L.a,null,n.a.createElement(ee.a,{pageSize:I,current:g,onChange:N,total:S})))}})))})),qe=t(612);var Ve=Object(o.b)((function(e){return{Auth:e.Auth}}),{logout:I,loading:h})((function(e){var a,t=v.a.useForm(),l=Object(_.a)(t,1)[0],c=Object(r.useState)(!0),o=Object(_.a)(c,2),s=o[0],i=o[1];return Object(r.useEffect)((function(){var a;l.setFieldsValue({stock:null===(a=e.productDetails)||void 0===a?void 0:a.stock})}),[e.productDetails]),n.a.createElement(qe.a,{title:"Stock management",style:{marginTop:"50px"}},n.a.createElement(v.a,{layout:"inline",form:l,onFinish:function(a){if(s)i(!1);else{var t=a.stock;try{parseInt(t)>=0?(e.loading(!0),b.post(E.UPDATE_PRODUCT_STOCK_SELLER,{id:e.productDetails._id,stock:t}).then((function(e){console.log(e.data),e.data.status?(f.b.success(e.data.message),i(!0)):f.b.error(e.data.message)})).catch((function(a){console.log(a),y(a,e.logout)})).finally((function(){e.loading(!1)}))):f.b.error("Please enter a valid stock number")}catch(r){f.b.error("Please enter a valid stock number")}}},scrollToFirstError:!0,className:"basic-form",initialValues:{stock:null===(a=e.productDetails)||void 0===a?void 0:a.stock}},n.a.createElement(v.a.Item,{name:"stock",rules:[{required:!0,message:"Please enter the stock"}]},n.a.createElement(S.a,{disabled:s,placeholder:"Stock",type:"number"})),n.a.createElement(v.a.Item,null,n.a.createElement(T.a,{type:"primary",htmlType:"submit"},"EDIT"))))}));O.a.Title;var ze=Object(o.b)((function(e){return{Auth:e.Auth}}),{logout:I,loading:h})((function(e){var a=Object(u.g)().id,t=Object(r.useState)(),l=Object(_.a)(t,2),c=l[0],o=l[1],s=Object(r.useState)((function(){return Se.EditorState.createEmpty()})),m=Object(_.a)(s,2),d=m[0],p=m[1];return Object(r.useEffect)((function(){e.loading(!0),b.get("".concat(E.PRODUCT_DETAILS_FOR_SELLER,"/").concat(a)).then((function(e){if(console.log(e.data),e.data.status){o(e.data.data);var a=Object(Se.convertFromRaw)(JSON.parse(e.data.data.description)),t=Se.EditorState.createWithContent(a);p(t)}else f.b.error(e.data.message)})).catch((function(a){console.log(a),y(a,e.logout)})).finally((function(){e.loading(!1)}))}),[]),n.a.createElement("div",{className:"product-details-wrapper full-width-height"},n.a.createElement(X.a,{className:"site-page-header-responsive",title:"Product Details",subTitle:c?c.name:"",extra:[n.a.createElement(i.b,{to:"/dashboard/product/list",key:"1"},n.a.createElement(T.a,{key:"1",type:"primary",icon:n.a.createElement(q.a,null)},"Product Lists"))]}),n.a.createElement("div",{className:"product-details-inner padding-after-page-header"},n.a.createElement(xe,{productDescription:d,productDetails:c}),n.a.createElement(Ve,{productDetails:c})))}));var He=Object(o.b)((function(e){return{Auth:e.Auth}}),{})((function(e){var a=Object(r.useState)(!1),t=Object(_.a)(a,2),l=t[0],c=t[1];return n.a.createElement(P.a,{className:"dashboard-container"},n.a.createElement(Y,{toggleSideBar:function(){c(!l)}}),n.a.createElement(D.a,{className:"dashboard-content-container"},n.a.createElement(L.a,null,n.a.createElement(Q,{key:e.Auth.userdetails,sideBarCollapsed:l,user:e.Auth.userdetails})),n.a.createElement(L.a,{className:"dashboard-content-col"+(l?" dashboadr-sidebar-collapsed":" dashboard-sidebar-normal")},n.a.createElement(P.a.Content,{className:"dasboard-content-wrapper"},e.Auth.userdetails.userType&&"admin"===e.Auth.userdetails.userType?n.a.createElement("div",{className:"dashboard-content-inner"},n.a.createElement(u.d,null,n.a.createElement(u.b,{exact:!0,path:"/dashboard/user/list"},n.a.createElement(le,null)),n.a.createElement(u.b,{exact:!0,path:"/dashboard/user/create"},n.a.createElement(me,null)),n.a.createElement(u.b,{exact:!0,path:"/dashboard/category/create"},n.a.createElement(de,null)),n.a.createElement(u.b,{exact:!0,path:"/dashboard/category/list"},n.a.createElement(Ee,null)),n.a.createElement(u.b,{exact:!0,path:"/dashboard/product/create"},n.a.createElement(Pe,null)),n.a.createElement(u.b,{exact:!0,path:"/dashboard/product/list"},n.a.createElement(Le,null)),n.a.createElement(u.b,{exact:!0,path:"/dashboard/product/details/:id"},n.a.createElement(Me,null)),n.a.createElement(u.b,{exact:!0,path:"/dashboard/profile/:id"},n.a.createElement(Ye,null)))):n.a.createElement("div",{className:"dashboard-content-inner"},n.a.createElement(u.d,null,n.a.createElement(u.b,{path:"/dashboard/product/list"},n.a.createElement(Ke,null)),n.a.createElement(u.b,{exact:!0,path:"/dashboard/product/details/:id"},n.a.createElement(ze,null)),n.a.createElement(u.b,{exact:!0,path:"/dashboard/profile/:id"},n.a.createElement(Ye,null)))),n.a.createElement(P.a.Footer,{className:"dashboard-footer-wrapper"},"BANDHAN SOLUTIONS")))))}));var We=Object(o.b)((function(e){return{Auth:e.Auth}}),{setUserDetails:N,logout:I})((function(e){return Object(r.useEffect)((function(){e.Auth.userdetails||(console.log(e.Auth.userdetails),b.get(E.GET_USER_DETAILS).then((function(a){!a.data.status||"admin"!==a.data.data.userType&&"seller"!==a.data.data.userType?e.logout():e.setUserDetails(a.data.data)})).catch((function(a){console.log(a),y(a,e.logout)})))}),[]),n.a.createElement("div",null,e.Auth.userdetails?n.a.createElement(He,null):n.a.createElement(R,null))})),Je=Object(o.b)((function(e){return{}}),{login:k})((function(e){var a=localStorage.getItem("Token");return console.log(a),a&&"null"!==a&&"undefined"!==a&&e.login(a),n.a.createElement(n.a.Fragment,null,n.a.createElement(s,null),n.a.createElement(i.a,null,n.a.createElement(u.d,null,n.a.createElement(u.b,{exact:!0,path:"/"},n.a.createElement(u.a,{to:{pathname:"/dashboard"}})),n.a.createElement(d,{exact:!0,path:"/login"},n.a.createElement(C,null)),n.a.createElement(p,{path:"/dashboard"},n.a.createElement(We,null)),n.a.createElement(u.b,null,n.a.createElement(u.a,{to:"/"})))))})),Qe=t(110),Xe=t(308),Ze=t(309),$e=t.n(Ze),ea={loading_active:0},aa={isLoggedIn:!1,token:null,userdetails:null},ta=Object(Qe.c)({Loader:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ea,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"LOADING":var t=e.loading_active;return a.payload?t++:t=0===t?0:t-1,Object(ge.a)({},e,{loading_active:t});default:return e}},Auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:aa,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"LOGIN":return Object(ge.a)({},e,{isLoggedIn:!0,token:a.token,userdetails:a.userdetails});case"LOGOUT":return Object(ge.a)({},e,{isLoggedIn:!1,token:null,userdetails:null});case"SET_USER_DETAILS":return Object(ge.a)({},e,{userdetails:a.payload});default:return e}}}),ra=[Xe.a,$e.a],na=Object(Qe.d)(ta,{},Qe.a.apply(void 0,ra));c.a.render(n.a.createElement(o.a,{store:na},n.a.createElement(Je,null)),document.getElementById("root"))}},[[317,1,2]]]);
//# sourceMappingURL=main.7c15dae6.chunk.js.map