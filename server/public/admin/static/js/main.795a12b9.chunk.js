(this.webpackJsonpadmin=this.webpackJsonpadmin||[]).push([[0],{126:function(e,a,t){},180:function(e,a,t){e.exports=t.p+"static/media/brand-logo.26748af0.png"},227:function(e,a,t){},251:function(e,a,t){},290:function(e,a,t){},331:function(e,a,t){e.exports=t(621)},336:function(e,a,t){},377:function(e,a,t){},473:function(e,a,t){e.exports=t.p+"static/media/loader.e6dcd181.gif"},474:function(e,a,t){},513:function(e,a,t){},617:function(e,a,t){},620:function(e,a,t){},621:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),l=t(21),c=t.n(l),o=(t(336),t(227),t(22));var i=Object(o.b)((function(e){return{loader:e.Loader}}),{})((function(e){return r.a.createElement("div",{className:e.loader.loading_active>0?"loader-wrapper vsbl":"loader-wrapper nt-vsbl"},r.a.createElement("div",{id:"loader_bar"},r.a.createElement("b",null),r.a.createElement("i",null)))})),s=t(20),u=t(50),d=t(194);var m=Object(o.b)((function(e){return{Auth:e.Auth}}),{})((function(e){var a=e.children,t=e.Auth,n=Object(d.a)(e,["children","Auth"]);return r.a.createElement(u.b,Object.assign({},n,{render:function(e){e.location;return t.isLoggedIn?r.a.createElement(u.a,{to:{pathname:"/admin/dashboard"}}):a}}))}));var p=Object(o.b)((function(e){return{Auth:e.Auth}}),{})((function(e){var a=e.children,t=e.Auth,n=Object(d.a)(e,["children","Auth"]);return r.a.createElement(u.b,Object.assign({},n,{render:function(e){var n=e.location;return t.isLoggedIn?a:r.a.createElement(u.a,{to:{pathname:"/admin/login",state:{from:n}}})}}))})),E={BASE_LOCAL_URL:"",BASE_SERVER_URL:"https://bandhansolutions.herokuapp.com",LOGIN_WITH_EMAIL_AND_PASSWORD:"/apis/v1/login-with-email-password",GET_USER_DETAILS:"/apis/v1/userdetails",GET_PROFILE_DETAILS:"/apis/v1/profiledetails",UPDATE_PROFILE_DETAILS:"/apis/v1/update-profile",UPLOAD_USER_AVATAR:"/apis/v1/upload-avatar",USER_CREATE:"/apis/v1/user/create",LIST_USERS:"/apis/v1/user/list",CATEGORY_CREATE:"/apis/v1/category/create",LIST_CATEGORY:"/apis/v1/category/list",CREATE_PRODUCT:"/apis/v1/product/create",EDIT_PRODUCT:"/apis/v1/product/edit",UPLOAD_PRODUCT_IMAGE:"/apis/v1/upload-product-image",LIST_PRODUCTS_FOR_ADMIN:"/apis/v1/product/listforadmin",PRODUCT_DETAILS_FOR_ADMIN:"/apis/v1/product/detailsofadmin",STOCK_LIST_FOR_ADMIN:"/apis/v1/product/stock-list-foradmin",LIST_PRODUCT_FOR_SELLER:"/apis/v1/product/listforseller",PRODUCT_DETAILS_FOR_SELLER:"/apis/v1/product/detailsforseller",UPDATE_PRODUCT_STOCK_SELLER:"/apis/v1/product/stock/updatebyseller",GET_ORDERS_LIST:"/apis/v1/seller/get-my-orders",ORDER_DETAILS:"/apis/v1/order/details",UPDATE_ORDER_STATUS:"/apis/v1/order/update-status-details",UPLOAD_POSTER:"/apis/v1/upload-poster",LIST_POSTER:"/apis/v1/list-poster",DELETE_POSTER:"/apis/v1/delete-poster"},g=t(292),b=t.n(g).a.create({baseURL:E.BASE_SERVER_URL}),f=function(e){return{type:"LOADING",payload:e}},h=t(327),y=function(e,a){try{console.log(e.response),401===e.response.status?a():422===e.response.status?h.b.error("Server Error!"):h.b.error(e.response.data.message||"server error")}catch(t){console.log(t),h.b.error("Server Error!")}},v=t(628),O=t(627),S=t(630),j=t(61),T=t(635),k=t(636),I=function(e,a){return b.defaults.headers.common.Authorization="Bearer "+e,{type:"LOGIN",token:e,userdetails:a}},A=function(){return localStorage.removeItem("Token"),{type:"LOGOUT"}},P=function(e){return{type:"SET_USER_DETAILS",payload:e}},N=(t(377),t(180)),R=t.n(N);var _=Object(o.b)((function(e){return{Auth:e.Auth}}),{loading:f,login:I,setUserDetails:P,logout:A})((function(e){return r.a.createElement("div",{className:"login-page-container"},r.a.createElement("div",{className:"login-section-wrapper"},r.a.createElement(v.a.Title,{level:1},"BANDHAN"),r.a.createElement("img",{src:R.a,style:{width:"100px",marginBottom:"20px"}}),r.a.createElement("p",{className:"brand-sub-name"},"ADMIN PANEL"),r.a.createElement(O.a,{name:"login-form",className:"login-form",onFinish:function(a){console.log("getting ".concat(a," from the form")),e.loading(!0),b.post(E.LOGIN_WITH_EMAIL_AND_PASSWORD,a).then((function(a){console.log(a.data),!a.data.status||"admin"!==a.data.data.userType&&"seller"!==a.data.data.userType?h.b.error(a.data.message):(localStorage.setItem("Token",a.data.token),e.login(a.data.token,a.data.data))})).catch((function(a){console.log(a),y(a,e.logout)})).finally((function(){e.loading(!1)}))}},r.a.createElement(O.a.Item,{name:"email",hasFeedback:!0,rules:[{required:!0,message:"Please input your E-mail!"},{type:"email",message:"The input is not valid E-mail!"}]},r.a.createElement(S.a,{prefix:r.a.createElement(T.a,{className:"site-form-item-icon"}),placeholder:"email id"})),r.a.createElement(O.a.Item,{name:"password",hasFeedback:!0,rules:[{required:!0,message:"Please input your Password!"}]},r.a.createElement(S.a.Password,{prefix:r.a.createElement(k.a,{className:"site-form-item-icon"}),type:"password",placeholder:"Password"})),r.a.createElement(O.a.Item,null,r.a.createElement(j.a,{type:"primary",htmlType:"submit",className:"login-form-button"},"Log in")))))}));function C(){return r.a.createElement("div",{className:"entry-loader-container"},r.a.createElement("img",{src:t(473),className:"entry-loader-brand-logo",alt:"entry-loader"}),r.a.createElement(v.a.Title,{level:4},"Loading..."))}var D=t(7),L=t(622),w=t(137),x=t(89),U=(t(474),t(631)),F=t(328),B=t(74),M=t(637),Y=t(638),G=t(639);var V=Object(o.b)((function(e){return{Theme:e.Theme}}),{logout:A})((function(e){return r.a.createElement(L.a.Header,{className:"dashboard-header-wrapper"},r.a.createElement(w.a,{justify:"space-between"},r.a.createElement(x.a,null,r.a.createElement(w.a,{gutter:20,align:"middle"},r.a.createElement(x.a,null,r.a.createElement(s.b,{to:"/admin/dashboard"},r.a.createElement("img",{src:R.a,style:{height:"50px"}}))),r.a.createElement(x.a,{className:"header-brand-name-wrapper"},r.a.createElement(v.a.Title,{className:"header-brand-name",level:3},"BANDHAN")))),r.a.createElement(x.a,null,r.a.createElement(w.a,{gutter:30},r.a.createElement(x.a,null,r.a.createElement(U.a,{dot:!0},r.a.createElement(M.a,{className:"header-option-icons"}))),r.a.createElement(x.a,null,r.a.createElement(F.a,{placement:"bottomRight",trigger:"click"},r.a.createElement(Y.a,{className:"header-option-icons"}))),r.a.createElement(x.a,null,r.a.createElement(B.a,{title:"logout"},r.a.createElement(G.a,{className:"header-option-icons",onClick:e.logout})))))))})),K=t(98),q=t(640),z=t(641),H=t(642),J=t(643),W=t(644),Q=function(e){return r.a.createElement(K.a,{theme:"dark",mode:"inline"},r.a.createElement(K.a.SubMenu,{key:"admin1",title:r.a.createElement("span",null,r.a.createElement(Y.a,null),r.a.createElement("span",null,"USER"))},r.a.createElement(K.a.Item,{key:"11"},r.a.createElement(s.b,{to:"/admin/dashboard/user/create"},r.a.createElement(q.a,null),r.a.createElement("span",null,"CREATE USER"))),r.a.createElement(K.a.Item,{key:"12"},r.a.createElement(s.b,{to:"/admin/dashboard/user/list"},r.a.createElement(z.a,null),r.a.createElement("span",null,"USER LIST")))),r.a.createElement(K.a.SubMenu,{key:"admin2",title:r.a.createElement("span",null,r.a.createElement(H.a,null),r.a.createElement("span",null,"CATEGORY"))},r.a.createElement(K.a.Item,{key:"21"},r.a.createElement(s.b,{to:"/admin/dashboard/category/create"},r.a.createElement(q.a,null),r.a.createElement("span",null,"CREATE CATEGORY"))),r.a.createElement(K.a.Item,{key:"22"},r.a.createElement(s.b,{to:"/admin/dashboard/category/list"},r.a.createElement(z.a,null),r.a.createElement("span",null,"CATEGORY LIST")))),r.a.createElement(K.a.SubMenu,{key:"admin3",title:r.a.createElement("span",null,r.a.createElement(J.a,null),r.a.createElement("span",null,"PRODUCT"))},r.a.createElement(K.a.Item,{key:"31"},r.a.createElement(s.b,{to:"/admin/dashboard/product/create"},r.a.createElement(q.a,null),r.a.createElement("span",null,"CREATE PRODUCT"))),r.a.createElement(K.a.Item,{key:"32"},r.a.createElement(s.b,{to:"/admin/dashboard/product/list"},r.a.createElement(z.a,null),r.a.createElement("span",null,"PRODUCT LIST")))),r.a.createElement(K.a.Item,{key:"admin-44"},r.a.createElement(s.b,{to:"/admin/dashboard/orders"},r.a.createElement(J.a,null),r.a.createElement("span",null,"ORDERS"))),r.a.createElement(K.a.Item,{key:"admin-54"},r.a.createElement(s.b,{to:"/admin/dashboard/posters"},r.a.createElement(W.a,null),r.a.createElement("span",null,"POSTERS"))))},X=function(e){return r.a.createElement(K.a,{theme:"dark",mode:"inline"},r.a.createElement(K.a.Item,{key:"32"},r.a.createElement(s.b,{to:"/admin/dashboard/product/list"},r.a.createElement(z.a,null),r.a.createElement("span",null,"PRODUCT LIST"))),r.a.createElement(K.a.Item,{key:"33"},r.a.createElement(s.b,{to:"/admin/dashboard/orders"},r.a.createElement(J.a,null),r.a.createElement("span",null,"ORDERS"))),r.a.createElement(K.a.Item,{key:"34"},r.a.createElement(s.b,{to:"/admin/dashboard/profile/".concat(e.user?e.user._id:"")},r.a.createElement(Y.a,null),r.a.createElement("span",null,"PROFILE"))))},Z=L.a.Sider;var $=Object(o.b)((function(e){return{Auth:e.Auth}}),{})((function(e){return r.a.createElement(Z,{key:e.Auth.userdetails,trigger:null,collapsible:!0,collapsed:e.sideBarCollapsed,className:"dasboard-sidebar-wrapper"},"admin"===e.Auth.userdetails.userType?r.a.createElement(Q,{user:e.user}):null,"seller"===e.Auth.userdetails.userType?r.a.createElement(X,{user:e.user}):null)})),ee=t(629),ae=t(624),te=t(155),ne=t(323),re=(t(251),t(51)),le=t.n(re),ce=t(634),oe=[{title:"Name",dataIndex:"name",key:"name"},{title:"Email Id",dataIndex:"email",key:"email"},{title:"Phone Number",dataIndex:"phoneNumber",key:"phoneNumber"},{title:"Registration Timestamp",dataIndex:"createdAt",key:"createdAt",render:function(e){return r.a.createElement(ce.a,{color:"geekblue"},le()(e).format("DD-MM-YYYY hh:mm"))}},{title:"CONTROLS",dataIndex:"createdAt",key:"createdAt",render:function(e,a){return r.a.createElement(r.a.Fragment,null,r.a.createElement(s.b,{to:"/admin/dashboard/profile/".concat(a._id)},"Edit"))}}];var ie=Object(o.b)((function(e){return{Auth:e.Auth}}),{logout:A,loading:f})((function(e){var a=Object(n.useState)(!1),t=Object(D.a)(a,2),l=t[0],c=t[1],o=Object(n.useState)([]),i=Object(D.a)(o,2),u=i[0],d=i[1],m=Object(n.useState)(1),p=Object(D.a)(m,2),g=p[0],f=p[1],v=Object(n.useState)(0),O=Object(D.a)(v,2),S=O[0],T=O[1],k=Object(n.useState)(10),I=Object(D.a)(k,2),A=I[0],P=(I[1],Object(n.useState)("customer")),N=Object(D.a)(P,2),R=N[0],_=N[1],C=function(e){f(e)},L=function(e){f(1),_(e)};return Object(n.useEffect)((function(){!function(){c(!0);var a={pageNumber:g,pageSize:A,userType:R};b.post(E.LIST_USERS,a).then((function(e){console.log(e.data),e.data.status?(d(e.data.data),T(e.data.total)):h.b.error(e.data.message)})).catch((function(a){console.log(a),y(a,e.logout)})).finally((function(){c(!1)}))}()}),[g,R]),r.a.createElement("div",{className:"user-list-wrapper full-width-height"},r.a.createElement(ee.a,{className:"site-page-header-responsive",title:"All Users",subTitle:"List all Users",extra:[r.a.createElement(s.b,{to:"/admin/dashboard/user/create",key:"1"},r.a.createElement(j.a,{key:"1",type:"primary",icon:r.a.createElement(q.a,null)},"Create User"))]}),r.a.createElement("div",{className:"user-list padding-after-page-header"},r.a.createElement(ae.a,{scroll:{x:1e3},bordered:!0,pagination:!1,loading:l,dataSource:u,columns:oe,rowKey:"_id",title:function(){return r.a.createElement(w.a,{gutter:16,justify:"end"},r.a.createElement(x.a,null,r.a.createElement(te.a,{style:{width:"200px"},value:R,onChange:L},r.a.createElement(te.a.Option,{value:"admin"},"Admin"),r.a.createElement(te.a.Option,{value:"seller"},"Seller"),r.a.createElement(te.a.Option,{value:"customer"},"Customer"))))},footer:function(){return r.a.createElement(w.a,{gutter:16,justify:"end"},r.a.createElement(x.a,null,r.a.createElement(ne.a,{pageSize:A,current:g,onChange:C,total:S})))}})))})),se=t(625),ue=t(645),de=t(646),me=t(86),pe=function(e,a,t,n){console.log(e.size/1024/1024,e.type);var r=a.includes(e.type),l=e.size/1024/1024<t;r?l?n():h.b.error("Too large file!"):h.b.error("Invalid file type!")};te.a.Option;var Ee=Object(o.b)((function(e){return{Auth:e.Auth}}),{logout:A,loading:f})((function(e){var a=O.a.useForm(),t=Object(D.a)(a,1)[0],l=Object(n.useState)(),c=Object(D.a)(l,2),o=c[0],i=c[1],u=Object(n.useState)(!1),d=Object(D.a)(u,2),m=d[0],p=d[1],g=Object(n.useState)(),f=Object(D.a)(g,2),v=f[0],T=f[1];return r.a.createElement("div",{className:"user-create-wrapper full-width-height"},r.a.createElement(ee.a,{className:"site-page-header-responsive",title:"Create Users",subTitle:"Add new User",extra:[r.a.createElement(s.b,{to:"/admin/dashboard/user/list",key:"1"},r.a.createElement(j.a,{key:"1",type:"primary",icon:r.a.createElement(z.a,null)},"List Users"))]}),r.a.createElement("div",{className:"user-create-from padding-after-page-header"},r.a.createElement(O.a,{layout:"vertical",form:t,onFinish:function(a){if(o){var n=a.email,r=a.name,l=a.phoneNumber,c=a.userType,s=a.password,u=a.deliverTo;e.loading(!0),b.post(E.USER_CREATE,{email:n,name:r,phoneNumber:l,userType:c,password:s,avatar:o,deliverTo:u}).then((function(e){console.log(e.data),e.data.status?(h.b.info("User created sucessfully"),t.resetFields(),i(),T()):h.b.error(e.data.message)})).catch((function(a){console.log(a),y(a,e.logout)})).finally((function(){e.loading(!1)}))}else h.b.error("please upload an avatar.")},scrollToFirstError:!0,className:"basic-form"},r.a.createElement(w.a,{gutter:16},r.a.createElement(x.a,{span:"12"},r.a.createElement(O.a.Item,{label:"Name",name:"name",rules:[{required:!0,message:"Please enter the user's name!"}]},r.a.createElement(S.a,{placeholder:"Name"})),r.a.createElement(O.a.Item,{label:"Email Id",name:"email",rules:[{required:!0,message:"Please enter the email id!"},{type:"email",message:"Enter a valid email id"}]},r.a.createElement(S.a,{placeholder:"Email Id"}))),r.a.createElement(x.a,{span:"12"},r.a.createElement(me.a,{grid:!0,shape:"round"},r.a.createElement(se.a,{name:"avatar",listType:"picture-card",className:"avatar-uploader",showUploadList:!1,beforeUpload:function(a){return pe(a,["image/jpeg","image/png"],2,(function(){p(!0);var t=new FormData;t.append("avatar",a),b.post(E.UPLOAD_USER_AVATAR,t,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){e.data.status?i(e.data.file):h.b.error(e.data.message)})).catch((function(a){console.log(a),y(a,e.logout)})).finally((function(){p(!1)}))})),!1}},o?r.a.createElement("img",{src:"".concat(E.BASE_SERVER_URL).concat(o),className:"uploaded-avatar"}):r.a.createElement("div",null,m?r.a.createElement(ue.a,null):r.a.createElement(de.a,null),r.a.createElement("div",{className:"ant-upload-text"},"Upload")))))),r.a.createElement(w.a,{gutter:16},r.a.createElement(x.a,{span:"12"},r.a.createElement(O.a.Item,{label:"Phone Number",name:"phoneNumber",rules:[{required:!0,message:"Please enter the phone number!"},{len:10,message:"Enter a valid phone number!"}]},r.a.createElement(S.a,{type:"number",placeholder:"Phone Number",style:{width:"100%"}}))),r.a.createElement(x.a,{span:"12"},r.a.createElement(O.a.Item,{label:"User type",name:"userType",rules:[{required:!0,message:"Please select one option!"}]},r.a.createElement(te.a,{onChange:T,placeholder:"Select a user type"},r.a.createElement(te.a.Option,{value:"admin"},"Admin"),r.a.createElement(te.a.Option,{value:"seller"},"Seller"),r.a.createElement(te.a.Option,{value:"customer"},"Customer"))))),r.a.createElement(w.a,{gutter:16,align:"bottom"},r.a.createElement(x.a,{span:"12"},r.a.createElement(O.a.Item,{label:"Password",name:"password",rules:[{required:!0,message:"Please enter the password!"},{min:6,message:"Password must be atleast 6 character long!"}]},r.a.createElement(S.a.Password,{type:"password",placeholder:"Password"}))),r.a.createElement(x.a,{span:"12"},r.a.createElement(O.a.Item,{label:"Confirm Password",name:"ConfirmPassword",dependencies:["password"],rules:[{required:!0,message:"Please enter the password again!"},function(e){var a=e.getFieldValue;return{validator:function(e,t){return t&&a("password")!==t?Promise.reject("The two passwords that you entered do not match!"):Promise.resolve()}}}]},r.a.createElement(S.a.Password,{type:"password",placeholder:"Password"})))),"seller"===v?r.a.createElement(w.a,{justify:"center",gutter:16},r.a.createElement(x.a,{span:24},r.a.createElement(O.a.Item,{label:"Delivery Pin Codes",name:"deliverTo"},r.a.createElement(te.a,{mode:"tags",style:{width:"100%",minHeight:"50px"},tokenSeparators:[","]})))):null,r.a.createElement(w.a,{justify:"end",gutter:16},r.a.createElement(x.a,null,r.a.createElement(O.a.Item,null,r.a.createElement(j.a,{type:"primary",htmlType:"submit"},"Create")))))))}));te.a.Option;var ge=Object(o.b)((function(e){return{Auth:e.Auth}}),{logout:A,loading:f})((function(e){var a=O.a.useForm(),t=Object(D.a)(a,1)[0];return r.a.createElement("div",{className:"category-create-wrapper full-width-height"},r.a.createElement(ee.a,{className:"site-page-header-responsive",title:"Create Category",subTitle:"Add new Category",extra:[r.a.createElement(s.b,{to:"/admin/dashboard/category/list",key:"1"},r.a.createElement(j.a,{key:"1",type:"primary",icon:r.a.createElement(z.a,null)},"List Categories"))]}),r.a.createElement("div",{className:"category-create-from padding-after-page-header"},r.a.createElement(O.a,{layout:"vertical",form:t,onFinish:function(a){console.log(a);var n=a.name;e.loading(!0),b.post(E.CATEGORY_CREATE,{name:n}).then((function(e){console.log(e.data),e.data.status?(h.b.info("Category created sucessfully"),t.resetFields()):h.b.error(e.data.message)})).catch((function(a){console.log(a),y(a,e.logout)})).finally((function(){e.loading(!1)}))},scrollToFirstError:!0,className:"basic-form"},r.a.createElement(w.a,{gutter:16},r.a.createElement(x.a,{span:"12"},r.a.createElement(O.a.Item,{label:"Category Name",name:"name",rules:[{required:!0,message:"Please enter the category name!"}]},r.a.createElement(S.a,{placeholder:"Category Name"})))),r.a.createElement(w.a,{justify:"end",gutter:16},r.a.createElement(x.a,null,r.a.createElement(O.a.Item,null,r.a.createElement(j.a,{type:"primary",htmlType:"submit"},"Create")))))))})),be=[{title:"Name",dataIndex:"name",key:"name"},{title:"Category Created",dataIndex:"createdAt",key:"createdAt",render:function(e){return r.a.createElement(ce.a,{color:"geekblue"},le()(e).format("DD-MM-YYYY hh:mm"))}}];var fe=Object(o.b)((function(e){return{Auth:e.Auth}}),{logout:A,loading:f})((function(e){var a=Object(n.useState)(!1),t=Object(D.a)(a,2),l=t[0],c=t[1],o=Object(n.useState)([]),i=Object(D.a)(o,2),u=i[0],d=i[1],m=Object(n.useState)(0),p=Object(D.a)(m,2),g=p[0],f=p[1],v=Object(n.useState)(1),O=Object(D.a)(v,2),S=O[0],T=O[1],k=Object(n.useState)(2),I=Object(D.a)(k,2),A=I[0],P=(I[1],function(e){T(e)});return Object(n.useEffect)((function(){!function(){c(!0);var a={pageNumber:S,pageSize:A};b.post(E.LIST_CATEGORY,a).then((function(e){console.log(e.data),e.data.status?(d(e.data.data),f(e.data.total)):h.b.error(e.data.message)})).catch((function(a){console.log(a),y(a,e.logout)})).finally((function(){c(!1)}))}()}),[S]),r.a.createElement("div",{className:"category-list-wrapper full-width-height"},r.a.createElement(ee.a,{className:"site-page-header-responsive",title:"All Categories",subTitle:"List all Categories",extra:[r.a.createElement(s.b,{to:"/admin/dashboard/category/create",key:"1"},r.a.createElement(j.a,{key:"1",type:"primary",icon:r.a.createElement(q.a,null)},"Create Category"))]}),r.a.createElement("div",{className:"category-list padding-after-page-header"},r.a.createElement(ae.a,{scroll:{x:1e3},bordered:!0,pagination:!1,loading:l,dataSource:u,columns:be,rowKey:"_id",footer:function(){return r.a.createElement(w.a,{gutter:16,justify:"end"},r.a.createElement(x.a,null,r.a.createElement(ne.a,{pageSize:A,current:S,onChange:P,total:g})))}})))})),he=t(57),ye=t(59),ve=t(222),Oe=t(223),Se=t(124),je=t(226),Te=t(225),ke=(t(512),t(513),t(45)),Ie=function(e){Object(je.a)(t,e);var a=Object(Te.a)(t);function t(e){var n;return Object(ve.a)(this,t),(n=a.call(this,e)).focus=function(){return n.refs.editor.focus()},n.onChange=function(e){return n.props.onChange(e)},n.handleKeyCommand=n._handleKeyCommand.bind(Object(Se.a)(n)),n.mapKeyToEditorCommand=n._mapKeyToEditorCommand.bind(Object(Se.a)(n)),n.toggleBlockType=n._toggleBlockType.bind(Object(Se.a)(n)),n.toggleInlineStyle=n._toggleInlineStyle.bind(Object(Se.a)(n)),n}return Object(Oe.a)(t,[{key:"_handleKeyCommand",value:function(e,a){var t=ke.RichUtils.handleKeyCommand(a,e);return!!t&&(this.onChange(t),!0)}},{key:"_mapKeyToEditorCommand",value:function(e){if(9!==e.keyCode)return Object(ke.getDefaultKeyBinding)(e);var a=ke.RichUtils.onTab(e,this.props.editorState,4);a!==this.props.editorState&&this.onChange(a)}},{key:"_toggleBlockType",value:function(e){this.onChange(ke.RichUtils.toggleBlockType(this.props.editorState,e))}},{key:"_toggleInlineStyle",value:function(e){this.onChange(ke.RichUtils.toggleInlineStyle(this.props.editorState,e))}},{key:"render",value:function(){var e=this.props.editorState,a="RichEditor-editor",t=e.getCurrentContent();return t.hasText()||"unstyled"!==t.getBlockMap().first().getType()&&(a+=" RichEditor-hidePlaceholder"),r.a.createElement("div",{className:"RichEditor-root"},r.a.createElement(_e,{editorState:e,onToggle:this.toggleBlockType}),r.a.createElement(De,{editorState:e,onToggle:this.toggleInlineStyle}),r.a.createElement("div",{className:a,onClick:this.focus},r.a.createElement(ke.Editor,{blockStyleFn:Pe,customStyleMap:Ae,editorState:e,handleKeyCommand:this.handleKeyCommand,keyBindingFn:this.mapKeyToEditorCommand,onChange:this.onChange,placeholder:"Product Description",ref:"editor",spellCheck:!0})))}}]),t}(r.a.Component),Ae={CODE:{backgroundColor:"rgba(0, 0, 0, 0.05)",fontFamily:'"Inconsolata", "Menlo", "Consolas", monospace',fontSize:16,padding:2}};function Pe(e){switch(e.getType()){case"blockquote":return"RichEditor-blockquote";default:return null}}var Ne=function(e){Object(je.a)(t,e);var a=Object(Te.a)(t);function t(){var e;return Object(ve.a)(this,t),(e=a.call(this)).onToggle=function(a){a.preventDefault(),e.props.onToggle(e.props.style)},e}return Object(Oe.a)(t,[{key:"render",value:function(){var e="RichEditor-styleButton";return this.props.active&&(e+=" RichEditor-activeButton"),r.a.createElement("span",{className:e,onMouseDown:this.onToggle},this.props.label)}}]),t}(r.a.Component),Re=[{label:"H1",style:"header-one"},{label:"H2",style:"header-two"},{label:"H3",style:"header-three"},{label:"H4",style:"header-four"},{label:"H5",style:"header-five"},{label:"H6",style:"header-six"},{label:"Blockquote",style:"blockquote"},{label:"UL",style:"unordered-list-item"},{label:"OL",style:"ordered-list-item"},{label:"Code Block",style:"code-block"}],_e=function(e){var a=e.editorState,t=a.getSelection(),n=a.getCurrentContent().getBlockForKey(t.getStartKey()).getType();return r.a.createElement("div",{className:"RichEditor-controls"},Re.map((function(a){return r.a.createElement(Ne,{key:a.label,active:a.style===n,label:a.label,onToggle:e.onToggle,style:a.style})})))},Ce=[{label:"Bold",style:"BOLD"},{label:"Italic",style:"ITALIC"},{label:"Underline",style:"UNDERLINE"},{label:"Monospace",style:"CODE"}],De=function(e){var a=e.editorState.getCurrentInlineStyle();return r.a.createElement("div",{className:"RichEditor-controls"},Ce.map((function(t){return r.a.createElement(Ne,{key:t.label,active:a.has(t.style),label:t.label,onToggle:e.onToggle,style:t.style})})))},Le=Ie,we=(t(126),te.a.Option,["KG","GRAM","Pack","Piece","LTR","ML"]);var xe=Object(o.b)((function(e){return{Auth:e.Auth}}),{logout:A,loading:f})((function(e){var a=O.a.useForm(),t=Object(D.a)(a,1)[0],l=Object(n.useState)([{link:null,loading:!1,hasremove:!1}]),c=Object(D.a)(l,2),o=c[0],i=c[1],u=Object(n.useState)([]),d=Object(D.a)(u,2),m=d[0],p=d[1],g=Object(n.useState)([]),f=Object(D.a)(g,2),v=f[0],T=f[1],k=Object(n.useState)((function(){return ke.EditorState.createEmpty()})),I=Object(D.a)(k,2),A=I[0],P=I[1];Object(n.useEffect)((function(){!function(){e.loading(!0);b.post(E.LIST_CATEGORY,{pageNumber:1,pageSize:1e3}).then((function(e){console.log(e.data),e.data.status?T(e.data.data):h.b.error(e.data.message)})).catch((function(a){console.log(a),y(a,e.logout)})).finally((function(){e.loading(!1)}))}()}),[]);var N=function(){var e=!0;return o.forEach((function(a){a.link||(e=!1)})),e};return r.a.createElement("div",{className:"product-create-wrapper full-width-height"},r.a.createElement(ee.a,{className:"site-page-header-responsive",title:"Create Product",subTitle:"Add new Product",extra:[r.a.createElement(s.b,{to:"/admin/dashboard/product/list",key:"1"},r.a.createElement(j.a,{key:"1",type:"primary",icon:r.a.createElement(z.a,null)},"List Products"))]}),r.a.createElement("div",{className:"product-create-from padding-after-page-header"},r.a.createElement(O.a,{layout:"vertical",form:t,onFinish:function(a){var n=!0;if(m.forEach((function(e,a){e&&e.type&&e.value||(n=!1)})),N())if(n){var r=Object(ke.convertToRaw)(A.getCurrentContent()),l=a.name,c=a.category,s=a.regularPrice,u=a.salePrice,d=a.productVideo,p={name:l,category:c,regularPrice:s,salePrice:u,images:o.map((function(e){return e.link})),description:JSON.stringify(r),properties:m,productVideo:d};console.log(p),e.loading(!0),b.post(E.CREATE_PRODUCT,p).then((function(e){if(e.data.status){h.b.success(e.data.message),t.resetFields(),i([{link:null,loading:!1,hasremove:!1}]);var a=ke.EditorState.push(A,ke.ContentState.createFromText(""));P(a)}else h.b.error(e.data.message)})).catch((function(a){console.log(a),y(a,e.logout)})).finally((function(){e.loading(!1)}))}else h.b.error("Please clear the unwanted properties");else h.b.error("Please upload all images or remove them")},scrollToFirstError:!0,className:"basic-form product-form"},r.a.createElement(w.a,{gutter:16},r.a.createElement(x.a,{span:"12"},r.a.createElement(O.a.Item,{label:"Product Name",name:"name",rules:[{required:!0,message:"Please enter the product name"}]},r.a.createElement(S.a,{placeholder:"Product Name"}))),r.a.createElement(x.a,{span:"12"},r.a.createElement(O.a.Item,{label:"Categories",name:"category",rules:[{required:!0,message:"Please select the categories"}]},r.a.createElement(te.a,{showSearch:!0,placeholder:"Select one or more category",mode:"multiple",filterOption:function(e,a){return a.children.toLowerCase().indexOf(e.toLowerCase())>=0}},v.map((function(e,a){return r.a.createElement(te.a.Option,{key:a,value:e._id},e.name)})))))),r.a.createElement(w.a,{gutter:16,style:{marginBottom:"40px"}},r.a.createElement(x.a,{span:"24"},r.a.createElement(Le,{editorState:A,onChange:P}))),r.a.createElement(w.a,{gutter:16,style:{marginBottom:"20px"}},r.a.createElement(x.a,{span:"8"},r.a.createElement(O.a.Item,{label:"Regular Price (in rupees)",name:"regularPrice",rules:[{required:!0,message:"Please enter the regular Price"}]},r.a.createElement(S.a,{placeholder:"Regular Price",type:"number"}))),r.a.createElement(x.a,{span:"8"},r.a.createElement(O.a.Item,{label:"Sale Price (in rupees)",name:"salePrice"},r.a.createElement(S.a,{placeholder:"Sale Price",type:"number"}))),r.a.createElement(x.a,{span:"8"},r.a.createElement(O.a.Item,{label:"Product Video( video Id only)",name:"productVideo"},r.a.createElement(S.a,{placeholder:"Product video( video Id only)"})))),r.a.createElement("p",{style:{marginBottom:"10px"}},"Product Properties"),m.map((function(e,a){return r.a.createElement(w.a,{gutter:16,key:a,style:{marginBottom:"5px"}},r.a.createElement(x.a,{span:"8"},r.a.createElement(te.a,{showSearch:!0,placeholder:"Select a property",style:{width:"100%"},value:e.type,filterOption:function(e,a){return a.children.toLowerCase().indexOf(e.toLowerCase())>=0},onChange:function(e){return function(e,a){var t=Object(ye.a)(m);t[e].type=a,p(t)}(a,e)}},r.a.createElement(te.a.Option,{key:11111,value:""},"please select a key"),we.map((function(e,a){return r.a.createElement(te.a.Option,{key:a,value:e},e)})))),r.a.createElement(x.a,{span:"8"},r.a.createElement(S.a,{type:"text",onChange:function(e){return function(e,a){var t=Object(ye.a)(m);t[e].value=a,p(t)}(a,e.target.value)},placeholder:"please enter the value",value:e.value})),r.a.createElement(x.a,{span:"8"},r.a.createElement(j.a,{onClick:function(){return function(e){var a=Object(ye.a)(m);a.splice(e,1),p(a)}(a)}},"remove")))})),r.a.createElement(w.a,{gutter:16,justify:"end",style:{marginBottom:"30px"}},r.a.createElement(x.a,null,r.a.createElement(j.a,{type:"default",onClick:function(){var e=Object(ye.a)(m);e.push({type:"",value:""}),p(e)}},"Add Propert"))),r.a.createElement("p",{style:{marginBottom:"10px"}},"Product Images"),r.a.createElement(w.a,{gutter:16},o.map((function(a,t){return r.a.createElement(x.a,{span:"8",key:t},r.a.createElement(me.a,{grid:!0,shape:"rect",aspect:.75},r.a.createElement(se.a,{name:"image".concat(t),listType:"picture-card",className:"image-uploader",showUploadList:!1,beforeUpload:function(a){return r=t,pe(n=a,["image/jpeg","image/png"],2,(function(){var a=Object(ye.a)(o);a[r].loading=!0,i(a);var t=new FormData;t.append("image",n),b.post(E.UPLOAD_PRODUCT_IMAGE,t,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){if(e.data.status){var a=Object(ye.a)(o);a[r].link=e.data.file,i(a)}else h.b.error(e.data.message)})).catch((function(a){console.log(a),y(a,e.logout)})).finally((function(){var e=Object(ye.a)(o);e[r].loading=!1,i(e)}))})),!1;var n,r}},a.link?r.a.createElement("img",{src:"".concat(E.BASE_SERVER_URL).concat(a.link),className:"uploaded-image"}):r.a.createElement("div",null,a.loading?r.a.createElement(ue.a,null):r.a.createElement(de.a,null),r.a.createElement("div",{className:"ant-upload-text"},"Upload")))),a.hasremove?r.a.createElement(j.a,{type:"default",onClick:function(){return function(e){var a=Object(ye.a)(o),t=a.length;t>1&&a.splice(e,1),2==t&&(a[0].hasremove=!1),i(a)}(t)}},"Remove Image"):null)}))),r.a.createElement(w.a,{gutter:16,justify:"end",style:{marginBottom:"30px"}},r.a.createElement(x.a,null,r.a.createElement(j.a,{type:"default",onClick:function(){var e=Object(ye.a)(o);if(e[e.length-1].link){e.push({link:null,loading:!1,hasremove:!0});var a=e.map((function(e){return Object(he.a)(Object(he.a)({},e),{},{hasremove:!0})}));i(a)}}},"Add Image"))),r.a.createElement(w.a,{justify:"end",gutter:16},r.a.createElement(x.a,null,r.a.createElement(O.a.Item,null,r.a.createElement(j.a,{type:"primary",htmlType:"submit"},"Create")))))))})),Ue=(te.a.Option,["KG","GRAM","Pack","Piece","LTR","ML"]);var Fe=Object(o.b)((function(e){return{Auth:e.Auth}}),{logout:A,loading:f})((function(e){var a=Object(u.g)().id,t=O.a.useForm(),l=Object(D.a)(t,1)[0],c=Object(n.useState)([{link:null,loading:!1,hasremove:!1}]),o=Object(D.a)(c,2),i=o[0],d=o[1],m=Object(n.useState)([]),p=Object(D.a)(m,2),g=p[0],f=p[1],v=Object(n.useState)([]),T=Object(D.a)(v,2),k=T[0],I=T[1],A=Object(n.useState)((function(){return ke.EditorState.createEmpty()})),P=Object(D.a)(A,2),N=P[0],R=P[1];Object(n.useEffect)((function(){!function(){e.loading(!0);b.post(E.LIST_CATEGORY,{pageNumber:1,pageSize:1e3}).then((function(e){console.log(e.data),e.data.status?I(e.data.data):h.b.error(e.data.message)})).catch((function(a){console.log(a),y(a,e.logout)})).finally((function(){e.loading(!1)}))}()}),[]),Object(n.useEffect)((function(){k.length>0&&(e.loading(!0),b.get("".concat(E.PRODUCT_DETAILS_FOR_ADMIN,"/").concat(a)).then((function(e){if(console.log(e.data),e.data.status){console.log(e.data.data),l.setFieldsValue({name:e.data.data.name,category:e.data.data.category.map((function(e){return e._id})),regularPrice:e.data.data.regularPrice,salePrice:e.data.data.salePrice,productVideo:e.data.data.productVideo});var a=e.data.data.images.map((function(e,a){var t={link:e,loading:!1,hasremove:!1};return 0!=a&&(t.hasremove=!0),t}));d(a),f(e.data.data.properties);var t=Object(ke.convertFromRaw)(JSON.parse(e.data.data.description)),n=ke.EditorState.createWithContent(t);R(n)}else h.b.error(e.data.message)})).catch((function(a){console.log(a),y(a,e.logout)})).finally((function(){e.loading(!1)})))}),[k]);var _=function(){var e=!0;return i.forEach((function(a){a.link||(e=!1)})),e};return r.a.createElement("div",{className:"product-create-wrapper full-width-height"},r.a.createElement(ee.a,{className:"site-page-header-responsive",title:"Edit Product",subTitle:"Update Product",extra:[r.a.createElement(s.b,{to:"/admin/dashboard/product/list",key:"1"},r.a.createElement(j.a,{key:"1",type:"primary",icon:r.a.createElement(z.a,null)},"List Products"))]}),r.a.createElement("div",{className:"product-create-from padding-after-page-header"},r.a.createElement(O.a,{layout:"vertical",form:l,onFinish:function(t){var n=!0;if(g.forEach((function(e,a){e&&e.type&&e.value||(n=!1)})),_())if(n){var r=Object(ke.convertToRaw)(N.getCurrentContent()),l=t.name,c=t.category,o=t.regularPrice,s=t.salePrice,u=t.productVideo,d={name:l,category:c,regularPrice:o,salePrice:s,images:i.map((function(e){return e.link})),description:JSON.stringify(r),properties:g,productVideo:u};console.log(d),e.loading(!0),b.post("".concat(E.EDIT_PRODUCT,"/").concat(a),d).then((function(e){e.data.status?h.b.success(e.data.message):h.b.error(e.data.message)})).catch((function(a){console.log(a),y(a,e.logout)})).finally((function(){e.loading(!1)}))}else h.b.error("Please clear the unwanted properties");else h.b.error("Please upload all images or remove them")},scrollToFirstError:!0,className:"basic-form product-form"},r.a.createElement(w.a,{gutter:16},r.a.createElement(x.a,{span:"12"},r.a.createElement(O.a.Item,{label:"Product Name",name:"name",rules:[{required:!0,message:"Please enter the product name"}]},r.a.createElement(S.a,{placeholder:"Product Name"}))),r.a.createElement(x.a,{span:"12"},r.a.createElement(O.a.Item,{label:"Categories",name:"category",rules:[{required:!0,message:"Please select the categories"}]},r.a.createElement(te.a,{showSearch:!0,placeholder:"Select one or more category",mode:"multiple",filterOption:function(e,a){return a.children.toLowerCase().indexOf(e.toLowerCase())>=0}},k.map((function(e,a){return r.a.createElement(te.a.Option,{key:a,value:e._id},e.name)})))))),r.a.createElement(w.a,{gutter:16,style:{marginBottom:"40px"}},r.a.createElement(x.a,{span:"24"},r.a.createElement(Le,{editorState:N,onChange:R}))),r.a.createElement(w.a,{gutter:16,style:{marginBottom:"20px"}},r.a.createElement(x.a,{span:"8"},r.a.createElement(O.a.Item,{label:"Regular Price (in rupees)",name:"regularPrice",rules:[{required:!0,message:"Please enter the regular Price"}]},r.a.createElement(S.a,{placeholder:"Regular Price",type:"number"}))),r.a.createElement(x.a,{span:"8"},r.a.createElement(O.a.Item,{label:"Sale Price (in rupees)",name:"salePrice"},r.a.createElement(S.a,{placeholder:"Sale Price",type:"number"}))),r.a.createElement(x.a,{span:"8"},r.a.createElement(O.a.Item,{label:"Product Video( video Id only)",name:"productVideo"},r.a.createElement(S.a,{placeholder:"Product video( video Id only)"})))),r.a.createElement("p",{style:{marginBottom:"10px"}},"Product Properties"),g.map((function(e,a){return r.a.createElement(w.a,{gutter:16,key:a,style:{marginBottom:"5px"}},r.a.createElement(x.a,{span:"8"},r.a.createElement(te.a,{showSearch:!0,placeholder:"Select a property",style:{width:"100%"},value:e.type,filterOption:function(e,a){return a.children.toLowerCase().indexOf(e.toLowerCase())>=0},onChange:function(e){return function(e,a){var t=Object(ye.a)(g);t[e].type=a,f(t)}(a,e)}},r.a.createElement(te.a.Option,{key:11111,value:""},"please select a key"),Ue.map((function(e,a){return r.a.createElement(te.a.Option,{key:a,value:e},e)})))),r.a.createElement(x.a,{span:"8"},r.a.createElement(S.a,{type:"text",onChange:function(e){return function(e,a){var t=Object(ye.a)(g);t[e].value=a,f(t)}(a,e.target.value)},placeholder:"please enter the value",value:e.value})),r.a.createElement(x.a,{span:"8"},r.a.createElement(j.a,{onClick:function(){return function(e){var a=Object(ye.a)(g);a.splice(e,1),f(a)}(a)}},"remove")))})),r.a.createElement(w.a,{gutter:16,justify:"end",style:{marginBottom:"30px"}},r.a.createElement(x.a,null,r.a.createElement(j.a,{type:"default",onClick:function(){var e=Object(ye.a)(g);e.push({type:"",value:""}),f(e)}},"Add Propert"))),r.a.createElement("p",{style:{marginBottom:"10px"}},"Product Images"),r.a.createElement(w.a,{gutter:16},i.map((function(a,t){return r.a.createElement(x.a,{span:"8",key:t},r.a.createElement(me.a,{grid:!0,shape:"rect",aspect:.75},r.a.createElement(se.a,{name:"image".concat(t),listType:"picture-card",className:"image-uploader",showUploadList:!1,beforeUpload:function(a){return r=t,pe(n=a,["image/jpeg","image/png"],2,(function(){var a=Object(ye.a)(i);a[r].loading=!0,d(a);var t=new FormData;t.append("image",n),b.post(E.UPLOAD_PRODUCT_IMAGE,t,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){if(e.data.status){var a=Object(ye.a)(i);a[r].link=e.data.file,d(a)}else h.b.error(e.data.message)})).catch((function(a){console.log(a),y(a,e.logout)})).finally((function(){var e=Object(ye.a)(i);e[r].loading=!1,d(e)}))})),!1;var n,r}},a.link?r.a.createElement("img",{src:"".concat(E.BASE_SERVER_URL).concat(a.link),className:"uploaded-image"}):r.a.createElement("div",null,a.loading?r.a.createElement(ue.a,null):r.a.createElement(de.a,null),r.a.createElement("div",{className:"ant-upload-text"},"Upload")))),a.hasremove?r.a.createElement(j.a,{type:"default",onClick:function(){return function(e){var a=Object(ye.a)(i),t=a.length;t>1&&a.splice(e,1),2==t&&(a[0].hasremove=!1),d(a)}(t)}},"Remove Image"):null)}))),r.a.createElement(w.a,{gutter:16,justify:"end",style:{marginBottom:"30px"}},r.a.createElement(x.a,null,r.a.createElement(j.a,{type:"default",onClick:function(){var e=Object(ye.a)(i);if(e[e.length-1].link){e.push({link:null,loading:!1,hasremove:!0});var a=e.map((function(e){return Object(he.a)(Object(he.a)({},e),{},{hasremove:!0})}));d(a)}}},"Add Image"))),r.a.createElement(w.a,{justify:"end",gutter:16},r.a.createElement(x.a,null,r.a.createElement(O.a.Item,null,r.a.createElement(j.a,{type:"primary",htmlType:"submit"},"UPDATE")))))))})),Be=[{title:"Name",dataIndex:"name",key:"name"},{title:"Image",dataIndex:"images",key:"images",render:function(e){return e&&Array.isArray(e)&&e.length>0?r.a.createElement("img",{className:"product-img",src:"".concat(E.BASE_SERVER_URL).concat(e[0])}):null}},{title:"Categories",dataIndex:"category",key:"category",render:function(e){return e.map((function(e,a){return r.a.createElement(ce.a,{key:a,color:"cyan"},e.name)}))}},{title:"Regular Price",dataIndex:"regularPrice",key:"regularPrice"},{title:"Sale Price",dataIndex:"salePrice",key:"salePrice"},{title:"Created On",dataIndex:"createdAt",key:"createdAt",render:function(e){return r.a.createElement(ce.a,{color:"geekblue"},le()(e).format("DD-MM-YYYY hh:mm"))}},{title:"Operations",render:function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement(s.b,{to:"/admin/dashboard/product/details/".concat(e._id)},r.a.createElement(j.a,{type:"default"},"Details")),r.a.createElement(s.b,{to:"/admin/dashboard/product/edit/".concat(e._id)},r.a.createElement(j.a,{type:"default"},"Edit")))}}];var Me=Object(o.b)((function(e){return{Auth:e.Auth}}),{logout:A,loading:f})((function(e){var a=Object(n.useState)(!1),t=Object(D.a)(a,2),l=t[0],c=t[1],o=Object(n.useState)([]),i=Object(D.a)(o,2),u=i[0],d=i[1],m=Object(n.useState)(1),p=Object(D.a)(m,2),g=p[0],f=p[1],v=Object(n.useState)(0),O=Object(D.a)(v,2),S=O[0],T=O[1],k=Object(n.useState)(5),I=Object(D.a)(k,2),A=I[0],P=(I[1],function(e){f(e)});return Object(n.useEffect)((function(){!function(){c(!0);var a={pageNumber:g,pageSize:A};b.post(E.LIST_PRODUCTS_FOR_ADMIN,a).then((function(e){console.log(e.data),e.data.status?(d(e.data.data),T(e.data.total)):h.b.error(e.data.message)})).catch((function(a){console.log(a),y(a,e.logout)})).finally((function(){c(!1)}))}()}),[g]),r.a.createElement("div",{className:"product-list-wrapper full-width-height"},r.a.createElement(ee.a,{className:"site-page-header-responsive",title:"All Products",subTitle:"List all products",extra:[r.a.createElement(s.b,{to:"/admin/dashboard/product/create",key:"1"},r.a.createElement(j.a,{key:"1",type:"primary",icon:r.a.createElement(q.a,null)},"Create Product"))]}),r.a.createElement("div",{className:"product-list padding-after-page-header"},r.a.createElement(ae.a,{scroll:{x:1200},bordered:!0,pagination:!1,loading:l,dataSource:u,columns:Be,rowKey:"_id",footer:function(){return r.a.createElement(w.a,{gutter:16,justify:"end"},r.a.createElement(x.a,null,r.a.createElement(ne.a,{pageSize:A,current:g,onChange:P,total:S})))}})))})),Ye=t(623),Ge=v.a.Title;function Ve(e){return r.a.createElement(w.a,{gutter:16},r.a.createElement(x.a,{span:"8"},r.a.createElement(Ye.a,{autoplay:!0},e.productDetails&&e.productDetails.images.map((function(e,a){return r.a.createElement("img",{src:"".concat(E.BASE_SERVER_URL).concat(e),key:a,className:"product-image"})})))),r.a.createElement(x.a,{span:"16"},r.a.createElement("div",{className:"product-detains-inner"},r.a.createElement(w.a,{justify:"space-between"},r.a.createElement(x.a,null,r.a.createElement(Ge,{level:2},e.productDetails&&e.productDetails.name),e.productDetails&&r.a.createElement("p",{className:"regularPrice"},"Regular Price : ",e.productDetails.regularPrice),e.productDetails&&e.productDetails.salePrice&&r.a.createElement("p",{className:"salePrice"},"Sale Price : ",e.productDetails.salePrice),e.productDetails&&e.productDetails.properties&&e.productDetails.properties.map((function(e,a){return r.a.createElement("p",{className:"properties-single",key:a},e.type," : ",e.value," ")}))),r.a.createElement(x.a,null,r.a.createElement(Ge,{level:4},e.productDetails&&le()(e.productDetails.createdAt).format("DD-MM-YYYY")))),e.productDetails&&e.productDetails.category.map((function(e,a){return r.a.createElement(ce.a,{key:a,color:"magenta"},e.name)})),r.a.createElement("div",{style:{marginBottom:"30px"}}),r.a.createElement(ke.Editor,{editorState:e.productDescription,readOnly:!0}))))}var Ke=[{title:"Name",dataIndex:"name",key:"name"},{title:"Email",dataIndex:"email",key:"email"},{title:"Phone Number",dataIndex:"phoneNumber",key:"phoneNumber"},{title:"Stock",dataIndex:"stock",key:"stock"},{title:"Pin Codes",dataIndex:"deliverTo",key:"deliverTo",render:function(e){return e.map((function(e,a){return r.a.createElement(ce.a,{key:a},e)}))}}];v.a.Title;function qe(e){var a=Object(n.useState)([]),t=Object(D.a)(a,2),l=t[0],c=t[1],o=Object(n.useState)(!1),i=Object(D.a)(o,2),s=i[0],u=i[1],d=Object(n.useState)(1),m=Object(D.a)(d,2),p=m[0],g=m[1],f=Object(n.useState)(0),v=Object(D.a)(f,2),O=v[0],S=v[1],j=Object(n.useState)(10),T=Object(D.a)(j,2),k=T[0];T[1];Object(n.useEffect)((function(){I()}),[p]);var I=function(){u(!0);var a={productId:e._id,pageNumber:p,pageSize:k};b.post("".concat(E.STOCK_LIST_FOR_ADMIN),a).then((function(e){if(console.log(e.data),e.data.status){S(e.data.total);var a=e.data.data.map((function(e){return Object(he.a)(Object(he.a)(Object(he.a)({},e),e.seller),{},{seller:null})}));console.log(a),c(a)}else h.b.error(e.data.message)})).catch((function(a){console.log(a),y(a,e.logout)})).finally((function(){u(!1)}))},A=function(e){g(e)};return r.a.createElement("div",null,r.a.createElement(ae.a,{scroll:{x:1e3},bordered:!0,pagination:!1,loading:s,dataSource:l,columns:Ke,rowKey:"_id",footer:function(){return r.a.createElement(w.a,{gutter:16,justify:"end"},r.a.createElement(x.a,null,r.a.createElement(ne.a,{pageSize:k,current:p,onChange:A,total:O})))}}))}v.a.Title;var ze=Object(o.b)((function(e){return{Auth:e.Auth}}),{logout:A,loading:f})((function(e){var a=Object(u.g)().id,t=Object(n.useState)(),l=Object(D.a)(t,2),c=l[0],o=l[1],i=Object(n.useState)((function(){return ke.EditorState.createEmpty()})),d=Object(D.a)(i,2),m=d[0],p=d[1];return Object(n.useEffect)((function(){e.loading(!0),b.get("".concat(E.PRODUCT_DETAILS_FOR_ADMIN,"/").concat(a)).then((function(e){if(console.log(e.data),e.data.status){o(e.data.data);var a=Object(ke.convertFromRaw)(JSON.parse(e.data.data.description)),t=ke.EditorState.createWithContent(a);p(t)}else h.b.error(e.data.message)})).catch((function(a){console.log(a),y(a,e.logout)})).finally((function(){e.loading(!1)}))}),[]),r.a.createElement("div",{className:"product-details-wrapper full-width-height"},r.a.createElement(ee.a,{className:"site-page-header-responsive",title:"Product Details",subTitle:c?c.name:"",extra:[r.a.createElement(s.b,{to:"/admin/dashboard/product/list",key:"1"},r.a.createElement(j.a,{key:"1",type:"primary",icon:r.a.createElement(z.a,null)},"Product Lists"))]}),r.a.createElement("div",{className:"product-details-inner padding-after-page-header"},r.a.createElement(Ve,{productDescription:m,productDetails:c})),r.a.createElement("div",{className:"product-stok-table-wrapper"},r.a.createElement("h2",null,"Seller Stock"),r.a.createElement(qe,{_id:a})))}));t(617),te.a.Option;var He=Object(o.b)((function(e){return{Auth:e.Auth}}),{logout:A,loading:f})((function(e){var a=Object(u.g)().id,t=O.a.useForm(),l=Object(D.a)(t,1)[0],c=Object(n.useState)(),o=Object(D.a)(c,2),i=o[0],s=o[1],d=Object(n.useState)(!1),m=Object(D.a)(d,2),p=m[0],g=m[1],f=Object(n.useState)(),v=Object(D.a)(f,2),T=v[0],k=v[1],I=Object(n.useState)(),A=Object(D.a)(I,2),P=A[0],N=A[1];Object(n.useEffect)((function(){R()}),[]);var R=function(){e.loading(!0),b.get("".concat(E.GET_PROFILE_DETAILS,"?_id=").concat(a)).then((function(e){if(console.log(e.data),e.data.status){var a=e.data.data;s(a.avatar),l.setFieldsValue({name:a.name,email:a.email,phoneNumber:a.phoneNumber}),N(a),"seller"===a.userType&&l.setFieldsValue({deliverTo:a.deliverTo}),k(a.userType)}else h.b.error(e.data.message)})).catch((function(e){console.log(e),h.b.error("server errror")})).finally((function(){e.loading(!1)}))};return r.a.createElement("div",{className:"my-profile-wrapper full-width-height"},r.a.createElement(ee.a,{className:"site-page-header-responsive",title:"PROFILE",subTitle:"Edit profile",extra:[]}),r.a.createElement("div",{className:"my-profile-from padding-after-page-header"},r.a.createElement(O.a,{layout:"vertical",form:l,onFinish:function(a){var t=a.email,n=a.name,r=a.phoneNumber,l=a.deliverTo;e.loading(!0),b.post(E.UPDATE_PROFILE_DETAILS,{_id:P._id,email:t,name:n,phoneNumber:r,avatar:i,deliverTo:l}).then((function(e){console.log(e.data),e.data.status?(h.b.info("User updated sucessfully"),R()):h.b.error(e.data.message)})).catch((function(a){console.log(a),y(a,e.logout)})).finally((function(){e.loading(!1)}))},scrollToFirstError:!0,className:"basic-form"},r.a.createElement(w.a,{gutter:16},r.a.createElement(x.a,{span:"12"},r.a.createElement(O.a.Item,{label:"Name",name:"name",rules:[{required:!0,message:"Please enter the user's name!"}]},r.a.createElement(S.a,{placeholder:"Name"})),r.a.createElement(O.a.Item,{label:"Email Id",name:"email",rules:[{required:!0,message:"Please enter the email id!"},{type:"email",message:"Enter a valid email id"}]},r.a.createElement(S.a,{placeholder:"Email Id"}))),r.a.createElement(x.a,{span:"12"},r.a.createElement(me.a,{grid:!0,shape:"round"},r.a.createElement(se.a,{name:"avatar",listType:"picture-card",className:"avatar-uploader",showUploadList:!1,beforeUpload:function(a){return pe(a,["image/jpeg","image/png"],2,(function(){g(!0);var t=new FormData;t.append("avatar",a),b.post(E.UPLOAD_USER_AVATAR,t,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){e.data.status?s(e.data.file):h.b.error(e.data.message)})).catch((function(a){console.log(a),y(a,e.logout)})).finally((function(){g(!1)}))})),!1}},i?r.a.createElement("img",{src:"".concat(E.BASE_SERVER_URL).concat(i),className:"uploaded-avatar"}):r.a.createElement("div",null,p?r.a.createElement(ue.a,null):r.a.createElement(de.a,null),r.a.createElement("div",{className:"ant-upload-text"},"Upload")))))),r.a.createElement(w.a,{gutter:16},r.a.createElement(x.a,{span:"12"},r.a.createElement(O.a.Item,{label:"Phone Number",name:"phoneNumber",rules:[{required:!0,message:"Please enter the phone number!"},{len:10,message:"Enter a valid phone number!"}]},r.a.createElement(S.a,{type:"number",placeholder:"Phone Number",style:{width:"100%"}})))),"seller"===T?r.a.createElement(w.a,{justify:"center",gutter:16},r.a.createElement(x.a,{span:24},r.a.createElement(O.a.Item,{label:"Delivery Pin Codes",name:"deliverTo"},r.a.createElement(te.a,{mode:"tags",style:{width:"100%",minHeight:"50px"},tokenSeparators:[","]})))):null,r.a.createElement(w.a,{justify:"end",gutter:16},r.a.createElement(x.a,null,r.a.createElement(O.a.Item,null,r.a.createElement(j.a,{type:"primary",htmlType:"submit"},"UPDATE")))))))})),Je=[{title:"Name",dataIndex:"name",key:"name"},{title:"Image",dataIndex:"images",key:"images",render:function(e){return e&&Array.isArray(e)&&e.length>0?r.a.createElement("img",{className:"product-img",src:"".concat(E.BASE_SERVER_URL).concat(e[0])}):null}},{title:"Categories",dataIndex:"category",key:"category",render:function(e){return e.map((function(e,a){return r.a.createElement(ce.a,{key:a,color:"cyan"},e.name)}))}},{title:"Stock",dataIndex:"stock",key:"stock"},{title:"Regular Price",dataIndex:"regularPrice",key:"regularPrice"},{title:"Sale Price",dataIndex:"salePrice",key:"salePrice"},{title:"Stock Updated",dataIndex:"stockUpdated",key:"stockUpdated",render:function(e){return r.a.createElement(ce.a,{color:"geekblue"},le()(e).format("DD-MM-YYYY hh:mm"))}},{title:"Operations",render:function(e){return r.a.createElement(s.b,{to:"/admin/dashboard/product/details/".concat(e.productId)},r.a.createElement(j.a,{type:"default"},"Details"))}}];var We=Object(o.b)((function(e){return{Auth:e.Auth}}),{logout:A,loading:f})((function(e){var a=Object(n.useState)(!1),t=Object(D.a)(a,2),l=t[0],c=t[1],o=Object(n.useState)([]),i=Object(D.a)(o,2),u=i[0],d=i[1],m=Object(n.useState)(1),p=Object(D.a)(m,2),g=p[0],f=p[1],v=Object(n.useState)(0),O=Object(D.a)(v,2),S=O[0],T=O[1],k=Object(n.useState)(5),I=Object(D.a)(k,2),A=I[0],P=(I[1],function(e){f(e)});return Object(n.useEffect)((function(){!function(){c(!0);var a={pageNumber:g,pageSize:A};b.post(E.LIST_PRODUCT_FOR_SELLER,a).then((function(e){console.log(e.data),e.data.status?(d(e.data.data),T(e.data.total)):h.b.error(e.data.message)})).catch((function(a){console.log(a),y(a,e.logout)})).finally((function(){c(!1)}))}()}),[g]),r.a.createElement("div",{className:"product-list-wrapper full-width-height"},r.a.createElement(ee.a,{className:"site-page-header-responsive",title:"All Products",subTitle:"List all products",extra:[r.a.createElement(s.b,{to:"/admin/dashboard/product/create",key:"1"},r.a.createElement(j.a,{key:"1",type:"primary",icon:r.a.createElement(q.a,null)},"Create Product"))]}),r.a.createElement("div",{className:"product-list padding-after-page-header"},r.a.createElement(ae.a,{scroll:{x:1200},bordered:!0,pagination:!1,loading:l,dataSource:u,columns:Je,rowKey:"_id",footer:function(){return r.a.createElement(w.a,{gutter:16,justify:"end"},r.a.createElement(x.a,null,r.a.createElement(ne.a,{pageSize:A,current:g,onChange:P,total:S})))}})))})),Qe=t(626);var Xe=Object(o.b)((function(e){return{Auth:e.Auth}}),{logout:A,loading:f})((function(e){var a,t=O.a.useForm(),l=Object(D.a)(t,1)[0],c=Object(n.useState)(!0),o=Object(D.a)(c,2),i=o[0],s=o[1];return Object(n.useEffect)((function(){var a;l.setFieldsValue({stock:null===(a=e.productDetails)||void 0===a?void 0:a.stock})}),[e.productDetails]),r.a.createElement(Qe.a,{title:"Stock management",style:{marginTop:"50px"}},r.a.createElement(O.a,{layout:"inline",form:l,onFinish:function(a){if(i)s(!1);else{var t=a.stock;try{parseInt(t)>=0?(e.loading(!0),b.post(E.UPDATE_PRODUCT_STOCK_SELLER,{id:e.productDetails._id,stock:t}).then((function(e){console.log(e.data),e.data.status?(h.b.success(e.data.message),s(!0)):h.b.error(e.data.message)})).catch((function(a){console.log(a),y(a,e.logout)})).finally((function(){e.loading(!1)}))):h.b.error("Please enter a valid stock number")}catch(n){h.b.error("Please enter a valid stock number")}}},scrollToFirstError:!0,className:"basic-form",initialValues:{stock:null===(a=e.productDetails)||void 0===a?void 0:a.stock}},r.a.createElement(O.a.Item,{name:"stock",rules:[{required:!0,message:"Please enter the stock"}]},r.a.createElement(S.a,{disabled:i,placeholder:"Stock",type:"number"})),r.a.createElement(O.a.Item,null,r.a.createElement(j.a,{type:"primary",htmlType:"submit"},"EDIT"))))}));v.a.Title;var Ze=Object(o.b)((function(e){return{Auth:e.Auth}}),{logout:A,loading:f})((function(e){var a=Object(u.g)().id,t=Object(n.useState)(),l=Object(D.a)(t,2),c=l[0],o=l[1],i=Object(n.useState)((function(){return ke.EditorState.createEmpty()})),d=Object(D.a)(i,2),m=d[0],p=d[1];return Object(n.useEffect)((function(){e.loading(!0),b.get("".concat(E.PRODUCT_DETAILS_FOR_SELLER,"/").concat(a)).then((function(e){if(console.log(e.data),e.data.status){o(e.data.data);var a=Object(ke.convertFromRaw)(JSON.parse(e.data.data.description)),t=ke.EditorState.createWithContent(a);p(t)}else h.b.error(e.data.message)})).catch((function(a){console.log(a),y(a,e.logout)})).finally((function(){e.loading(!1)}))}),[]),r.a.createElement("div",{className:"product-details-wrapper full-width-height"},r.a.createElement(ee.a,{className:"site-page-header-responsive",title:"Product Details",subTitle:c?c.name:"",extra:[r.a.createElement(s.b,{to:"/admin/dashboard/product/list",key:"1"},r.a.createElement(j.a,{key:"1",type:"primary",icon:r.a.createElement(z.a,null)},"Product Lists"))]}),r.a.createElement("div",{className:"product-details-inner padding-after-page-header"},r.a.createElement(Ve,{productDescription:m,productDetails:c}),r.a.createElement(Xe,{productDetails:c})))})),$e=(t(290),[{title:"Id",dataIndex:"_id",key:"_id"},{title:"Customer",dataIndex:"user_details",key:"user_details",render:function(e){return e.name}},{title:"Address",dataIndex:"address",key:"address",render:function(e){return r.a.createElement(r.a.Fragment,null,r.a.createElement("span",null,e.city,","),r.a.createElement("span",null,e.pincode))}},{title:"Placed On",dataIndex:"createdAt",key:"createdAt",render:function(e){return r.a.createElement(ce.a,{color:"geekblue"},le()(e).format("DD-MM-YYYY hh:mm:ss"))}},{title:"Operations",render:function(e){return r.a.createElement(s.b,{to:"/admin/dashboard/order/details/".concat(e._id)},r.a.createElement(j.a,{type:"default"},"Details"))}}]);var ea=Object(o.b)((function(e){return{Auth:e.Auth}}),{logout:A,loading:f})((function(e){var a=Object(n.useState)(!1),t=Object(D.a)(a,2),l=t[0],c=t[1],o=Object(n.useState)([]),i=Object(D.a)(o,2),s=i[0],u=i[1],d=Object(n.useState)(1),m=Object(D.a)(d,2),p=m[0],g=m[1],f=Object(n.useState)(0),v=Object(D.a)(f,2),O=v[0],S=v[1],j=Object(n.useState)(5),T=Object(D.a)(j,2),k=T[0],I=(T[1],function(e){g(e)});return Object(n.useEffect)((function(){!function(){c(!0);var a={pageNumber:p,pageSize:k};b.post(E.GET_ORDERS_LIST,a).then((function(e){console.log(e.data),e.data.status?(u(e.data.data),S(e.data.total)):h.b.error(e.data.message)})).catch((function(a){console.log(a),y(a,e.logout)})).finally((function(){c(!1)}))}()}),[p]),r.a.createElement("div",{className:"product-list-wrapper full-width-height"},r.a.createElement(ee.a,{className:"site-page-header-responsive",title:"All Orders",subTitle:"List all orders"}),r.a.createElement("div",{className:"product-list padding-after-page-header"},r.a.createElement(ae.a,{scroll:{x:1200},bordered:!0,pagination:!1,loading:l,dataSource:s,columns:$e,rowKey:"_id",footer:function(){return r.a.createElement(w.a,{gutter:16,justify:"end"},r.a.createElement(x.a,null,r.a.createElement(ne.a,{pageSize:k,current:p,onChange:I,total:O})))}})))})),aa=te.a.Option;var ta=Object(o.b)((function(e){return{Auth:e.Auth}}),{logout:A,loading:f})((function(e){var a=Object(n.useState)([]),t=Object(D.a)(a,2),l=t[0],c=t[1],o=Object(n.useState)(),i=Object(D.a)(o,2),s=i[0],u=i[1],d=Object(n.useState)(!1),m=Object(D.a)(d,2),p=m[0],g=m[1],f=Object(n.useState)([]),v=Object(D.a)(f,2),O=v[0],S=v[1],j=Object(n.useState)(1),T=Object(D.a)(j,2),k=T[0],I=T[1],A=Object(n.useState)(0),P=Object(D.a)(A,2),N=P[0],R=P[1],_=Object(n.useState)(5),C=Object(D.a)(_,2),L=C[0],U=(C[1],function(e){I(e)});return Object(n.useEffect)((function(){!function(){e.loading(!0);b.post(E.LIST_USERS,{pageNumber:1,pageSize:1e6,userType:"seller"}).then((function(e){console.log(e.data),e.data.status?c(e.data.data):h.b.error(e.data.message)})).catch((function(a){console.log(a),y(a,e.logout)})).finally((function(){e.loading(!1)}))}()}),[]),Object(n.useEffect)((function(){s&&function(){g(!0);var a={pageNumber:k,pageSize:L,sellerId:s};console.log(a),b.post(E.GET_ORDERS_LIST,a).then((function(e){console.log(e.data),e.data.status?(S(e.data.data),R(e.data.total)):h.b.error(e.data.message)})).catch((function(a){console.log(a),y(a,e.logout)})).finally((function(){g(!1)}))}()}),[k,s]),r.a.createElement("div",{className:"product-list-wrapper full-width-height"},r.a.createElement(ee.a,{className:"site-page-header-responsive",title:"All Orders",subTitle:"List all orders",extra:[r.a.createElement(te.a,{key:"1",placeholder:"select an option",value:s,style:{width:200},onSelect:function(e){console.log(e),u(e)}},r.a.createElement(aa,null,"Select a seller"),l.map((function(e,a){return r.a.createElement(aa,{key:a,value:e._id},e.name)})))]}),r.a.createElement("div",{className:"product-list padding-after-page-header"},r.a.createElement(ae.a,{scroll:{x:1200},bordered:!0,pagination:!1,loading:p,dataSource:O,columns:$e,rowKey:"_id",footer:function(){return r.a.createElement(w.a,{gutter:16,justify:"end"},r.a.createElement(x.a,null,r.a.createElement(ne.a,{pageSize:L,current:k,onChange:U,total:N})))}})))})),na=t(632),ra=t(633),la=te.a.Option,ca=S.a.TextArea;var oa=function(e){var a=Object(n.useState)([]),t=Object(D.a)(a,2),l=t[0],c=t[1],o=Object(n.useState)(),i=Object(D.a)(o,2),s=i[0],u=i[1],d=Object(n.useState)(),m=Object(D.a)(d,2),p=m[0],g=m[1];Object(n.useEffect)((function(){f()}),[e.data]);var f=function(){var a=[],t=e.data.status[e.data.status.length-1].name;"placed"===t?a=["shipped","delivered"]:"shipped"===t&&(a=["delivered"]),c(a)};return r.a.createElement("div",null,r.a.createElement(na.a,{title:"Item Info",bordered:!0},r.a.createElement(na.a.Item,{label:"Image"},r.a.createElement("img",{className:"item-image",src:"".concat(E.BASE_SERVER_URL).concat(e.data.product.images[0])})),r.a.createElement(na.a.Item,{label:"Name"},e.data.product.name),r.a.createElement(na.a.Item,{label:"Ordered Quantity"},e.data.count),r.a.createElement(na.a.Item,{label:"Unit Price"},e.data.unitPrice),r.a.createElement(na.a.Item,{label:"Total Price"},e.data.totalPrice),r.a.createElement(na.a.Item,{label:"Seller Name"},e.data.seller.name)),r.a.createElement("div",{className:"status-tracker"},r.a.createElement(ra.a,{mode:"left"},e.data.status.map((function(e,a){return r.a.createElement(ra.a.Item,{label:"".concat(e.name," - ").concat(le()(e.date).format("DD-MM-YYYY hh:mm:ss")),key:a},e.remark)}))),r.a.createElement(Qe.a,{className:"status-control"},"Update Status",r.a.createElement("br",null),r.a.createElement(te.a,{placeholder:"select an option",value:s,style:{width:200},onSelect:function(e){console.log(e),u(e)}},r.a.createElement(la,null,"Select an option"),l.map((function(e,a){return r.a.createElement(la,{key:a,value:e},e)}))),r.a.createElement(ca,{value:p,rows:4,onChange:function(e){g(e.target.value)}}),r.a.createElement(j.a,{onClick:function(){s?(e.loading(!0),b.post(E.UPDATE_ORDER_STATUS,{orderId:e.orderId,subOrderId:e.data._id,status:s,description:p}).then((function(e){e.data.status?h.b.success(e.data.message):h.b.error(e.data.message)})).catch((function(e){console.log(e),h.b.error("server error")})).finally((function(){e.loading(!1),e.fetchOrderDetails(),u(),g()}))):h.b.error("please select a status")}},"UPDATE"))))};v.a.Title;var ia=Object(o.b)((function(e){return{Auth:e.Auth}}),{logout:A,loading:f})((function(e){var a=Object(u.g)().id,t=Object(n.useState)(),l=Object(D.a)(t,2),c=l[0],o=l[1],i=Object(n.useState)([]),d=Object(D.a)(i,2),m=d[0],p=d[1],g=function(){e.loading(!0),b.get("".concat(E.ORDER_DETAILS,"/").concat(a)).then((function(a){if(console.log(a.data),a.data.status)if(o(a.data.data),"admin"===e.Auth.userdetails.userType)p(a.data.data.items);else{var t=[];a.data.data.items.forEach((function(e){e.seller._id==a.data.userId&&t.push(e)})),p(t),console.log("sub orders",t)}else h.b.error(a.data.message)})).catch((function(a){console.log(a),y(a,e.logout)})).finally((function(){e.loading(!1)}))};return Object(n.useEffect)((function(){g()}),[]),r.a.createElement("div",{className:"order-details-wrapper full-width-height"},r.a.createElement(ee.a,{className:"site-page-header-responsive",title:"Order Details",subTitle:a,extra:[r.a.createElement(s.b,{to:"/admin/dashboard/orders",key:"1"},r.a.createElement(j.a,{key:"1",type:"primary",icon:r.a.createElement(z.a,null)},"Orders"))]}),r.a.createElement("div",{className:"order-details-inner padding-after-page-header"},c?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"details-info"},r.a.createElement(na.a,{title:"Customer Info",bordered:!0},r.a.createElement(na.a.Item,{label:"Name"},c.user.name),r.a.createElement(na.a.Item,{label:"Email Id"},c.user.email),r.a.createElement(na.a.Item,{label:"Phone Number"},c.user.phoneNumber),r.a.createElement(na.a.Item,{label:"Address"},r.a.createElement("div",null,r.a.createElement("div",null,c.address.lineone),r.a.createElement("div",null,c.address.locality),r.a.createElement("span",null,c.address.city,","),r.a.createElement("span",null,c.address.state,","),r.a.createElement("span",null,c.address.pincode))),r.a.createElement(na.a.Item,{label:"Ordered On"},le()(c.createdAt).format("DD-MM-YYYY hh:mm:ss")))),r.a.createElement("div",{className:"item-details-wrapper"},m.map((function(t,n){return r.a.createElement(oa,{loading:e.loading,orderId:a,fetchOrderDetails:g,key:n,data:t})})))):null))})),sa=t(156),ua=t.n(sa),da=t(224);t(620);var ma=Object(o.b)((function(e){return{Auth:e.Auth}}),{logout:A,loading:f})((function(e){var a=Object(n.useState)([]),t=Object(D.a)(a,2),l=t[0],c=t[1],o=function(){var a=Object(da.a)(ua.a.mark((function a(){var t;return ua.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,e.loading(!0),a.next=4,b.get(E.LIST_POSTER);case 4:t=a.sent,console.log(t.data),t.data.status?c(t.data.data):h.b.error(t.data.message),a.next=13;break;case 9:a.prev=9,a.t0=a.catch(0),console.log(a.t0),y(a.t0,e.logout);case 13:return a.prev=13,e.loading(!1),a.finish(13);case 16:case"end":return a.stop()}}),a,null,[[0,9,13,16]])})));return function(){return a.apply(this,arguments)}}(),i=function(){var a=Object(da.a)(ua.a.mark((function a(t){var n;return ua.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,e.loading(!0),a.next=4,b.post(E.DELETE_POSTER,{file:t});case 4:n=a.sent,console.log(n.data),n.data.status?c(n.data.data):h.b.error(n.data.message),a.next=13;break;case 9:a.prev=9,a.t0=a.catch(0),console.log(a.t0),y(a.t0,e.logout);case 13:return a.prev=13,e.loading(!1),a.finish(13);case 16:case"end":return a.stop()}}),a,null,[[0,9,13,16]])})));return function(e){return a.apply(this,arguments)}}();return Object(n.useEffect)((function(){o()}),[]),r.a.createElement("div",{className:"poster-list-wrapper full-width-height"},r.a.createElement(ee.a,{className:"site-page-header-responsive",title:"All Posters",subTitle:"List all posters",extra:[r.a.createElement(me.a,{grid:!0,shape:"rect",aspect:2.5,key:"1"},r.a.createElement(se.a,{name:"file",className:"poster-uploader",showUploadList:!1,beforeUpload:function(a){return e.loading(!0),pe(a,["image/jpeg","image/png"],2,(function(){var t=new FormData;t.append("poster",a),b.post(E.UPLOAD_POSTER,t,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){e.data.status?(c(e.data.data),h.b.success(e.data.message)):h.b.error(e.data.message)})).catch((function(a){console.log(a),y(a,e.logout)})).finally((function(){e.loading(!1)}))})),!1}},r.a.createElement(j.a,{type:"primary",icon:r.a.createElement(W.a,null)},"Upload Poster")))]}),r.a.createElement("div",{className:"poster-list-inner padding-after-page-header"},l.length>0?r.a.createElement("div",null,r.a.createElement(w.a,{gutter:20},l.map((function(e,a){return r.a.createElement(x.a,{key:a,span:8,style:{marginBottom:"20px"}},r.a.createElement(Qe.a,{hoverable:!0,style:{width:"100%"},cover:r.a.createElement("img",{src:"".concat(E.BASE_SERVER_URL).concat(e)})},r.a.createElement(j.a,{onClick:function(){return i(e)},type:"default",style:{width:"100%"}},"Delete")))})))):r.a.createElement("div",{className:"no-poster"},r.a.createElement("h4",null,"No posters are uploaded"))))}));var pa=Object(o.b)((function(e){return{Auth:e.Auth}}),{})((function(e){var a=Object(n.useState)(!1),t=Object(D.a)(a,2),l=t[0],c=t[1];return r.a.createElement(L.a,{className:"dashboard-container"},r.a.createElement(V,{toggleSideBar:function(){c(!l)}}),r.a.createElement(w.a,{className:"dashboard-content-container"},r.a.createElement(x.a,null,r.a.createElement($,{key:e.Auth.userdetails,sideBarCollapsed:l,user:e.Auth.userdetails})),r.a.createElement(x.a,{className:"dashboard-content-col"+(l?" dashboadr-sidebar-collapsed":" dashboard-sidebar-normal")},r.a.createElement(L.a.Content,{className:"dasboard-content-wrapper"},e.Auth.userdetails.userType&&"admin"===e.Auth.userdetails.userType?r.a.createElement("div",{className:"dashboard-content-inner"},r.a.createElement(u.d,null,r.a.createElement(u.b,{exact:!0,path:"/admin/dashboard/posters"},r.a.createElement(ma,null)),r.a.createElement(u.b,{exact:!0,path:"/admin/dashboard/user/list"},r.a.createElement(ie,null)),r.a.createElement(u.b,{exact:!0,path:"/admin/dashboard/user/create"},r.a.createElement(Ee,null)),r.a.createElement(u.b,{exact:!0,path:"/admin/dashboard/category/create"},r.a.createElement(ge,null)),r.a.createElement(u.b,{exact:!0,path:"/admin/dashboard/category/list"},r.a.createElement(fe,null)),r.a.createElement(u.b,{exact:!0,path:"/admin/dashboard/product/create"},r.a.createElement(xe,null)),r.a.createElement(u.b,{exact:!0,path:"/admin/dashboard/product/edit/:id"},r.a.createElement(Fe,null)),r.a.createElement(u.b,{exact:!0,path:"/admin/dashboard/product/list"},r.a.createElement(Me,null)),r.a.createElement(u.b,{exact:!0,path:"/admin/dashboard/product/details/:id"},r.a.createElement(ze,null)),r.a.createElement(u.b,{exact:!0,path:"/admin/dashboard/orders"},r.a.createElement(ta,null)),r.a.createElement(u.b,{exact:!0,path:"/admin/dashboard/order/details/:id"},r.a.createElement(ia,null)),r.a.createElement(u.b,{exact:!0,path:"/admin/dashboard/profile/:id"},r.a.createElement(He,null)))):r.a.createElement("div",{className:"dashboard-content-inner"},r.a.createElement(u.d,null,r.a.createElement(u.b,{path:"/admin/dashboard/product/list"},r.a.createElement(We,null)),r.a.createElement(u.b,{exact:!0,path:"/admin/dashboard/product/details/:id"},r.a.createElement(Ze,null)),r.a.createElement(u.b,{exact:!0,path:"/admin/dashboard/orders"},r.a.createElement(ea,null)),r.a.createElement(u.b,{exact:!0,path:"/admin/dashboard/order/details/:id"},r.a.createElement(ia,null)),r.a.createElement(u.b,{exact:!0,path:"/admin/dashboard/profile/:id"},r.a.createElement(He,null)))),r.a.createElement(L.a.Footer,{className:"dashboard-footer-wrapper"},"BANDHAN SOLUTIONS")))))}));var Ea=Object(o.b)((function(e){return{Auth:e.Auth}}),{setUserDetails:P,logout:A})((function(e){return Object(n.useEffect)((function(){e.Auth.userdetails||(console.log(e.Auth.userdetails),b.get(E.GET_USER_DETAILS).then((function(a){!a.data.status||"admin"!==a.data.data.userType&&"seller"!==a.data.data.userType?e.logout():e.setUserDetails(a.data.data)})).catch((function(a){console.log(a),y(a,e.logout)})))}),[]),r.a.createElement("div",null,e.Auth.userdetails?r.a.createElement(pa,null):r.a.createElement(C,null))})),ga=Object(o.b)((function(e){return{}}),{login:I})((function(e){var a=localStorage.getItem("Token");return console.log(a),a&&"null"!==a&&"undefined"!==a&&e.login(a),r.a.createElement(r.a.Fragment,null,r.a.createElement(i,null),r.a.createElement(s.a,null,r.a.createElement(u.d,null,r.a.createElement(u.b,{exact:!0,path:"/admin"},r.a.createElement(u.a,{to:{pathname:"/admin/dashboard"}})),r.a.createElement(m,{exact:!0,path:"/admin/login"},r.a.createElement(_,null)),r.a.createElement(p,{path:"/admin/dashboard"},r.a.createElement(Ea,null)),r.a.createElement(u.b,null,r.a.createElement(u.a,{to:"/admin"})))))})),ba=t(118),fa=t(319),ha=t(320),ya=t.n(ha),va={loading_active:0},Oa={isLoggedIn:!1,token:null,userdetails:null},Sa=Object(ba.c)({Loader:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:va,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"LOADING":var t=e.loading_active;return a.payload?t++:t=0===t?0:t-1,Object(he.a)(Object(he.a)({},e),{},{loading_active:t});default:return e}},Auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Oa,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"LOGIN":return Object(he.a)(Object(he.a)({},e),{},{isLoggedIn:!0,token:a.token,userdetails:a.userdetails});case"LOGOUT":return Object(he.a)(Object(he.a)({},e),{},{isLoggedIn:!1,token:null,userdetails:null});case"SET_USER_DETAILS":return Object(he.a)(Object(he.a)({},e),{},{userdetails:a.payload});default:return e}}}),ja=[fa.a,ya.a],Ta=Object(ba.d)(Sa,{},ba.a.apply(void 0,ja));c.a.render(r.a.createElement(o.a,{store:Ta},r.a.createElement(ga,null)),document.getElementById("root"))}},[[331,1,2]]]);
//# sourceMappingURL=main.795a12b9.chunk.js.map