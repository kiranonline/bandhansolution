(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{149:function(e,t,a){e.exports=a.p+"static/media/brand-logo.26748af0.png"},151:function(e,t,a){e.exports=a.p+"static/media/leaves.d512acab.png"},153:function(e,t,a){e.exports=a.p+"static/media/product1.482e1496.jpg"},156:function(e,t,a){e.exports=a(344)},164:function(e,t,a){},215:function(e,t,a){},217:function(e,t,a){e.exports=a.p+"static/media/temperature.4474be7c.svg"},218:function(e,t,a){e.exports=a.p+"static/media/wind.ae74b796.svg"},221:function(e,t,a){},231:function(e,t,a){},232:function(e,t,a){},339:function(e,t,a){},340:function(e,t,a){},341:function(e,t,a){e.exports=a.p+"static/media/whatsapp.a0367c96.svg"},342:function(e,t,a){},343:function(e,t,a){},344:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),l=a(38),r=a.n(l),o=a(7),s=a(36),i=a(145),m=a(146),u=a.n(m),d=a(3),E={loading_active:0},p={isLoggedIn:!1,token:null,userdetails:null,weatherInfo:{cordinates:null,fetchingWeatherInfo:!1,weatherData:null,isPermissionGranted:!1}},f={loading:!1},b={category_list:[]},g={product_list:[]},h={count:0},N=Object(s.c)({Loader:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:E,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOADING":var a=e.loading_active;return t.payload?a++:a=0===a?0:a-1,Object(d.a)(Object(d.a)({},e),{},{loading_active:a});default:return e}},Auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN":return Object(d.a)(Object(d.a)({},e),{},{isLoggedIn:!0,token:t.token,userdetails:t.userdetails});case"LOGOUT":return Object(d.a)(Object(d.a)({},e),{},{isLoggedIn:!1,token:null,userdetails:null});case"SET_USER_DETAILS":return Object(d.a)(Object(d.a)({},e),{},{userdetails:t.payload});case"SET_GEO_CORDINATES_WEATHER_DATA":return Object(d.a)(Object(d.a)({},e),{},{weatherInfo:Object(d.a)(Object(d.a)({},e.weatherInfo),{},{cordinates:t.payload.cordinates,fetchingWeatherInfo:!1,weatherData:t.payload.weatherData,isPermissionGranted:!0})});case"FETCHING_WEATHER_DATA":return Object(d.a)(Object(d.a)({},e),{},{weatherInfo:Object(d.a)(Object(d.a)({},e.weatherInfo),{},{fetchingWeatherInfo:t.payload})});default:return e}},Modal:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"MODAL":return Object(d.a)(Object(d.a)({},e),{},{loading:t.payload});default:return e}},FetchCategories:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_CATEGORIES":return Object(d.a)(Object(d.a)({},e),{},{category_list:t.payload});default:return e}},FetchProducts:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_PRODUCTS":return Object(d.a)(Object(d.a)({},e),{},{product_list:t.payload});default:return e}},CartQuantity:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CART_QUANTITY":return Object(d.a)(Object(d.a)({},e),{},{count:t.payload});default:return e}}}),v=[i.a,u.a],y=Object(s.d)(N,{},s.a.apply(void 0,v)),w=(a(164),a(2)),O=a(11),_=a(154);var x=Object(o.b)((function(e){return{Auth:e.Auth}}),{})((function(e){var t=e.children,a=e.Auth,n=Object(_.a)(e,["children","Auth"]);return c.a.createElement(O.b,Object.assign({},n,{render:function(e){var n=e.location;return a.isLoggedIn?t:c.a.createElement(O.a,{to:{pathname:"/",state:{from:n}}})}}))})),S=a(60),A=a.n(S),j={BASE_LOCAL_URL:"",BASE_SERVER_URL:"",GET_USER_DETAILS:"/apis/v1/userdetails",LOGIN_WITH_EMAIL_OR_PHONE:"/apis/v1/user/login-with-email-or-phone-password",REGITER_WITH_EMAIL_OR_PHONE:"/apis/v1/user/createnormal",OTP_VERIFICATION:"/apis/v1/user/otpverification",RESEND_OTP:"/apis/v1/user/resend_otp",FORGOT_PASSWORD:"/apis/v1/user/forgotpassword",RESEND_OTP_PASSWORD_CHANGE:"/apis/v1/user/resendotppasswordchange",CHANGE_PASSWORD:"/apis/v1/user/changepassword",GET_CATEGORY_LIST:"/apis/v1/user/category/list",GET_PRODUCT_LIST:"/apis/v1/user/productlist/",GET_SINGLE_PRODUCT:"/apis/v1/product/",ADD_TO_CART:"/apis/v1/user/add-to-cart",FETCH_THE_CART:"/apis/v1//user/fetch-the-cart",FETCH_PRODUCT_HIGHLIGHT:"/apis/v1/user/producthighlight",UPLOAD_USER_AVATAR:"/apis/v1/upload-avatar",UPDATE_PASSWORD:"/apis/v1/user/update-password",GET_ADDRESS_LIST:"/apis/v1/user/get/address",ADD_NEW_ADDRESS:"/apis/v1/user/add/address",EDIT_ADDRESS:"/apis/v1/user/edit/address",REMOVE_ADDRESS:"/apis/v1/user/remove/address",SET_DEFAULT_ADDRESS:"/apis/v1/user/setdefault/address",USER_UPDATE_PROFILE_PIC:"/apis/v1/user/update-profile-pic",UPDATE_CART:"/apis/v1/user/update-cart",AVAILABLE_FOR_CART:"/apis/v1/user/available-for-cart",PLACE_ORDERS:"/apis/v1/user/place-order-actual",GET_ORDERS:"/apis/v1/user/get-orders",CANCEL_ORDER:"/apis/v1/user/cancel-order",ORDER_DETAILS:"/apis/v1/order/details",LIST_POSTERS:"/apis/v1/list-poster",API_KEY_LOCATION_IQ:"pk.3677164e2f3425a36d5b009615e198a2",API_KEY_OPEN_WEATHER:"092b62bb5b28a5a386dedaa38f48429b"},T=A.a.create({baseURL:j.BASE_SERVER_URL}),C=function(e,t){return T.defaults.headers.common.Authorization="Bearer "+e,{type:"LOGIN",token:e,userdetails:t}},k=function(){return localStorage.removeItem("Token"),{type:"LOGOUT"}},P=function(e){return{type:"SET_USER_DETAILS",payload:e}};var R=function(){return c.a.createElement("div",null,c.a.createElement("footer",null,c.a.createElement("div",{className:"container"},c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"footer-top-cms"},c.a.createElement("div",{className:"col-sm-9"},c.a.createElement("div",{className:"newslatter"},c.a.createElement("form",null,c.a.createElement("h5",null,"Newsletter"),c.a.createElement("div",{className:"form-group row w-100 mx-auto"},c.a.createElement("input",{type:"text",className:"form-control col-sm-8 col-12",placeholder:"Email Here......"}),c.a.createElement("div",{className:"col-sm-4 col-12 mt-1 mt-sm-0 px-sm-1 px-0"},c.a.createElement("button",{type:"submit",value:"Sign up",className:"btn btn-primary h-100 w-100 w-sm-auto",style:{fontSize:"1.2rem"}},"Subscribe")))))),c.a.createElement("div",{className:"col-sm-5"}))),c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-sm-3 footer-block"},c.a.createElement("h5",{className:"footer-title"},"Information"),c.a.createElement("ul",{className:"list-unstyled ul-wrapper"},c.a.createElement("li",null,c.a.createElement("a",{href:"about-us.html"},"About Us")),c.a.createElement("li",null,c.a.createElement("a",{href:"checkout.html"},"Delivery Information")),c.a.createElement("li",null,c.a.createElement("a",{href:"/"},"Privacy Policy")),c.a.createElement("li",null,c.a.createElement("a",{href:"/"},"Terms & Conditions")))),c.a.createElement("div",{className:"col-sm-3 footer-block"},c.a.createElement("h5",{className:"footer-title"},"Customer Service"),c.a.createElement("ul",{className:"list-unstyled ul-wrapper"},c.a.createElement("li",null,c.a.createElement("a",{href:"contact.html"},"Contact Us")),c.a.createElement("li",null,c.a.createElement("a",{href:"/"},"Returns")),c.a.createElement("li",null,c.a.createElement("a",{href:"/"},"Site Map")),c.a.createElement("li",null,c.a.createElement("a",{href:"/"},"Wish List")))),c.a.createElement("div",{className:"col-sm-3 footer-block"},c.a.createElement("h5",{className:"footer-title"},"Extras"),c.a.createElement("ul",{className:"list-unstyled ul-wrapper"},c.a.createElement("li",null,c.a.createElement("a",{href:"/"},"Brands")),c.a.createElement("li",null,c.a.createElement("a",{href:"gift.html"},"Gift Vouchers")),c.a.createElement("li",null,c.a.createElement("a",{href:"affiliate.html"},"Affiliates")),c.a.createElement("li",null,c.a.createElement("a",{href:"/"},"Specials")))),c.a.createElement("div",{className:"col-sm-3 footer-block"},c.a.createElement("div",{className:"content_footercms_right"},c.a.createElement("div",{className:"footer-contact"},c.a.createElement("h5",{className:"contact-title footer-title"},"Contact Us"),c.a.createElement("ul",{className:"ul-wrapper"},c.a.createElement("li",null,c.a.createElement("i",{className:"fa fa-map-marker"}),c.a.createElement("span",{className:"location2"}," Warehouse & Offices, 12345 Street name, California USA")),c.a.createElement("li",null,c.a.createElement("i",{className:"fa fa-envelope"}),c.a.createElement("span",{className:"mail2"},c.a.createElement("a",{href:"#"},"info@localhost.com"))),c.a.createElement("li",null,c.a.createElement("i",{className:"fa fa-mobile"}),c.a.createElement("span",{className:"phone2"},"+91 0987-654-321"))))))))),c.a.createElement("div",{className:"footer-bottom"},c.a.createElement("div",{className:"container"},c.a.createElement("div",{className:"copyright"},"Powered By ",c.a.createElement("a",{className:"d-inline-block",href:"http://www.lionode.com/"},"kissan \xa9 2020 ")))))},D=a(1),I=a(61),L=a.n(I);a(96),a(97);var F=function(e){var t=Object(n.useState)([]),a=Object(D.a)(t,2),l=a[0],r=a[1];return Object(n.useEffect)((function(){T.get(j.LIST_POSTERS).then((function(e){console.log(e.data.data),r(e.data.data)}))}),[]),c.a.createElement(L.a,{className:"owl-theme",items:"1",loop:!0,autoplay:!0,dots:!0},l.map((function(e,t){return c.a.createElement("div",{key:t,className:"item"},c.a.createElement("a",{href:"/"},c.a.createElement("img",{src:"".concat(j.BASE_SERVER_URL).concat(e),alt:"main-banner1",className:"img-responsive"})))})))};var U=function(e){var t=e.product;return c.a.createElement("div",{className:"itemcard"},c.a.createElement("div",{className:"product-thumb transition"},c.a.createElement("div",{className:"image product-imageblock"},c.a.createElement("img",{src:"".concat(j.BASE_SERVER_URL).concat(t.images[0]),alt:"product1",title:"product1",width:"200px"}),c.a.createElement(w.b,{to:"/product/".concat(t._id),className:"addtocart-btn btn btn-primary"},"Add To Cart")),c.a.createElement("div",{className:"caption product-detail p-0 m-0 mt-4"},c.a.createElement(w.b,{to:"/product/".concat(t._id),className:"product-name h5"},t.name),c.a.createElement("div",{className:"d-flex align-items-center"},c.a.createElement("p",{className:t.salePrice?"m-0 text-danger strikethrough":"h3 m-0"},"\u20b9",t.regularPrice),c.a.createElement("p",{className:t.salePrice?"h3 d-block":"d-none"},"\u20b9",t.salePrice)))))},G=a(147),H=a.n(G),W=(a(214),{superLargeDesktop:{breakpoint:{max:4e3,min:3e3},items:4},desktop:{breakpoint:{max:3e3,min:1024},items:3},tablet:{breakpoint:{max:1024,min:464},items:2},mobile:{breakpoint:{max:464,min:0},items:1}});var q=function(){return c.a.createElement("div",{className:"blog"},c.a.createElement("h3",{className:"h2 mb-4"},"Latest News"),c.a.createElement(H.a,{responsive:W},["1","2","3","4","5"].map((function(e){return c.a.createElement("div",{className:"card news-card mx-3 border-0",key:e},c.a.createElement("div",{className:"img-holder"},c.a.createElement("img",{className:"card-img-top",src:"/blog/blog_".concat(e,".jpg"),alt:e}),c.a.createElement("div",{className:"date p-2 px-3"},"06/07/2019"),c.a.createElement("a",{href:"/",className:"btn btn-danger btn-black"},"Read More")),c.a.createElement("div",{className:"card-body p-0 pt-3"},c.a.createElement("a",{href:"/",className:"h4 card-title"},"Card title"),c.a.createElement("p",{className:"card-text"},"Some quick example text to build on the card title and make up the bulk of the card's content.")))}))))},M=a(25),V=a.n(M);a(215);var B=Object(o.b)((function(e){return{Auth:e.Auth}}),{setGeoCordinates:function(){return function(e){console.log("fetching cordinates"),e({type:"FETCHING_WEATHER_DATA",payload:!0}),navigator.geolocation?navigator.geolocation.getCurrentPosition((function(t){console.log(t.coords);var a=t.coords,n=a.latitude,c=a.longitude;A.a.get("https://api.openweathermap.org/data/2.5/weather?units=metric&lat=".concat(n,"&lon=").concat(c,"&appid=").concat(j.API_KEY_OPEN_WEATHER)).then((function(t){console.log(t.data),e({type:"SET_GEO_CORDINATES_WEATHER_DATA",payload:{cordinates:{latitude:n,longitude:c},weatherData:t.data}})})).catch((function(t){console.log(t),e({type:"FETCHING_WEATHER_DATA",payload:!1})}))}),(function(t){console.log(t),e({type:"FETCHING_WEATHER_DATA",payload:!1})})):e({type:"FETCHING_WEATHER_DATA",payload:!1})}}})((function(e){return Object(n.useEffect)((function(){e.setGeoCordinates()}),[]),c.a.createElement(c.a.Fragment,null,e.Auth.weatherInfo.fetchingWeatherInfo?c.a.createElement(V.a,{height:300}):c.a.createElement(c.a.Fragment,null,e.Auth.weatherInfo.isPermissionGranted?c.a.createElement("div",null,c.a.createElement("div",{className:"custom-weather-row"},c.a.createElement("div",{className:"custom-weather-col"},c.a.createElement("div",{className:"weather-box"},c.a.createElement("div",{className:"card wb-c"},c.a.createElement("img",{className:"weather-box-icon",src:a(217)}),c.a.createElement("h5",{style:{color:"red"}},e.Auth.weatherInfo.weatherData.main.temp,"\xb0 C"),c.a.createElement("div",{className:"custom-weather-row custom-weather-inner-row"},c.a.createElement("p",{style:{color:"red"}},e.Auth.weatherInfo.weatherData.main.temp_min,"\xb0 C"),c.a.createElement("p",{style:{color:"red"}},e.Auth.weatherInfo.weatherData.main.temp_max,"\xb0 C"))))),c.a.createElement("div",{className:"custom-weather-col"},c.a.createElement("div",{className:"weather-box"},c.a.createElement("div",{className:"card wb-c"},c.a.createElement("img",{className:"weather-box-icon",src:a(218)}),c.a.createElement("h5",{style:{color:"#1A81DB"}},e.Auth.weatherInfo.weatherData.wind.speed,"m/s"),c.a.createElement("div",{className:"custom-weather-row custom-weather-inner-row"},c.a.createElement("p",{style:{color:"#1A81DB"}},e.Auth.weatherInfo.weatherData.wind.deg,"\xb0"),c.a.createElement("p",{style:{color:"#1A81DB"}},e.Auth.weatherInfo.weatherData.wind.speed," m/s"))))))):c.a.createElement("div",{className:"permission-not-granted-wrapper"},c.a.createElement("h5",null,"Location permission not granted or device location is not turned on"),c.a.createElement("button",{onClick:e.setGeoCordinates,className:"btn grant-permission-button"},"Grant Permission"))))}));var Y=function(){var e=Object(n.useState)([]),t=Object(D.a)(e,2),a=t[0],l=t[1],r=Object(n.useState)([]),o=Object(D.a)(r,2),s=o[0],i=o[1];return Object(n.useEffect)((function(){console.log(navigator),T.get("/apis/v1/user/producthighlight/?limit=4&producttype=popular").then((function(e){console.log(e.data.data),l(e.data.data)})),T.get("/apis/v1/user/producthighlight/?limit=4&producttype=new").then((function(e){console.log(e.data.data),i(e.data.data)}))}),[]),c.a.createElement("div",{className:"home-component"},c.a.createElement(F,null),c.a.createElement("div",{className:"container mt-4"},c.a.createElement("h2",{className:"h2 mb-4"},"Top Grossing"),c.a.createElement("div",{className:"d-flex align-items-stretch justify-content-center flex-wrap"},a.map((function(e){return c.a.createElement(U,{key:e._id,product:e})}))),c.a.createElement("hr",{className:"my-4",style:{border:"1px solid #aaa"}}),c.a.createElement("div",{className:"mt-5"},c.a.createElement("h2",{className:"h2 mb-4"},"New Arrivals"),c.a.createElement("div",{className:"d-flex align-items-stretch justify-content-center flex-wrap"},s.map((function(e){return c.a.createElement(U,{key:e._id,product:e})})))),c.a.createElement("hr",{className:"my-4",style:{border:"1px solid #aaa"}}),c.a.createElement("div",{style:{width:"100%",height:"20px"}}),c.a.createElement(q,{className:"mt-6"}),c.a.createElement(B,null)))};var z=function(){return c.a.createElement("div",null,"Privacy Page.")},Q=a(8),J=a.n(Q),K=a(12),X=function(e){return{type:"CART_QUANTITY",payload:e}};var Z=Object(o.b)((function(e){return{categories:e.FetchCategories,Auth:e.Auth,modalLoading:e.Modal,cart:e.CartQuantity}}),{cartQuantity:X})((function(e){var t=Object(n.useState)([]),a=Object(D.a)(t,2),l=a[0],r=a[1],o=Object(n.useState)([]),s=Object(D.a)(o,2),i=s[0],m=s[1],u=Object(n.useState)(""),E=Object(D.a)(u,2),p=E[0],f=E[1],b=Object(n.useState)(!1),g=Object(D.a)(b,2),h=g[0],N=g[1];Object(n.useEffect)((function(){T.get(j.FETCH_THE_CART).then((function(t){if(t.data.status){f(t.data.data._id),r(t.data.data.cart),m(t.data.data.product_details);var a=0;t.data.data.cart.forEach((function(e){a+=e.count})),e.cartQuantity(a)}else console.log(t.data.message)})).catch((function(e){console.log(e)}))}),[]);var v=function(t,a){e.cartQuantity(e.cart.count+a);var n=l.map((function(e){return e._id!==t?e:Object(d.a)(Object(d.a)({},e),{},{count:e.count+a})}));r(n),O(n)},y=function(){var e=Object(K.a)(J.a.mark((function e(t){var a;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(window.confirm("Are you sure you want to delete this, this is irreversible!")){e.next=2;break}return e.abrupt("return");case 2:m((function(e){return e.filter((function(e){return e._id!==t}))})),a=l.filter((function(e){return e.product!==t})),r(a),O(a);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),O=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;N(!0);var t={_id:p,cart:l};null!==e&&(t=Object(d.a)(Object(d.a)({},t),{},{cart:e})),T.post(j.UPDATE_CART,t).then((function(e){e.data.status&&console.log(e.data)})).catch((function(e){return console.log(e)})).finally((function(){return N(!1)}))};return c.a.createElement("div",{className:"container"},c.a.createElement("ul",{className:"breadcrumb"},c.a.createElement("li",null,c.a.createElement(w.b,{to:"/"},c.a.createElement("i",{className:"fa fa-home"}),"\xa0Home"))),c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"table-responsive col-md-12"},c.a.createElement("table",{className:"table table-bordered"},c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("td",{className:"text-center"},"Image"),c.a.createElement("td",{className:"text-left"},"Product Name"),c.a.createElement("td",{className:"text-left"},"Quantity"),c.a.createElement("td",{className:"text-right"},"Unit Price"),c.a.createElement("td",{className:"text-right"},"Total"))),i.map((function(e,t){var a=l.find((function(t){return t.product==e._id}));return c.a.createElement("tbody",{key:t},c.a.createElement("tr",null,c.a.createElement("td",{className:"text-center"},c.a.createElement(w.b,{to:"/product/".concat(e._id)},c.a.createElement("img",{className:"img-thumbnail",title:"women's clothing",alt:"product image",src:"".concat(j.BASE_SERVER_URL).concat(e.images[0]),width:"100px"}))),c.a.createElement("td",{className:"text-left"},c.a.createElement(w.b,{to:"/product/".concat(e._id)},e.name)),c.a.createElement("td",{className:"text-left"},c.a.createElement("div",{style:{maxWidth:"200px"},className:"input-group btn-block"},c.a.createElement("div",{className:"d-flex w-100 justify-content-center mt-2"},c.a.createElement("input",{type:"text",className:"form-control quantity w-100",disabled:!0,size:"1",value:a.count,name:"quantity"}),1===a.count?"":c.a.createElement("button",{className:"btn btn-danger mx-1",title:"","data-toggle":"tooltip",type:"button","data-original-title":"Remove",onClick:function(){return v(a._id,-1)},disabled:h},c.a.createElement("i",{className:"fa fa-minus"})),c.a.createElement("button",{className:"btn btn-primary",title:"","data-toggle":"tooltip",type:"button","data-original-title":"Update",onClick:function(){return v(a._id,1)},disabled:h},c.a.createElement("i",{className:"fa fa-plus"}))),c.a.createElement("div",{className:"my-2 w-100"},c.a.createElement("button",{className:"btn btn-danger w-100",title:"","data-toggle":"tooltip",type:"button","data-original-title":"Update",onClick:function(){return y(e._id)},disabled:h},c.a.createElement("i",{className:"fa fa-trash"}),"\xa0Delete Item")))),c.a.createElement("td",{className:"text-right"},"\u20b9",e.salePrice?e.salePrice:e.regularPrice),c.a.createElement("td",{className:"text-right"},"\u20b9",e.salePrice?e.salePrice*a.count:e.regularPrice*a.count)))}))))),c.a.createElement("div",{className:"buttons"},c.a.createElement("div",{className:"pull-right"},c.a.createElement(w.b,{className:"btn btn-primary",to:"/checkout"},"Checkout"))))}));var $=Object(o.b)((function(e){return{categories:e.FetchCategories,Auth:e.Auth,modalLoading:e.Modal}}),{setUserDetails:P,cartQuantity:X})((function(e){var t=Object(O.g)(),a=Object(n.useState)(!1),l=Object(D.a)(a,2),r=l[0],o=l[1],s=Object(n.useState)({}),i=Object(D.a)(s,2),m=i[0],u=i[1],E=Object(n.useState)(!1),p=Object(D.a)(E,2),f=p[0],b=p[1],g=Object(n.useState)([]),h=Object(D.a)(g,2),N=h[0],v=h[1],y=Object(n.useState)([]),_=Object(D.a)(y,2),x=_[0],S=_[1],A=Object(n.useState)(""),C=Object(D.a)(A,2),k=C[0],P=C[1],R=Object(n.useState)([]),I=Object(D.a)(R,2),L=I[0],F=I[1],U=Object(n.useState)(!1),G=Object(D.a)(U,2),H=G[0],W=G[1],q=Object(n.useState)([]),M=Object(D.a)(q,2),V=M[0],B=M[1],Y=Object(n.useState)(0),z=Object(D.a)(Y,2),Q=z[0],X=z[1],Z=function(){T.get(j.GET_ADDRESS_LIST).then((function(e){console.log(e.data.data),e.data.status?(e.data.data.forEach((function(e){e.isdefault&&(console.log(e._id),u(e._id))})),v(e.data.data)):console.log("Error Occoured",e.data.message)})).catch((function(e){console.log(e)}))};Object(n.useEffect)((function(){Z(),T.get(j.FETCH_THE_CART).then((function(e){e.data.status?(P(e.data.data._id),S(e.data.data.cart),console.log(e.data.data.cart),F(e.data.data.product_details)):console.log(e.data.message)})).catch((function(e){console.log(e)}))}),[]),Object(n.useEffect)((function(){var e=0;x.forEach((function(t,a){L&&L[a]&&(e+=L[a].salePrice?L[a].salePrice*t.count:L[a].regularPrice*t.count)})),X(e)}),[x,L]);var $=function(){var e=[],t=0;console.log("cart details",x);var a=x.map((function(e,t){return T.post(j.AVAILABLE_FOR_CART,{product_id:e.product,qty:e.count})}));Promise.all(a).then((function(a){a.forEach((function(a){a.data.status?e.push(!0):(e.push(!1),t=1)}))})).catch((function(t){console.log(t),e=a.map((function(e){return!1}))})).finally((function(){B(e),o(1!==t)}))};Object(n.useEffect)((function(){$()}),[x]);var ee=function(t){b(!1),T.post(j.SET_DEFAULT_ADDRESS,{address_id:m}).then((function(t){console.log(t.data),!0===t.data.status&&(T.get(j.GET_USER_DETAILS).then((function(t){console.log(t.data.data),t.data.status?e.setUserDetails(t.data.data):console.log("Error happened")})).catch((function(e){console.log(e)})),Z(),$(),b(!0),setTimeout((function(){b(!1)}),3e3))})).catch((function(e){console.log(e)}))},te=function(){var e=Object(K.a)(J.a.mark((function e(t){var a;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(window.confirm("Are you sure you want to delete this, this is irreversible!")){e.next=2;break}return e.abrupt("return");case 2:F((function(e){return e.filter((function(e){return e._id!==t}))})),a=x.filter((function(e){return e.product!==t})),S(a),ae(a);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ae=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;W(!0);var t={_id:k,cart:x};null!==e&&(t=Object(d.a)(Object(d.a)({},t),{},{cart:e})),T.post(j.UPDATE_CART,t).then((function(e){e.data.status&&console.log(e.data)})).catch((function(e){return console.log(e)})).finally((function(){return W(!1)}))};return c.a.createElement("div",{className:"container"},c.a.createElement("ul",{className:"breadcrumb"},c.a.createElement("li",null,c.a.createElement(w.b,{to:"/"},c.a.createElement("i",{className:"fa fa-home"},"Home")))),c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-12"},c.a.createElement("h1",{className:"h2"},"Checkout"),r?"":c.a.createElement("div",{className:"alert alert-danger",role:"alert"},"One or more products are not available in your area(Marked with yellow backgroud). Please delete them form ",c.a.createElement(w.b,{to:"/cart"},"cart")," to proceed."),c.a.createElement("div",{className:"address-form"},c.a.createElement("label",{className:"text-dark font-weight-bold",htmlFor:"defaultAddress",value:m},"Select delivery Address"),f?c.a.createElement("div",{className:"alert alert-success",role:"alert"},"Default address changed"):"",c.a.createElement("select",{className:"custom-select mr-sm-2",id:"defaultAddress",onChange:function(e){return function(e){console.log(e.target.value),u(e.target.value)}(e)}},c.a.createElement("option",{value:"",hidden:!0},"Nothing Available"),N.map((function(e){return c.a.createElement("option",{value:e._id,key:e._id,selected:e.isdefault},e.lineone,", ",e.city," - ",e.pincode)}))),c.a.createElement("button",{onClick:function(){return ee()},className:"btn btn-primary w-100 my-1"},"Change Delivery Address"),c.a.createElement("p",{className:"mb-0"},c.a.createElement("span",{className:"text-danger"},"*"),"Please note, setting it as a delivery address will make this address your default, which you can change from ",c.a.createElement(w.b,{to:"/profile"},"profile")," page")),c.a.createElement("div",{className:"my-2 text-dark",style:{fontSize:"1.2rem"}},c.a.createElement("strong",null,"Delivering to: "),e.Auth.userdetails&&e.Auth.userdetails.defaultAddress?c.a.createElement("span",null,e.Auth.userdetails.defaultAddress.lineone,", ",e.Auth.userdetails.defaultAddress.city," - ",e.Auth.userdetails.defaultAddress.pincode):c.a.createElement("span",null,"Not set")),c.a.createElement("div",{className:"my-2"},c.a.createElement("table",{className:"table table-bordered"},c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("td",{className:"text-center"},"Image"),c.a.createElement("td",{className:"text-left"},"Product Name"),c.a.createElement("td",{className:"text-left"},"Quantity"),c.a.createElement("td",{className:"text-right"},"Unit Price"),c.a.createElement("td",{className:"text-right"},"Total"))),c.a.createElement("tbody",null,L.map((function(e,t){var a=x.find((function(t){return t.product==e._id}));return c.a.createElement("tr",{key:t,className:V[t]?"":"bg-warning"},c.a.createElement("td",{className:"text-center"},c.a.createElement(w.b,{to:"/product/".concat(e._id)},c.a.createElement("img",{className:"img-thumbnail",title:"women's clothing",alt:"product image",src:"".concat(j.BASE_SERVER_URL).concat(e.images[0]),width:"100px"}))),c.a.createElement("td",{className:"text-left"},c.a.createElement(w.b,{to:"/product/".concat(e._id)},e.name)),c.a.createElement("td",{className:"text-left"},c.a.createElement("div",{className:"input-group btn-block"},c.a.createElement("input",{type:"text",className:"form-control quantity w-100",disabled:!0,size:"1",value:a.count,name:"quantity"}),c.a.createElement("div",{className:"my-2 w-100"},c.a.createElement("button",{className:"btn btn-danger w-100",title:"","data-toggle":"tooltip",type:"button","data-original-title":"Update",onClick:function(){return te(e._id)},disabled:H},c.a.createElement("i",{className:"fa fa-trash"}),"\xa0Delete Item")))),c.a.createElement("td",{className:"text-right"},"\u20b9",e.salePrice?e.salePrice:e.regularPrice),c.a.createElement("td",{className:"text-right"},"\u20b9",e.salePrice?e.salePrice*a.count:e.regularPrice*a.count))})),c.a.createElement("tr",null,c.a.createElement("td",{className:"text-right",colSpan:"4"},"Total Cost:"),c.a.createElement("td",{className:"text-right"},"\u20b9",Q))))),c.a.createElement("div",{className:"my-2"},c.a.createElement("p",{className:"my-2"},"Estimated delivery date is 16/09/2020"),c.a.createElement("button",{className:"btn btn-primary d-block w-50 ml-auto",disabled:!r,onClick:function(){T.post(j.PLACE_ORDERS).then((function(a){console.log(a.data),a.data.status?(console.log(a.data),e.cartQuantity(0),t.push("/order-success")):alert("Your order could not be placed!")})).catch((function(e){console.log(e),alert("Your order could not be placed!")}))}},"Place order")))))})),ee=a(4),te=a(19);var ae=Object(o.b)((function(e){return{Auth:e.Auth}}),{setUserDetails:P})((function(e){var t=Object(n.useState)(0),a=Object(D.a)(t,2),l=a[0],r=a[1],o=Object(n.useState)([]),s=Object(D.a)(o,2),i=s[0],m=s[1],u=Object(n.useState)({}),E=Object(D.a)(u,2),p=E[0],f=E[1],b=Object(n.useState)({_id:"",lineone:"",locality:"",city:"",district:"",state:"",country:"",pincode:""}),g=Object(D.a)(b,2),h=g[0],N=g[1],v=Object(n.useState)([]),y=Object(D.a)(v,2),O=y[0],_=y[1],x=Object(n.useState)([]),S=Object(D.a)(x,2),A=S[0],C=S[1],k=Object(n.useState)(""),P=Object(D.a)(k,2),R=P[0],I=P[1],L=Object(n.useState)(""),F=Object(D.a)(L,2),U=F[0],G=F[1],H=Object(n.useState)(!1),W=Object(D.a)(H,2),q=W[0],M=W[1],V=Object(n.useState)([]),B=Object(D.a)(V,2),Y=B[0],z=B[1],Q=Object(n.useState)({}),J=Object(D.a)(Q,2),K=J[0],X=J[1],Z=Object(n.useState)([]),$=Object(D.a)(Z,2),ae=$[0],ne=$[1],ce=Object(n.useState)([]),le=Object(D.a)(ce,2),re=(le[0],le[1],function(){T.get(j.GET_USER_DETAILS).then((function(t){console.log(t.data.data),t.data.status?(e.setUserDetails(t.data.data),f(t.data.data)):console.log("Error happened")})).catch((function(e){console.log(e)}))}),oe=function(){T.get(j.GET_ADDRESS_LIST).then((function(e){console.log(e.data.data),e.data.status?_(e.data.data):console.log("Error Occoured",e.data.message)})).catch((function(e){console.log(e)}))};Object(n.useEffect)((function(){console.log("PROPS.LOCATION",e.location),e.location&&e.location.state&&r(e.location.state.page),re(),oe(),T.get(j.GET_ORDERS).then((function(e){console.log("ORDERS",e.data),e.data.status,ne(e.data.data)}))}),[]);var se=function(e){e.persist(),f((function(t){return Object(d.a)(Object(d.a)({},t),{},Object(te.a)({},e.target.name,e.target.value))}))},ie=function(e){e.persist(),N((function(t){return Object(d.a)(Object(d.a)({},t),{},Object(te.a)({},e.target.name,e.target.value))}))},me=function(){N({_id:"",lineone:"",locality:"",city:"",district:"",state:"",country:"",pincode:""})},ue=function(e){T.post(j.SET_DEFAULT_ADDRESS,{address_id:e}).then((function(e){console.log(e.data),!0===e.data.status&&(re(),oe())})).catch((function(e){console.log(e)}))},de=function(e){N(Object(d.a)({},O.filter((function(t){return t._id===e}))[0]))};return c.a.createElement("div",{className:"container mt-2"},c.a.createElement("ol",{className:"breadcrumb"},c.a.createElement("li",{className:"breadcrumb-item"},c.a.createElement("a",{href:"/"},c.a.createElement("i",{className:"fa fa-home"}),"Home")),c.a.createElement("li",{className:"breadcrumb-item active"},"Account")),c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-md-4 col-12"},c.a.createElement("div",{className:"column-block"},c.a.createElement("div",{className:"column-block"},c.a.createElement("div",{className:"columnblock-title text-white",style:{backgroundColor:"#ef8829",fontSize:"18px",padding:"13px 20px 11px"}},"ACCOUNT"),c.a.createElement("div",{className:"category_block"},c.a.createElement("ul",{className:"box-category treeview-list treeview"},["My Account","Addresses","My Order History"].map((function(e,t){return c.a.createElement("div",{key:e},c.a.createElement("li",null,c.a.createElement("a",{href:"#",className:t===l?"active":"",onClick:function(){return r(t)}},e)))}))))))),c.a.createElement("div",{className:"col-md-8 col-12"},0===l?c.a.createElement(c.a.Fragment,null,c.a.createElement("h3",{className:"h3"},"Profile"),i.map((function(e,t){return c.a.createElement("div",{key:t,className:"alert alert-danger alert-dismissible fade show",role:"alert"},e,c.a.createElement("button",{type:"button",className:"close","data-dismiss":"alert","aria-label":"Close",onClick:function(){return m((function(t){return t.filter((function(t){return t!==e}))}))}},c.a.createElement("span",{"aria-hidden":"true"},"\xd7")))})),c.a.createElement("div",{className:"mx-3 w-100"},c.a.createElement("div",{className:"row my-2 mb-4 w-100"},c.a.createElement("div",{className:"col-md-4 col-12 justify-content-center align-items-center d-flex"},c.a.createElement("img",{className:"d-block",src:"".concat(j.BASE_SERVER_URL).concat(p.avatar),alt:"Avatar",style:{width:"100px",height:"100px",borderRadius:"50%"}})),c.a.createElement("div",{className:"col-md-8 d-flex flex-column col-12 mt-2 mt-md-0 p-0"},c.a.createElement("div",{className:"input-group mb-3"},c.a.createElement("div",{className:"input-group-prepend"},c.a.createElement("span",{className:"input-group-text",id:"inputGroupFileAddon01"},"Upload")),c.a.createElement("div",{className:"custom-file"},c.a.createElement("input",{type:"file",className:"custom-file-input",id:"inputGroupFile01","aria-describedby":"inputGroupFileAddon01",onChange:function(e){e.persist(),X(e.target.files[0])}}),c.a.createElement("label",{className:"custom-file-label",htmlFor:"inputGroupFile01"},"Choose file"))),c.a.createElement("div",{className:"alert alert-primary",role:"alert"},"Current File\xa0",c.a.createElement("strong",null,K.name?K.name:"None")),c.a.createElement("button",{className:"btn btn-primary m-0",onClick:function(){return function(){var e=new FormData;e.append("avatar",K);T.post(j.UPLOAD_USER_AVATAR,e,{headers:{"content-type":"multipart/form-data"}}).then((function(e){console.log(e),e.data.status&&T.post(j.USER_UPDATE_PROFILE_PIC,{avatar:e.data.file}).then((function(e){e.data.status&&re()})).catch((function(e){console.log(e)}))})).catch((function(e){console.log(e)})).finally((function(){X({})}))}()},disabled:!K.name},"Change Profile Image"))),c.a.createElement("div",{className:"row mb-md-1 mb-2 w-100"},c.a.createElement("label",{className:"col-md-4 col-12 px-md-3 p-0 m-0 mb-md-0 mb-1 font-weight-bold align-self-center text-dark",htmlFor:"name"},"Name"),c.a.createElement("input",{type:"text",className:"col-12 col-md-8 form-control",id:"name",name:"name",value:p.name?p.name:"",onChange:function(e){return se(e)},disabled:!0})),c.a.createElement("div",{className:"row mb-md-1 mb-2 w-100"},c.a.createElement("label",{className:"col-md-4 col-12 px-md-3 p-0 m-0 mb-md-0 mb-1 font-weight-bold align-self-center text-dark",htmlFor:"email"},"Email"),c.a.createElement("input",{type:"email",className:"col-12 col-md-8 form-control",id:"email",name:"email",value:p.email?p.email:"",onChange:function(e){return se(e)},disabled:!0})),c.a.createElement("div",{className:"row mb-md-1 mb-2 w-100"},c.a.createElement("label",{className:"col-md-4 col-12 px-md-3 p-0 m-0 mb-md-0 mb-1 font-weight-bold align-self-center text-dark",htmlFor:"phoneNumber"},"Phone Number"),c.a.createElement("input",{type:"number",typeof:"number",className:"col-12 col-md-8 form-control",id:"phoneNumber",name:"phoneNumber",value:p.phoneNumber?p.phoneNumber:"",onChange:function(e){return se(e)},disabled:!0})),c.a.createElement("hr",null),c.a.createElement("div",{className:"passwordBlock my-3"},c.a.createElement("div",{className:"row w-100 mb-2"},c.a.createElement("h3",{className:"h4"},"Change Password")),q?c.a.createElement("div",{className:"alert alert-success",role:"alert"},"Password Update Successful"):"",Y.map((function(e,t){return c.a.createElement("div",{key:t,className:"alert alert-danger alert-dismissible fade show",role:"alert"},e,c.a.createElement("button",{type:"button",className:"close","data-dismiss":"alert","aria-label":"Close",onClick:function(){return z((function(t){return t.filter((function(t){return t!==e}))}))}},c.a.createElement("span",{"aria-hidden":"true"},"\xd7")))})),c.a.createElement("div",{className:"row mb-md-1 mb-2 w-100"},c.a.createElement("label",{className:"col-md-4 col-12 px-md-3 p-0 m-0 mb-md-0 mb-1 font-weight-bold align-self-center text-dark",htmlFor:"currentPassword"},"Current Password"),c.a.createElement("input",{type:"password",className:"col-12 col-md-8 form-control",id:"currentPassword",name:"currentPassword",value:R,onChange:function(e){return I(e.target.value)},placeholder:"Password"})),c.a.createElement("div",{className:"row mb-md-1 mb-2 w-100"},c.a.createElement("label",{className:"col-md-4 col-12 px-md-3 p-0 m-0 mb-md-0 mb-1 font-weight-bold align-self-center text-dark",htmlFor:"newPassword"},"New Password"),c.a.createElement("input",{type:"password",className:"col-12 col-md-8 form-control",id:"newPassword",name:"newPassword",value:U,onChange:function(e){return G(e.target.value)},placeholder:"Re enter Password"})),c.a.createElement("div",{className:"row w-100"},c.a.createElement("div",{className:"col-12 col-md-6 offset-md-6 p-0"},c.a.createElement("button",{onClick:function(){return z([]),void(R.length<5?z((function(e){return[].concat(Object(ee.a)(e),["Password Length must be >= 5"])})):U.length<5?z((function(e){return[].concat(Object(ee.a)(e),["Repeat Password Length must be >= 5"])})):U!==R?T.post(j.UPDATE_PASSWORD,{oldPassword:R,newPassword:U}).then((function(e){!1===e.data.status?z((function(t){return[].concat(Object(ee.a)(t),[e.data.message])})):(I(""),G(""),M(!0),setTimeout((function(){return M(!1)}),5e3))})).catch((function(e){console.log(e),z((function(e){return[].concat(Object(ee.a)(e),["Password Update Failed!"])}))})):z((function(e){return[].concat(Object(ee.a)(e),["Old and new password can not be the same"])})))},className:"btn btn-secondary mt-2 w-100"},"Update Password")))))):c.a.createElement(c.a.Fragment,null),1===l?c.a.createElement(c.a.Fragment,null,c.a.createElement("h3",{className:"h3"},"Addresses"),c.a.createElement("div",{className:"addressBlock my-3"},c.a.createElement("h3",{className:"h4"},""===h._id?"Add New":"Edit Address"),c.a.createElement("div",{className:"row mb-md-1 mb-2 w-100 mx-auto mx-md-0"},c.a.createElement("label",{className:"col-md-4 col-12 px-md-3 p-0 m-0 mb-md-0 mb-1 font-weight-bold align-self-center text-dark",htmlFor:"lineone"},"Address Line"),c.a.createElement("input",{type:"text",className:"col-12 col-md-8 form-control",id:"lineone",name:"lineone",value:h.lineone,onChange:function(e){return ie(e)},placeholder:"Set your address for quick ordering"})),c.a.createElement("div",{className:"row mb-md-1 mb-2 w-100 mx-auto mx-md-0"},c.a.createElement("label",{className:"col-md-4 col-12 px-md-3 p-0 m-0 mb-md-0 mb-1 font-weight-bold align-self-center text-dark",htmlFor:"pincode"},"Pincode"),c.a.createElement("input",{type:"text",className:"col-12 col-md-8 form-control",id:"pincode",name:"pincode",value:h.pincode,onChange:function(e){return ie(e)},placeholder:"Set your address for quick ordering"})),c.a.createElement("div",{className:"row mb-md-1 mb-2 w-100 mx-auto mx-md-0"},c.a.createElement("label",{className:"col-md-4 col-12 px-md-3 p-0 m-0 mb-md-0 mb-1 font-weight-bold align-self-center text-dark",htmlFor:"locality"},"Locality"),c.a.createElement("input",{type:"text",className:"col-12 col-md-8 form-control",id:"locality",name:"locality",value:h.locality,onChange:function(e){return ie(e)},placeholder:"A landmark near your place, e.g. Water Tank"})),c.a.createElement("div",{className:"row mb-md-1 mb-2 w-100 mx-auto mx-md-0"},c.a.createElement("label",{className:"col-md-4 col-12 px-md-3 p-0 m-0 mb-md-0 mb-1 font-weight-bold align-self-center text-dark",htmlFor:"city"},"City"),c.a.createElement("input",{type:"text",className:"col-12 col-md-8 form-control",id:"city",name:"city",value:h.city,onChange:function(e){return ie(e)},placeholder:"Enter your city"})),c.a.createElement("div",{className:"row mb-md-1 mb-2 w-100 mx-auto mx-md-0"},c.a.createElement("label",{className:"col-md-4 col-12 px-md-3 p-0 m-0 mb-md-0 mb-1 font-weight-bold align-self-center text-dark",htmlFor:"district"},"District"),c.a.createElement("input",{type:"text",className:"col-12 col-md-8 form-control w-100",id:"State",name:"district",value:h.district,onChange:function(e){return ie(e)},placeholder:"State"})),c.a.createElement("div",{className:"row mb-md-1 mb-2 w-100 mx-auto mx-md-0"},c.a.createElement("label",{className:"col-md-4 col-12 px-md-3 p-0 m-0 mb-md-0 mb-1 font-weight-bold align-self-center text-dark",htmlFor:"state"},"State"),c.a.createElement("input",{type:"text",className:"col-12 col-md-8 form-control",id:"state",name:"state",value:h.state,onChange:function(e){return ie(e)},placeholder:"State"})),c.a.createElement("div",{className:"row mb-md-1 mb-2 w-100 mx-auto mx-md-0"},c.a.createElement("label",{className:"col-md-4 col-12 px-md-3 p-0 m-0 mb-md-0 mb-1 font-weight-bold align-self-center text-dark",htmlFor:"country"},"Country"),c.a.createElement("input",{type:"text",className:"col-12 col-md-8 form-control",id:"country",name:"country",value:h.country,onChange:function(e){return ie(e)},placeholder:"Country"}))),A.map((function(e,t){return c.a.createElement("div",{key:t,className:"alert alert-danger alert-dismissible fade show",role:"alert"},e,c.a.createElement("button",{type:"button",className:"close","data-dismiss":"alert","aria-label":"Close",onClick:function(){return C((function(t){return t.filter((function(t){return t!==e}))}))}},c.a.createElement("span",{"aria-hidden":"true"},"\xd7")))})),c.a.createElement("div",{className:"row w-100 mx-auto"},""!==h._id?c.a.createElement("button",{className:"btn btn-danger mt-2 mr-2 ml-auto d-inline-block",onClick:function(){return me()}},"Cancel Edit"):"",c.a.createElement("button",{className:"btn btn-secondary mt-2 d-inline-block",onClick:function(){return function(){C([]);var e=0;if(""===h.lineone&&(C((function(e){return[].concat(Object(ee.a)(e),["Address Line required"])})),e+=1),""===h.pincode&&(C((function(e){return[].concat(Object(ee.a)(e),["Pincode required"])})),e+=1),6!=h.pincode.length&&(C((function(e){return[].concat(Object(ee.a)(e),["Invalid Pincode"])})),e+=1),""===h.locality&&(C((function(e){return[].concat(Object(ee.a)(e),["Locality Required"])})),e+=1),""===h.city&&(C((function(e){return[].concat(Object(ee.a)(e),["City Required"])})),e+=1),""===h.state&&(C((function(e){return[].concat(Object(ee.a)(e),["State Required"])})),e+=1),""===h.country&&(C((function(e){return[].concat(Object(ee.a)(e),["Country Required"])})),e+=1),!(e>0))if(console.log(h),""!==h._id){_((function(e){return e.filter((function(e){return e._id!==h._id}))}));var t=Object(d.a)(Object(d.a)({},h),{},{address_id:h._id});T.post(j.EDIT_ADDRESS,t).then((function(e){console.log(e.data),e.data.status?(_((function(t){return[].concat(Object(ee.a)(t),[e.data.data])})),re(),me()):C((function(t){return[].concat(Object(ee.a)(t),[e.data.message])}))})).catch((function(e){console.log(e),C((function(e){return[].concat(Object(ee.a)(e),["Something Went wrong"])}))}))}else T.post(j.ADD_NEW_ADDRESS,h).then((function(e){console.log(e.data),e.data.status?(_((function(t){return[].concat(Object(ee.a)(t),[e.data.data])})),null===p.defaultAddress&&ue(e.data.data._id),me()):C((function(t){return[].concat(Object(ee.a)(t),[e.data.message])}))})).catch((function(e){console.log(e),C((function(e){return[].concat(Object(ee.a)(e),["Something Went wrong"])}))}))}()}},""===h._id?"Add New Address":"Save Changes")),c.a.createElement("hr",null),c.a.createElement("h3",{className:"h3 mb-3"},"Address List"),O.map((function(e){if(e.isdefault)return c.a.createElement("div",{key:e._id,className:"mt-2 card p-2"},c.a.createElement("p",{className:"text-danger mb-1"},"*Default Address can't be deleted"),c.a.createElement("p",{className:"h5 mb-0 text-dark"},e.lineone),c.a.createElement("p",{className:"mb-1"},e.locality,", ",e.city,", ",e.district,", ",e.state,", ",e.country," - ",e.pincode),c.a.createElement("button",{className:"btn btn-secondary mb-2",onClick:function(){return de(e._id)}},"Edit Address"))})),O.map((function(e){if(!e.isdefault&&e._id!==h._id)return c.a.createElement("div",{key:e._id,className:"mt-2 card p-2"},c.a.createElement("p",{className:"h5 mb-0 text-dark"},e.lineone),c.a.createElement("p",{className:"mb-1"},e.city,", ",e.district,", ",e.state,", ",e.country," - ",e.pincode),c.a.createElement("button",{className:"btn btn-secondary mb-2",onClick:function(){return de(e._id)}},"Edit Address"),c.a.createElement("div",{className:"row w-100 mx-auto"},c.a.createElement("div",{className:"col-6 p-0 pr-2"},c.a.createElement("button",{className:"btn btn-danger w-100",onClick:function(){return t=e._id,void T.post(j.REMOVE_ADDRESS,{address_id:t}).then((function(e){console.log(e.data),!0===e.data.status&&_((function(e){return e.filter((function(e){return e._id!==t}))}))})).catch((function(e){console.log(e)}));var t}},"Delete Address")),c.a.createElement("div",{className:"col-6 p-0 pl-2"},c.a.createElement("button",{className:"btn btn-success w-100",onClick:function(){return ue(e._id)}},"Set as Default Address"))))}))):c.a.createElement(c.a.Fragment,null),2===l?c.a.createElement(c.a.Fragment,null,c.a.createElement("h3",{className:"h3"},"Order History"),ae.map((function(e){return c.a.createElement("div",{className:"card my-2",key:e._id},c.a.createElement("div",{className:"card-body"},c.a.createElement("h3",{className:"card-title h3"}," ",c.a.createElement("strong",null,"Order ID:")," ",e._id),c.a.createElement("h6",{className:"cancelled"!=e.currentStatus?" text-success":" text-danger"},c.a.createElement("strong",null,"Current Status:")," ",e.currentStatus),e.address&&e.address!=={}?c.a.createElement("p",{className:"text-dark"},c.a.createElement("strong",null,"Address: "),e.address.lineone,", ",e.address.city," - ",e.address.pincode):"",c.a.createElement("div",{className:"table-responsive"},c.a.createElement("table",{className:"table table-bordered"},c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("td",{className:"text-left"},"Product Name"),c.a.createElement("td",{className:"text-left"},"Quantity"),c.a.createElement("td",{className:"text-right"},"Unit Price"),c.a.createElement("td",{className:"text-right"},"Total"))),c.a.createElement("tbody",null,e.product_details.map((function(t,a){return c.a.createElement("tr",{key:a},c.a.createElement("td",{className:"text-left"},c.a.createElement(w.b,{to:"/product/".concat(t._id)},t.name)),c.a.createElement("td",{className:"text-left"},e.items[a].count),c.a.createElement("td",{className:"text-right"},"\u20b9",t.salePrice?t.salePrice:t.regularPrice),c.a.createElement("td",{className:"text-right"},"\u20b9",t.salePrice?t.salePrice*e.items[a].count:t.regularPrice*e.items[a].count))}))))),c.a.createElement(w.b,{to:"/order/".concat(e._id)},c.a.createElement("button",{className:"btn btn-success"},"Details")),"cancelled"===e.currentStatus||"delivered"===e.currentStatus?"":c.a.createElement("button",{onClick:function(){return t=e._id,console.log(t),void T.post(j.CANCEL_ORDER,{orderId:t}).then((function(e){!0===e.data.status&&(console.log(e.data.data),ne((function(t){return t.map((function(t){return t._id!==e.data.data._id?t:Object(d.a)(Object(d.a)({},t),{},{currentStatus:e.data.data.currentStatus})}))})))})).catch((function(e){console.log(e)}));var t},className:"btn btn-danger"},"Cancel order")))}))):c.a.createElement(c.a.Fragment,null))))}));var ne=function(){return c.a.createElement("div",{className:"container"},c.a.createElement("ul",{className:"breadcrumb"},c.a.createElement("li",null,c.a.createElement(w.b,{to:"/"},c.a.createElement("i",{className:"fa fa-home"},"Home")))),c.a.createElement("div",{className:"d-flex flex-md-row flex-column justify-content-center align-items-center pb-3"},c.a.createElement("div",{className:"pr-md-5"},c.a.createElement("i",{className:"fa fa-check text-success",style:{fontSize:"10rem"}})),c.a.createElement("div",null,c.a.createElement("h1",{className:"h3"},"Your order was successfully placed. Check your order out at your profile's Order History tab"),c.a.createElement(w.b,{className:"btn btn-primary mt-2",to:{pathname:"/profile",state:{page:2}}},"Profile Page"))))},ce=a(79),le=a.n(ce);a(221);var re=function(e){var t=Object(O.h)().id,a=Object(n.useState)(),l=Object(D.a)(a,2),r=l[0],o=l[1];return Object(n.useEffect)((function(){T.get("".concat(j.ORDER_DETAILS,"/").concat(t)).then((function(e){console.log(e.data),e.data.status?o(e.data.data):alert(e.data.message)})).catch((function(e){console.log(e)}))}),[]),c.a.createElement("div",{className:"container p-4"},c.a.createElement("div",{className:"card mb-3"},c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-md-6 p-4"},r?c.a.createElement(c.a.Fragment,null,c.a.createElement("h5",null,"Delivery Address"),c.a.createElement("p",{className:"mb-0"},r.address.lineone),c.a.createElement("p",{className:"mb-0"},r.address.locality),c.a.createElement("p",{className:"mb-0"},r.address.city,",",r.address.state,",",r.address.pincode)):null),c.a.createElement("div",{className:"col-md-6 p-4"},r?c.a.createElement(c.a.Fragment,null,c.a.createElement("h5",null,"Order Details"),c.a.createElement("p",{className:"mb-0"},"Id : ",r._id),c.a.createElement("p",{className:"mb-0"},"Placed On : ",le()(r.createdAt).format("DD-MM-YYYY hh:mm:ss"))):null))),r&&r.items.map((function(e,t){return c.a.createElement("div",{className:"card mb-3",key:t},c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-md-2 p-4"},c.a.createElement("img",{className:"item-image",src:"".concat(j.BASE_SERVER_URL).concat(e.product.images[0])})),c.a.createElement("div",{className:"col-md-8 p-4"},c.a.createElement("p",{className:"mb-0"},"Name : ",e.product.name),c.a.createElement("p",{className:"mb-0"},"Count : ",e.count),c.a.createElement("p",{className:"mb-0"},"Unit Price : ",e.unitPrice),c.a.createElement("p",{className:"mb-0"},"Total Price : ",e.totalPrice))),c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-md-12"},c.a.createElement("ul",{className:"timeline"},e.status.map((function(e,t){return c.a.createElement("li",{className:"li complete",key:t},c.a.createElement("div",{className:"timestamp"},c.a.createElement("h4",{className:"author"},e.name),c.a.createElement("h4",{className:"date"},le()(e.date).format("DD-MM-YYYY hh:mm:ss"))),c.a.createElement("div",{className:"status"},c.a.createElement("p",null,e.remark)))}))))))})))};var oe=Object(o.b)((function(e){return{Auth:e.Auth}}),{setUserDetails:P,logout:k})((function(e){return c.a.createElement("div",null,c.a.createElement(O.d,null,c.a.createElement(O.b,{exact:!0,path:"/cart"},c.a.createElement(Z,null)),c.a.createElement(O.b,{exact:!0,path:"/checkout"},c.a.createElement($,null)),c.a.createElement(O.b,{exact:!0,path:"/profile"},c.a.createElement(ae,{location:e.location})),c.a.createElement(O.b,{exact:!0,path:"/order-success"},c.a.createElement(ne,{location:e.location})),c.a.createElement(O.b,{exact:!0,path:"/order/:id"},c.a.createElement(re,null))))}));var se=function(){return c.a.createElement("div",null,"Terms Page.")},ie=a(149),me=a.n(ie),ue=function(e){return{type:"MODAL",payload:e}};var de=Object(o.b)((function(e){return{categories:e.FetchCategories,Auth:e.Auth,modalLoading:e.Modal,cartItems:e.CartQuantity}}),{modal:ue,cartQuantity:X})((function(e){var t=Object(O.g)();return console.log(e.cartItems),c.a.createElement("div",{className:"container p-3 w-100 d-flex justify-content-between align-items-center"},c.a.createElement("a",{id:"logo",className:"d-block",href:"#"},c.a.createElement("img",{src:me.a,title:"E-Commerce",alt:"E-Commerce",className:"img-responsive",style:{width:"70px"}})),c.a.createElement("div",{className:"header-right p-0"},c.a.createElement("div",{id:"cart",className:"btn-group btn-block p-0"},c.a.createElement("button",{type:"button",onClick:function(){return t.push("/cart"),console.log(e.Auth.isLoggedIn),void(e.Auth.isLoggedIn||e.modal(!0))},className:"btn btn-inverse btn-block btn-lg dropdown-toggle cart-dropdown-button"}," ",c.a.createElement("span",{id:"cart-total"},c.a.createElement("span",{className:"cart-title"},"Shopping Cart"),c.a.createElement("br",null),c.a.createElement("span",{className:"count"},e.cartItems.count," item(s)")),c.a.createElement(w.b,{to:"/cart"})," "))))})),Ee=a(150),pe=a.n(Ee),fe=a(155),be=function(e){return{type:"LOADING",payload:e}},ge=(a(231),a(151)),he=a.n(ge);var Ne=Object(o.b)((function(e){return{Auth:e.Auth}}),{loading:be,login:C,modal:ue,setUserDetails:P,logout:k})((function(e){var t=Object(n.useState)("login"),a=Object(D.a)(t,2),l=a[0],r=a[1],o=Object(n.useState)(!1),s=Object(D.a)(o,2),i=s[0],m=s[1],u=Object(fe.a)(),d=u.register,E=u.handleSubmit,p=u.errors,f=Object(n.useState)(new Array(6).fill("")),b=Object(D.a)(f,2),g=b[0],h=b[1],N=Object(n.useState)(""),v=Object(D.a)(N,2),y=v[0],O=v[1],_=Object(n.useState)(""),x=Object(D.a)(_,2),S=x[0],A=x[1],C=Object(n.useState)(!1),k=Object(D.a)(C,2),P=k[0],R=k[1];return c.a.createElement("div",null,"login"===l?c.a.createElement("div",{className:"login-wrapper"},c.a.createElement("div",null,c.a.createElement("div",{className:"registerForm d-flex flex-md-row flex-col justify-content-around align-items-center"},c.a.createElement("div",{className:"sidePart d-md-block d-none",style:{paddingRight:"30px"}},c.a.createElement("img",{width:"100%",src:he.a,alt:""})),c.a.createElement("form",{className:"login-form d-flex flex-column justify-content-center align-itmes-center",onSubmit:E((function(t){console.log(t),e.loading(!0),T.post(j.LOGIN_WITH_EMAIL_OR_PHONE,t).then((function(t){if(console.log(t),t.data.status){if(!t.data.data.isVerified)return r("register"),m(!0),O(t.data.data),void alert(void 0!=t.data.data.otp||null!=t.data.data.otp?"Your OTP is ".concat(t.data.data.otp[0]):"123456 is your OTP");localStorage.setItem("Token",t.data.token),e.login(t.data.token,t.data.data),e.modal(!1)}else A(t.data.message)})).catch((function(t){console.log(t),e.logout()})).finally((function(){e.loading(!1)}))}))},c.a.createElement("h3",{className:"h3 mb-3"},"Welcome"),""!==S?c.a.createElement("div",{class:"alert alert-danger mb-3",role:"alert"},S,", New user? ",c.a.createElement(w.b,{className:"text-primary font-weight-bold",style:{cursor:"pointer"},to:"#",onClick:function(){return r("register")}},"Register")):"",c.a.createElement("div",{className:"wrap-input100"},c.a.createElement("input",{className:"input100 py-2",type:"text",name:"phoneNumber",placeholder:"Phone Number",ref:d({required:!0,minLength:10,maxLength:10})})),p.phoneNumber&&c.a.createElement("p",null,"Your phone number is required."),c.a.createElement("div",{className:"wrap-input100"},c.a.createElement("input",{className:"input100 py-2",type:"password",name:"password",placeholder:"Password",ref:d({required:!0,minLength:5})})," ",c.a.createElement("br",null),p.password&&c.a.createElement("p",null,"Password is required.")),c.a.createElement("div",{className:"row px-3"},c.a.createElement("div",{className:"col-lg-6 col-12 p-0 pr-lg-2"},c.a.createElement("button",{className:"btn btn-success w-100"},"Login")),c.a.createElement("div",{className:"col-lg-6 col-12 p-0 mt-2 mt-lg-0 pr-lg-2"},c.a.createElement("button",{className:"btn btn-warning w-100",onClick:function(){return r("register")}},"Sign up"))),c.a.createElement("div",{className:"login-forgotpassword"},c.a.createElement(w.b,{to:"/forgotpassword",onClick:function(){e.modal(!1)}},"forgot your password?")))))):c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"otp-field ".concat(i?"dblock":"dnone")},c.a.createElement("h3",{className:"h3 text-center mb-3"},"Enter your OTP"),c.a.createElement("div",{className:"row w-50 mx-auto"},g.map((function(e,t){return c.a.createElement("div",{className:"col-2 px-2",key:t},c.a.createElement("input",{className:"otp-input w-100 text-center",type:"text",name:"otp",maxLength:"1",value:e,onChange:function(e){return function(e,t){if(isNaN(e.value))return!1;h(Object(ee.a)(g.map((function(a,n){return n===t?e.value:a})))),e.parentElement.nextSibling&&e.parentElement.nextSibling.firstChild.focus()}(e.target,t)},onFocus:function(e){return e.target.select()},style:{width:"10%",fontSize:"1.2rem"}}))}))),c.a.createElement("button",{className:"btn btn-warning w-50 d-block text-dark mt-2 mx-auto",onClick:function(){return function(t){var a={otp:t.join(""),user_id:y};e.loading(!0),T.post(j.OTP_VERIFICATION,a).then((function(t){console.log(t),t.data.status?(e.login(t.data.token,t.data.data),alert("OTP Verification successful! Please re-login with your credentials"),window.location.reload()):(A(t.data.message),alert("OTP Verification Failed, Try again later"))})).catch((function(e){console.log(e),alert("OTP Verification Failed, Try again later")})).finally((function(){e.loading(!1),e.modal(!1)}))}(g)}},"Verify"),P?c.a.createElement("p",{className:"mt-3 text-center"},"A OTP is re-requeste, please refresh the page and try again to request"):c.a.createElement("p",{className:"mt-3 text-center"},"Forgot your OTP?\xa0",c.a.createElement(w.b,{className:"text-primary font-weight-bold",style:{cursor:"pointer"},to:"#",onClick:function(){return function(){var e={user_id:y};T.post(j.RESEND_OTP,e).then((function(e){console.log(e),e.data.status?(alert("Your new otp is sent to your Registered Mobile Number! ".concat(e.data.otp)),R(!0)):(A(e.data.message),alert("Could not send you OTP"))})).catch((function(e){console.log(e),alert("Could not send you OTP")}))}()}},"Resend OTP"))),c.a.createElement("div",{className:"limiter ".concat(i?"dnone":"dblock")},c.a.createElement("div",{className:"registerWrapper"},c.a.createElement("div",{className:""},c.a.createElement("div",null,c.a.createElement("div",{className:"registerForm side-div"}),c.a.createElement("div",{className:"registerForm"},c.a.createElement("div",{className:"sidePart d-flex justiify-content-center align-items-center",style:{paddingRight:"30px"}},c.a.createElement("img",{width:"100%",src:" https://acad.xlri.ac.in/evening/images/login.svg",className:"login-img",alt:"Login Guy"})),c.a.createElement("form",{className:"login100-form",onSubmit:E((function(t){console.log(t),e.loading(!0),T.post(j.REGITER_WITH_EMAIL_OR_PHONE,t).then((function(e){console.log(e),e.data.status?(m(!0),O(e.data.data),alert(e.data.otp?"Your OTP is ".concat(e.data.otp):"123456 is your OTP")):A(e.data.message)})).catch((function(e){console.log(e)})).finally((function(){e.loading(!1)}))}))},c.a.createElement("h1",null,"Register"),c.a.createElement("p",{className:"errorMessage"},""!==S&&S),c.a.createElement("div",{className:"wrap-input100"},c.a.createElement("input",{className:"input100 py-2",type:"number",name:"phoneNumber",placeholder:"Phone",autoComplete:"off",ref:d({required:!0,minLength:10,maxLength:10})})),p.phoneNumber&&c.a.createElement("p",null,"Your phone number is required."),c.a.createElement("div",{className:"wrap-input100"},c.a.createElement("input",{className:"input100 py-2",type:"text",name:"email",placeholder:"Email",autoComplete:"off",ref:d({validate:function(e){return/\S+@\S+\.\S+/.test(e)}})})),p.email&&c.a.createElement("p",null,"Email is required."),c.a.createElement("div",{className:"wrap-input100"},c.a.createElement("input",{className:"input100 py-2",type:"text",name:"name",placeholder:"Name",autoComplete:"off",ref:d({required:!0})})),p.name&&c.a.createElement("p",null,"This is required."),c.a.createElement("div",{className:"wrap-input100"},c.a.createElement("input",{className:"input100 py-2",type:"password",name:"password",placeholder:"Password",autoComplete:"off",ref:d({required:!0,minLength:5})})),p.password&&c.a.createElement("p",null,"This is required and enter more than 5 characters."),c.a.createElement("div",{className:"container-login100-form-btn"},c.a.createElement("div",{className:"wrap-login100-form-btn"},c.a.createElement("div",{className:"login100-form-bgbtn"}))),c.a.createElement("div",{className:"row px-3"},c.a.createElement("div",{className:"col-lg-6 col-12 p-0 pr-lg-2"},c.a.createElement("button",{className:"btn btn-success w-100"},"Register")),c.a.createElement("div",{className:"col-lg-6 col-12 p-0 mt-2 mt-lg-0"},c.a.createElement("button",{className:"btn btn-dark w-100",onClick:function(){return r("login")}},"Existing User? Sign In")))))))))))}));a(232);pe.a.setAppElement("#root");var ve=Object(o.b)((function(e){return{modalisopen:e.Modal,auth:e.Auth}}),{modal:ue})((function(e){var t=e.auth.isLoggedIn?{display:"none"}:{},a=e.auth.isLoggedIn?{}:{display:"none"};return c.a.createElement("div",null,c.a.createElement("div",{id:"simpleModal",className:"account-modal ".concat(e.modalisopen.loading?"dblock":"dnone")},c.a.createElement("div",{className:"account-modal-content"},c.a.createElement("span",{className:"closeBtn",onClick:function(){return e.modal(!1)}},"\xd7"),c.a.createElement(Ne,null))),c.a.createElement("nav",{id:"menu",className:"navbar navbar-expand-md py-3"},c.a.createElement("div",{className:"container d-flex justify-content-between align-items-center flex-column flex-md-row"},c.a.createElement("div",{id:"navbarSupportedContent"},c.a.createElement("ul",{className:"d-flex flex-sm-row flex-column"},c.a.createElement("li",{className:"nav-item hoverable active"},c.a.createElement(w.b,{className:"nav-link spc",to:"/"},"Home ",c.a.createElement("span",{className:"sr-only"},"(current)"))),c.a.createElement("li",{className:"nav-item hoverable"},c.a.createElement(w.b,{style:t,className:"nav-link spc",to:"#",onClick:function(){return e.modal(!0)}},"Login")),c.a.createElement("li",{className:"nav-item hoverable"},c.a.createElement(w.b,{style:a,className:"nav-link spc",to:"/profile"},e.auth.userdetails&&e.auth.userdetails.name?e.auth.userdetails.name.split(" ")[0]:"Profile")),c.a.createElement("li",{className:"nav-item hoverable"},c.a.createElement(w.b,{style:a,className:"nav-link spc",to:"#",onClick:function(){return window.localStorage.setItem("Token",""),void window.location.reload()}},"Logout")),c.a.createElement("li",{className:"nav-item mr-2"},c.a.createElement("form",{className:"d-md-none",action:"#",encType:"multipart/form-data",id:"language"},c.a.createElement("div",{className:"btn-group"},c.a.createElement("select",{name:"language",id:"language-selection"},c.a.createElement("option",{value:"english"},"English"),c.a.createElement("option",{value:"hindi"},"Hindi"),c.a.createElement("option",{value:"telgu"},"Telgu"))))))),c.a.createElement("div",{className:"w-75 my-2 my-md-0 mr-3"},c.a.createElement("form",{className:"d-flex justify-content-center align-items-center",method:"get",action:"/products"},c.a.createElement("input",{id:"search",name:"search",className:"form-control mr-sm-2 flex-grow-1",type:"search",placeholder:"Search","aria-label":"Search"}),c.a.createElement("button",{className:"btn btn-warning text-dark my-2 my-sm-0",type:"submit"},"Search"))),c.a.createElement("form",{className:"d-none d-md-block w-10",action:"#",encType:"multipart/form-data",id:"language"},c.a.createElement("div",{className:"btn-group"},c.a.createElement("select",{name:"language",id:"language-selection"},c.a.createElement("option",{value:"english"},"English"),c.a.createElement("option",{value:"hindi"},"Hindi"),c.a.createElement("option",{value:"telgu"},"Telgu")))))))})),ye=function(e){return{type:"FETCH_PRODUCTS",payload:e}},we=a(152),Oe=a.n(we);var _e=Object(o.b)((function(e){return{category_list:e.FetchCategories}}),{fetchProducts:ye})((function(e){var t=Object(n.useState)(""),a=Object(D.a)(t,2),l=a[0],r=a[1],o={color:"orange",fontWeight:"bold"};return Object(n.useEffect)((function(){var e=Oe.a.parse(window.location.search);console.log(e),e.category&&r(e.category)}),[]),c.a.createElement("div",{id:"column-left",className:"col-lg-3 col-12 hidden-xs column-left"},c.a.createElement("div",{className:"column-block"},c.a.createElement("div",{className:"column-block"},c.a.createElement("div",{className:"columnblock-title"},"Categories"),c.a.createElement("div",{className:"category_block"},c.a.createElement("ul",{className:"box-category treeview-list treeview"},c.a.createElement("li",null,c.a.createElement("a",{style:""===l?o:{},href:"/products"},"All")),0===e.category_list.category_list.length?c.a.createElement(V.a,{count:7}):e.category_list.category_list.map((function(e){return c.a.createElement("li",{key:e._id},c.a.createElement("a",{style:e._id===l?o:{},href:"/products/?category=".concat(e._id)},e.name))})))))))}));var xe=Object(o.b)((function(e){return{category_list:e.FetchCategories}}),{fetchProducts:ye})((function(e){var t=Object(O.h)();console.log(t);var a=Object(n.useState)([]),l=Object(D.a)(a,2),r=l[0],o=l[1],s=Object(n.useState)(!0),i=Object(D.a)(s,2),m=i[0],u=i[1],d=Object(n.useState)(""),E=Object(D.a)(d,2),p=E[0],f=E[1],b={color:"orange"};return Object(n.useEffect)((function(){!function(t){var a=j.GET_PRODUCT_LIST;a+=window.location.search,T.get(a).then((function(t){console.log("res",t),t.data.status?(o(t.data.data),e.fetchProducts(t.data.data)):console.log(t.data.message)})).catch((function(e){console.log(e)}))}()}),[]),c.a.createElement("div",{className:"container"},c.a.createElement("ul",{className:"breadcrumb"},c.a.createElement("li",null,"All Products")),c.a.createElement("div",{className:"row"},c.a.createElement(_e,null),c.a.createElement("div",{id:"content",className:"col-lg-9"},c.a.createElement("div",{className:"category-page-wrapper d-flex align-items-center"},c.a.createElement("div",{className:"d-flex align-items-center ml-1 mr-0"},c.a.createElement("div",{className:"btn-group btn-list-grid mr-0"},c.a.createElement("button",{type:"button",id:"list-view",className:"btn btn-default list",title:"List",onClick:function(){return u(!0)}},c.a.createElement("i",{className:"fa fa-th-list",style:m?b:{}})),c.a.createElement("button",{type:"button",id:"grid-view",className:"btn btn-default grid",title:"Grid",onClick:function(){return u(!1)}},c.a.createElement("i",{className:"fa fa-th",style:m?{}:b})))),c.a.createElement("div",{className:"d-flex ml-auto"},c.a.createElement("label",{className:"control-label"},"Sort By :"),c.a.createElement("div",{className:"sort-inner"},c.a.createElement("select",{value:p,id:"input-sort",className:"form-control",onChange:function(t){return function(t){f(t.target.value);var a=j.GET_PRODUCT_LIST+window.location.search;a+="&sortType=".concat(t.target.value),T.get(a).then((function(t){console.log("res",t),t.data.status?(o(t.data.data),e.fetchProducts(t.data.data)):console.log(t.data.message)})).catch((function(e){console.log(e)}))}(t)}},c.a.createElement("option",{value:""},"Default"),c.a.createElement("option",{value:"hightolowprice"},"Price (Low > High)"),c.a.createElement("option",{value:"lowtohighprice"},"Price (High > Low)"),c.a.createElement("option",{value:"newest"},"Newest First"),c.a.createElement("option",{value:"oldest"},"Newest Last"),c.a.createElement("option",{value:"maxsold"},"Maximum Sold"),c.a.createElement("option",{value:"minsold"},"Minimum Sold"))))),c.a.createElement("br",null),m?c.a.createElement("div",{className:"grid-list-wrapper"},r.map((function(e){return c.a.createElement("div",{className:"product-thumb row my-5",key:e._id},c.a.createElement("div",{className:"image product-imageblock col-3"},c.a.createElement("img",{src:"".concat(j.BASE_SERVER_URL,"/").concat(e.images[0]),alt:e.name,title:e.name,width:"200px",style:{minWidth:"200px"}})),c.a.createElement("div",{className:"caption product-detail col-8 offset-1 d-flex flex-column justify-content-center"},c.a.createElement("h2",{className:"h4"}," ",c.a.createElement(w.b,{to:"/product/".concat(e._id),title:"lorem ippsum dolor dummy"}," ",e.name," ")," "),c.a.createElement("p",{className:"product-desc"},"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Facere rem, doloribus placeat aliquam sint quo nostrum magnam odio distinctio ullam non architecto error ducimus vero molestiae praesentium illo eaque nisi!"),c.a.createElement("h2",{className:"productpage-price"},"Price:\xa0",e.salePrice?c.a.createElement(c.a.Fragment,null,c.a.createElement("span",{className:"strikethrough text-danger"},"Rs.",e.regularPrice),"\xa0",c.a.createElement("span",{className:"h4"},"Rs.",e.salePrice)):"Rs. ".concat(e.regularPrice)||!1),c.a.createElement(w.b,{to:"/product/".concat(e._id),type:"button",className:"btn btn-warning mt-2 w-25"},"Add to Cart")))}))):c.a.createElement("div",{className:"mt-2"},c.a.createElement("h2",{className:"h2 mb-3"},"New Arrivals"),c.a.createElement("div",{className:"d-flex align-items-start justify-content-start flex-wrap"},r.map((function(e){return c.a.createElement(U,{key:e.id,product:e})})))),c.a.createElement("div",{className:"category-page-wrapper"},c.a.createElement("div",{className:"result-inner"},"Showing 1 to 8 of 10 (2 Pages)"),c.a.createElement("div",{className:"pagination-inner"},c.a.createElement("ul",{className:"pagination"},c.a.createElement("li",{className:"active"},c.a.createElement("span",null,"1")),c.a.createElement("li",null,c.a.createElement("a",{href:"category.html"},"2")),c.a.createElement("li",null,c.a.createElement("a",{href:"category.html"},">")),c.a.createElement("li",null,c.a.createElement("a",{href:"category.html"},">|"))))))))})),Se=a(153),Ae=a.n(Se),je=a(47);var Te=Object(o.b)((function(e){return{categories:e.FetchCategories,Auth:e.Auth,modalLoading:e.Modal}}),{modal:ue,cartQuantity:X})((function(e){var t=Object(n.useState)({}),a=Object(D.a)(t,2),l=a[0],r=a[1],o=Object(n.useState)([]),s=Object(D.a)(o,2),i=s[0],m=s[1],u=Object(n.useState)((function(){return je.EditorState.createEmpty()})),d=Object(D.a)(u,2),E=d[0],p=d[1],f=Object(n.useState)(""),b=Object(D.a)(f,2),g=b[0],h=b[1],N=Object(n.useState)(!0),v=Object(D.a)(N,2),y=v[0],_=v[1],x=Object(n.useState)(!1),S=Object(D.a)(x,2),A=S[0],C=S[1],k=Object(n.useState)(!1),P=Object(D.a)(k,2),R=P[0],I=P[1],F=Object(O.h)().id;return Object(n.useEffect)((function(){console.log("fetching products+++++++++++"),T.get(j.GET_SINGLE_PRODUCT+"".concat(F)).then((function(e){if(console.log("++++++++++++++++++++product details+++++++++++++++++++",e.data),e.data.status){r(e.data.data),h(e.data.data.images[0]);var t=Object(je.convertFromRaw)(JSON.parse(e.data.data.description)),a=je.EditorState.createWithContent(t);p(a),m(e.data.data.category)}else console.log(e.data.message)})).catch((function(e){console.log(e)}))}),[]),c.a.createElement("div",{className:"container"},c.a.createElement("ul",{className:"breadcrumb"},c.a.createElement("li",null,c.a.createElement(w.b,{to:"/"},c.a.createElement("i",{className:"fa fa-home"}),c.a.createElement("span",{className:"ml-1"},"Home")))),c.a.createElement("div",{className:"row"},c.a.createElement(_e,null),c.a.createElement("div",{id:"content",className:"col-md-9 col-12"},A?c.a.createElement("div",{className:"alert alert-danger",role:"alert"},"Sorry This product is not available for your default address. Change/set your default address at ",c.a.createElement(w.b,{to:"/profile",className:"text-primary font-weight-bold"},"Profile")," page to get the product."):c.a.createElement(c.a.Fragment,null),c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-sm-6"},c.a.createElement("div",{className:"thumbnails"},c.a.createElement("div",{className:"mb-2"},c.a.createElement(w.b,{className:"thumbnail",to:"#"},g?c.a.createElement("img",{src:g?"".concat(j.BASE_SERVER_URL).concat(g):"/blog/blog_1.png",style:{height:"300px"},className:" d-block mx-auto",title:l.name,alt:"lorem ippsum dolor dummy"}):c.a.createElement(V.a,{height:100}))),c.a.createElement("div",{id:"product-thumbnail"},c.a.createElement(L.a,{id:"product-thumbnail",className:"owl-theme",items:"4",autoplay:!0,loop:!0,dots:!0,margin:3},l.images&&l.images.length>0&&l.images.map((function(e,t){return c.a.createElement("div",{className:"item",key:t,onClick:function(){return h(e)}}," ",c.a.createElement("img",{src:l.images?"".concat(j.BASE_SERVER_URL).concat(e):Ae.a,alt:"product1",className:"img-responsive"})," ")})))))),c.a.createElement("div",{className:"col-sm-6 d-flex flex-column justify-content-center"},c.a.createElement("h1",{className:"productpage-title h1 mb-2"},l.name||c.a.createElement(V.a,null)),c.a.createElement("ul",{className:"list-unstyled productinfo-details-top ml-1"},c.a.createElement("li",null,c.a.createElement("h2",{className:"productpage-price"},"Price:\xa0",l.salePrice?c.a.createElement(c.a.Fragment,null,c.a.createElement("span",{className:"strikethrough text-danger"},"Rs.",l.regularPrice),"\xa0",c.a.createElement("span",{className:"h4"},"Rs.",l.salePrice)):l.regularPrice||c.a.createElement(V.a,null)),l.properties?c.a.createElement(c.a.Fragment,null,l.properties.map((function(e,t){return c.a.createElement("p",{key:t,style:{margin:"0px"}},e.value," ",e.type)}))):c.a.createElement(V.a,null))),c.a.createElement("hr",{className:"my-2"}),c.a.createElement("ul",{className:"list-unstyled product_info m-0 ml-1"},l.isActive?c.a.createElement("li",null,c.a.createElement("label",null,"Availability:"),c.a.createElement("span",null," In Stock")):c.a.createElement(V.a,null),!1===l.isActive&&c.a.createElement("li",null,c.a.createElement("label",null,"Availability:"),c.a.createElement("span",null," In Stock"))),c.a.createElement("div",{className:"categoryButton"},i.map((function(e,t){return c.a.createElement("a",{className:"mr-2",href:"/products/?category=".concat(e),key:t,style:{textTransform:"capitalize"}},c.a.createElement("span",{className:"badge badge-pill badge-warning p-2"},e.name))}))),c.a.createElement("hr",{className:"my-2"}),c.a.createElement("div",{id:"product",className:"mt-2 ml-1"},c.a.createElement("div",{className:"form-group"},R?c.a.createElement("div",{className:"alert alert-success w-75",role:"alert"},"Successfully added to the cart"):"",c.a.createElement("button",{type:"button",id:"button-cart",onClick:function(){e.Auth.isLoggedIn?e.Auth.userdetails.defaultAddress?T.post(j.ADD_TO_CART,{product_id:l._id}).then((function(t){console.log(t),t.data.status?(e.cartQuantity(t.data.data.cart[0].count),I(!0),setTimeout((function(){return I(!1)}),3e3)):(_(!1),C(!0),console.log(t.data))})).catch((function(e){console.log(e)})):(console.log("No default address set"),C(!0)):e.modal(!0)},className:"btn btn-primary btn-lg btn-block addtocart m-0 px-4 py-2 w-75",style:{fontSize:"1rem"},disabled:!y},"Add to Cart"))))),c.a.createElement("div",{className:"productinfo-tab"},c.a.createElement("ul",{className:"nav nav-tabs"},c.a.createElement("li",{className:"active h4"},c.a.createElement(w.b,{to:"#tab-description","data-toggle":"tab"},"Description"))),c.a.createElement("div",{className:"tab-content"},c.a.createElement("div",{className:"tab-pane active",id:"tab-description"},c.a.createElement("div",{className:"cpt_product_description "},c.a.createElement("div",null,c.a.createElement(je.Editor,{editorState:E,readOnly:!0})))))),c.a.createElement("div",{className:"productinfo-tab"},c.a.createElement("ul",{className:"nav nav-tabs"},c.a.createElement("li",{className:"active h4"},c.a.createElement(w.b,{to:"#tab-description","data-toggle":"tab"},"Product Video"))),c.a.createElement("div",{class:"youtube-video-container"},l.productVideo&&c.a.createElement("iframe",{class:"youtube-video",width:"100%",frameborder:"0",src:"https://www.youtube.com/embed/".concat(l.productVideo,"?controls=1")}))))))}));a(339);var Ce=Object(o.b)((function(e){return{Auth:e.Auth}}),{loading:be})((function(e){var t=e.loading,a=Object(n.useState)(!1),l=Object(D.a)(a,2),r=l[0],o=l[1],s=Object(n.useState)(!0),i=Object(D.a)(s,2),m=i[0],u=i[1],d=Object(n.useState)(new Array(6).fill("")),E=Object(D.a)(d,2),p=E[0],f=E[1],b=Object(n.useState)(!1),g=Object(D.a)(b,2),h=(g[0],g[1],Object(n.useState)()),N=Object(D.a)(h,2),v=N[0],y=N[1],_=Object(n.useState)(),x=Object(D.a)(_,2),S=x[0],A=x[1],C=Object(n.useState)(),k=Object(D.a)(C,2),P=k[0],R=k[1],I=Object(O.g)(),L=function(){var e=Object(K.a)(J.a.mark((function e(){var a;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t(!0),S===P){e.next=5;break}return alert("sorry, please match both of the passwords"),e.abrupt("return");case 5:return e.next=7,T.post(j.CHANGE_PASSWORD,{phoneNumber:v,otpnumber:p.join(""),newpassword:S});case 7:a=e.sent,console.log(a),a.data.status?(alert(a.data.message),u(!0),o(!1),I.push("/")):alert(a.data.message),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0);case 15:return e.prev=15,t(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[0,12,15,18]])})));return function(){return e.apply(this,arguments)}}(),F=function(){var e=Object(K.a)(J.a.mark((function e(){var a;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t(!0),e.next=4,T.post(j.RESEND_OTP_PASSWORD_CHANGE,{phoneNumber:v});case 4:a=e.sent,console.log(a),a.data.status?alert(a.data.otp):alert(a.data.message),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:return e.prev=12,t(),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[0,9,12,15]])})));return function(){return e.apply(this,arguments)}}(),U=function(){var e=Object(K.a)(J.a.mark((function e(){var a;return J.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t(!0),e.next=4,T.post(j.FORGOT_PASSWORD,{phoneNumber:v});case 4:a=e.sent,console.log(a),a.data.status?(o(!0),y(a.data.phoneNumber),alert(a.data.otp),u(!1)):console.log(a.data.message),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),console.log(e.t0);case 12:return e.prev=12,t(),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[0,9,12,15]])})));return function(){return e.apply(this,arguments)}}();return c.a.createElement(c.a.Fragment,null,r&&c.a.createElement("div",{className:"otp-changepassword"},c.a.createElement("div",{className:"validateotp-field"},c.a.createElement("div",{className:"validateotp-field-inner"},c.a.createElement("h3",{className:"h3 text-center mb-3"},"Enter your OTP to validate & change your password"),c.a.createElement("div",{className:"row w-50 mx-auto"},p.map((function(e,t){return c.a.createElement("div",{className:"col-2 px-2",key:t},c.a.createElement("input",{className:"otp-input w-100 text-center",type:"text",name:"otp",maxLength:"1",value:e,onChange:function(e){return function(e,t){if(isNaN(e.value))return!1;f(Object(ee.a)(p.map((function(a,n){return n===t?e.value:a})))),e.parentElement.nextSibling&&e.parentElement.nextSibling.firstChild.focus()}(e.target,t)},onFocus:function(e){return e.target.select()},style:{width:"10%",fontSize:"1.2rem"}}))}))))),c.a.createElement("div",{className:"changepassword"},c.a.createElement("div",{className:"changepassword-inner"},c.a.createElement("div",{className:"input-group input-group-sm mb-3"},c.a.createElement("div",{className:"input-group-prepend"},c.a.createElement("span",{className:"input-group-text changepassword-span",id:"inputGroup-sizing-sm"},"New Password")),c.a.createElement("input",{type:"password",className:"form-control","aria-label":"Sizing example input","aria-describedby":"inputGroup-sizing-sm",onChange:function(e){A(e.target.value)}})),c.a.createElement("br",null),c.a.createElement("div",{className:"input-group input-group-sm mb-3"},c.a.createElement("div",{className:"input-group-prepend"},c.a.createElement("span",{className:"input-group-text changepassword-span",id:"inputGroup-sizing-sm"},"Confirm New Password")),c.a.createElement("input",{type:"password",className:"form-control","aria-label":"Sizing example input","aria-describedby":"inputGroup-sizing-sm",onChange:function(e){R(e.target.value)}})),c.a.createElement("button",{type:"button",onClick:function(){L()},className:"btn btn-success changepassword-btn"},"Change Password")),c.a.createElement("div",{className:"resend-otp"},c.a.createElement("p",{className:"mt-3 text-center"},"Forgot your OTP?\xa0",c.a.createElement(w.b,{className:"text-primary font-weight-bold",style:{cursor:"pointer"},to:"#",onClick:function(){return F()}},"Resend OTP"))))),m&&c.a.createElement("div",{className:"forgotpassword"},c.a.createElement("div",{className:"forgotpassword-header"},c.a.createElement("p",null,"Forgot your password, you can change it here.")),c.a.createElement("div",{className:"forgotpassword-inner"},c.a.createElement("div",{className:"input-group input-group-sm mb-3"},c.a.createElement("input",{type:"number",className:"form-control",placeholder:"Enter your registered mobile number","aria-label":"Sizing example input","aria-describedby":"inputGroup-sizing-sm",onChange:function(e){y(e.target.value)}})),c.a.createElement("button",{type:"button",onClick:function(){return U()},className:"btn btn-success"},"Send me the otp"))))}));a(340);function ke(){return c.a.createElement("a",{href:"https://api.whatsapp.com/send?phone=+919563152391"},c.a.createElement("div",{className:"whatsapp-button-wrapper"},c.a.createElement("img",{src:a(341)})))}a(342);a(343);var Pe=Object(o.b)((function(e){return{}}),{login:C,logout:k,setUserDetails:P,fetchCategories:function(e){return{type:"FETCH_CATEGORIES",payload:e}}})((function(e){var t=localStorage.getItem("Token");return t&&"null"!==t&&"undefined"!==t&&e.login(t),Object(n.useEffect)((function(){t&&"null"!==t&&"undefined"!==t&&T.get(j.GET_USER_DETAILS).then((function(t){console.log(t.data.data),t.data.status?e.setUserDetails(t.data.data):e.logout()})).catch((function(t){console.log(t),e.logout()})),T.get(j.GET_CATEGORY_LIST).then((function(t){console.log(t),t.data.status?e.fetchCategories(t.data.data):console.log(t.data.message)})).catch((function(e){console.log(e)}))}),[]),c.a.createElement(c.a.Fragment,null,c.a.createElement(w.a,null,c.a.createElement(de,null),c.a.createElement(ve,null),c.a.createElement(O.d,null,c.a.createElement(O.b,{path:"/",exact:!0},c.a.createElement(Y,null)),c.a.createElement(O.b,{path:"/privacy"},c.a.createElement(z,null)),c.a.createElement(O.b,{path:"/products"},c.a.createElement(xe,null)),c.a.createElement(O.b,{path:"/product/:id"},c.a.createElement(Te,null)),c.a.createElement(O.b,{path:"/terms"},c.a.createElement(se,null)),c.a.createElement(O.b,{exact:!0,path:"/forgotpassword"},c.a.createElement(Ce,null)),c.a.createElement(x,{path:"/"},c.a.createElement(oe,{location:e.location})),c.a.createElement(O.b,null,c.a.createElement(O.a,{to:"/"})))),c.a.createElement(R,null),c.a.createElement(ke,null))}));r.a.render(c.a.createElement(o.a,{store:y},c.a.createElement(Pe,null)),document.getElementById("root"))}},[[156,1,2]]]);
//# sourceMappingURL=main.578cb1b1.chunk.js.map